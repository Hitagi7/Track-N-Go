function Ng(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function jg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ag={exports:{}},su={},Rg={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ha=Symbol.for("react.element"),Z_=Symbol.for("react.portal"),X_=Symbol.for("react.fragment"),ew=Symbol.for("react.strict_mode"),tw=Symbol.for("react.profiler"),nw=Symbol.for("react.provider"),rw=Symbol.for("react.context"),iw=Symbol.for("react.forward_ref"),sw=Symbol.for("react.suspense"),ow=Symbol.for("react.memo"),aw=Symbol.for("react.lazy"),H2=Symbol.iterator;function lw(t){return t===null||typeof t!="object"?null:(t=H2&&t[H2]||t["@@iterator"],typeof t=="function"?t:null)}var Dg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lg=Object.assign,bg={};function io(t,e,n){this.props=t,this.context=e,this.refs=bg,this.updater=n||Dg}io.prototype.isReactComponent={};io.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};io.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Vg(){}Vg.prototype=io.prototype;function hf(t,e,n){this.props=t,this.context=e,this.refs=bg,this.updater=n||Dg}var ff=hf.prototype=new Vg;ff.constructor=hf;Lg(ff,io.prototype);ff.isPureReactComponent=!0;var z2=Array.isArray,Mg=Object.prototype.hasOwnProperty,pf={current:null},Og={key:!0,ref:!0,__self:!0,__source:!0};function Fg(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Mg.call(e,r)&&!Og.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Ha,type:t,key:s,ref:o,props:i,_owner:pf.current}}function cw(t,e){return{$$typeof:Ha,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ha}function uw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $2=/\/+/g;function rd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uw(""+t.key):e.toString(36)}function Gl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ha:case Z_:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+rd(o,0):r,z2(i)?(n="",t!=null&&(n=t.replace($2,"$&/")+"/"),Gl(i,e,n,"",function(d){return d})):i!=null&&(mf(i)&&(i=cw(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($2,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",z2(t))for(var c=0;c<t.length;c++){s=t[c];var u=r+rd(s,c);o+=Gl(s,e,n,u,i)}else if(u=lw(t),typeof u=="function")for(t=u.call(t),c=0;!(s=t.next()).done;)s=s.value,u=r+rd(s,c++),o+=Gl(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Il(t,e,n){if(t==null)return t;var r=[],i=0;return Gl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function dw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},Ql={transition:null},hw={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:Ql,ReactCurrentOwner:pf};ye.Children={map:Il,forEach:function(t,e,n){Il(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Il(t,function(){e++}),e},toArray:function(t){return Il(t,function(e){return e})||[]},only:function(t){if(!mf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=io;ye.Fragment=X_;ye.Profiler=tw;ye.PureComponent=hf;ye.StrictMode=ew;ye.Suspense=sw;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hw;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Lg({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=pf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)Mg.call(e,u)&&!Og.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:Ha,type:t.type,key:i,ref:s,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:rw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nw,_context:t},t.Consumer=t};ye.createElement=Fg;ye.createFactory=function(t){var e=Fg.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:iw,render:t}};ye.isValidElement=mf;ye.lazy=function(t){return{$$typeof:aw,_payload:{_status:-1,_result:t},_init:dw}};ye.memo=function(t,e){return{$$typeof:ow,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Ql.transition;Ql.transition={};try{t()}finally{Ql.transition=e}};ye.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ye.useCallback=function(t,e){return Ft.current.useCallback(t,e)};ye.useContext=function(t){return Ft.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};ye.useEffect=function(t,e){return Ft.current.useEffect(t,e)};ye.useId=function(){return Ft.current.useId()};ye.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return Ft.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};ye.useRef=function(t){return Ft.current.useRef(t)};ye.useState=function(t){return Ft.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return Ft.current.useTransition()};ye.version="18.2.0";Rg.exports=ye;var D=Rg.exports;const Ug=jg(D),fw=Ng({__proto__:null,default:Ug},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw=D,mw=Symbol.for("react.element"),gw=Symbol.for("react.fragment"),vw=Object.prototype.hasOwnProperty,yw=pw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_w={key:!0,ref:!0,__self:!0,__source:!0};function Bg(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)vw.call(e,r)&&!_w.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:mw,type:t,key:s,ref:o,props:i,_owner:yw.current}}su.Fragment=gw;su.jsx=Bg;su.jsxs=Bg;Ag.exports=su;var a=Ag.exports,zd={},Hg={exports:{}},rn={},zg={exports:{}},$g={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,ee){var ne=U.length;U.push(ee);e:for(;0<ne;){var fe=ne-1>>>1,he=U[fe];if(0<i(he,ee))U[fe]=ee,U[ne]=he,ne=fe;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var ee=U[0],ne=U.pop();if(ne!==ee){U[0]=ne;e:for(var fe=0,he=U.length,_e=he>>>1;fe<_e;){var ge=2*(fe+1)-1,Ke=U[ge],we=ge+1,lt=U[we];if(0>i(Ke,ne))we<he&&0>i(lt,Ke)?(U[fe]=lt,U[we]=ne,fe=we):(U[fe]=Ke,U[ge]=ne,fe=ge);else if(we<he&&0>i(lt,ne))U[fe]=lt,U[we]=ne,fe=we;else break e}}return ee}function i(U,ee){var ne=U.sortIndex-ee.sortIndex;return ne!==0?ne:U.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],d=[],f=1,m=null,g=3,T=!1,S=!1,N=!1,A=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(U){for(var ee=n(d);ee!==null;){if(ee.callback===null)r(d);else if(ee.startTime<=U)r(d),ee.sortIndex=ee.expirationTime,e(u,ee);else break;ee=n(d)}}function b(U){if(N=!1,k(U),!S)if(n(u)!==null)S=!0,X(B);else{var ee=n(d);ee!==null&&Je(b,ee.startTime-U)}}function B(U,ee){S=!1,N&&(N=!1,C(y),y=-1),T=!0;var ne=g;try{for(k(ee),m=n(u);m!==null&&(!(m.expirationTime>ee)||U&&!P());){var fe=m.callback;if(typeof fe=="function"){m.callback=null,g=m.priorityLevel;var he=fe(m.expirationTime<=ee);ee=t.unstable_now(),typeof he=="function"?m.callback=he:m===n(u)&&r(u),k(ee)}else r(u);m=n(u)}if(m!==null)var _e=!0;else{var ge=n(d);ge!==null&&Je(b,ge.startTime-ee),_e=!1}return _e}finally{m=null,g=ne,T=!1}}var O=!1,v=null,y=-1,E=5,w=-1;function P(){return!(t.unstable_now()-w<E)}function j(){if(v!==null){var U=t.unstable_now();w=U;var ee=!0;try{ee=v(!0,U)}finally{ee?I():(O=!1,v=null)}}else O=!1}var I;if(typeof x=="function")I=function(){x(j)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Me=K.port2;K.port1.onmessage=j,I=function(){Me.postMessage(null)}}else I=function(){A(j,0)};function X(U){v=U,O||(O=!0,I())}function Je(U,ee){y=A(function(){U(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){S||T||(S=!0,X(B))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(U){switch(g){case 1:case 2:case 3:var ee=3;break;default:ee=g}var ne=g;g=ee;try{return U()}finally{g=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,ee){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ne=g;g=U;try{return ee()}finally{g=ne}},t.unstable_scheduleCallback=function(U,ee,ne){var fe=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?fe+ne:fe):ne=fe,U){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=ne+he,U={id:f++,callback:ee,priorityLevel:U,startTime:ne,expirationTime:he,sortIndex:-1},ne>fe?(U.sortIndex=ne,e(d,U),n(u)===null&&U===n(d)&&(N?(C(y),y=-1):N=!0,Je(b,ne-fe))):(U.sortIndex=he,e(u,U),S||T||(S=!0,X(B))),U},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(U){var ee=g;return function(){var ne=g;g=ee;try{return U.apply(this,arguments)}finally{g=ne}}}})($g);zg.exports=$g;var ww=zg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg=D,nn=ww;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qg=new Set,fa={};function $i(t,e){Us(t,e),Us(t+"Capture",e)}function Us(t,e){for(fa[t]=e,t=0;t<e.length;t++)qg.add(e[t])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$d=Object.prototype.hasOwnProperty,Ew=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W2={},q2={};function xw(t){return $d.call(q2,t)?!0:$d.call(W2,t)?!1:Ew.test(t)?q2[t]=!0:(W2[t]=!0,!1)}function Cw(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Tw(t,e,n,r){if(e===null||typeof e>"u"||Cw(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xt[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xt[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xt[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xt[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xt[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xt[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xt[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xt[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xt[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var gf=/[\-:]([a-z])/g;function vf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gf,vf);xt[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gf,vf);xt[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gf,vf);xt[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});xt.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function yf(t,e,n,r){var i=xt.hasOwnProperty(e)?xt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Tw(e,n,i,r)&&(n=null),r||i===null?xw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pr=Wg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kl=Symbol.for("react.element"),ms=Symbol.for("react.portal"),gs=Symbol.for("react.fragment"),_f=Symbol.for("react.strict_mode"),Wd=Symbol.for("react.profiler"),Kg=Symbol.for("react.provider"),Gg=Symbol.for("react.context"),wf=Symbol.for("react.forward_ref"),qd=Symbol.for("react.suspense"),Kd=Symbol.for("react.suspense_list"),Ef=Symbol.for("react.memo"),Nr=Symbol.for("react.lazy"),Qg=Symbol.for("react.offscreen"),K2=Symbol.iterator;function Po(t){return t===null||typeof t!="object"?null:(t=K2&&t[K2]||t["@@iterator"],typeof t=="function"?t:null)}var Be=Object.assign,id;function Ho(t){if(id===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);id=e&&e[1]||""}return`
`+id+t}var sd=!1;function od(t,e){if(!t||sd)return"";sd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,c=s.length-1;1<=o&&0<=c&&i[o]!==s[c];)c--;for(;1<=o&&0<=c;o--,c--)if(i[o]!==s[c]){if(o!==1||c!==1)do if(o--,c--,0>c||i[o]!==s[c]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=c);break}}}finally{sd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ho(t):""}function Sw(t){switch(t.tag){case 5:return Ho(t.type);case 16:return Ho("Lazy");case 13:return Ho("Suspense");case 19:return Ho("SuspenseList");case 0:case 2:case 15:return t=od(t.type,!1),t;case 11:return t=od(t.type.render,!1),t;case 1:return t=od(t.type,!0),t;default:return""}}function Gd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gs:return"Fragment";case ms:return"Portal";case Wd:return"Profiler";case _f:return"StrictMode";case qd:return"Suspense";case Kd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gg:return(t.displayName||"Context")+".Consumer";case Kg:return(t._context.displayName||"Context")+".Provider";case wf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ef:return e=t.displayName||null,e!==null?e:Gd(t.type)||"Memo";case Nr:e=t._payload,t=t._init;try{return Gd(t(e))}catch{}}return null}function Iw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gd(e);case 8:return e===_f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kw(t){var e=Yg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pl(t){t._valueTracker||(t._valueTracker=kw(t))}function Jg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Yg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qd(t,e){var n=e.checked;return Be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function G2(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Zg(t,e){e=e.checked,e!=null&&yf(t,"checked",e,!1)}function Yd(t,e){Zg(t,e);var n=Zr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jd(t,e.type,Zr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Q2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jd(t,e,n){(e!=="number"||mc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var zo=Array.isArray;function js(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Zd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Y2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(zo(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zr(n)}}function Xg(t,e){var n=Zr(e.value),r=Zr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function J2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function e1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?e1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Nl,t1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Nl=Nl||document.createElement("div"),Nl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Nl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pw=["Webkit","ms","Moz","O"];Object.keys(Zo).forEach(function(t){Pw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zo[e]=Zo[t]})});function n1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zo.hasOwnProperty(t)&&Zo[t]?(""+e).trim():e+"px"}function r1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=n1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Nw=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eh(t,e){if(e){if(Nw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function th(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nh=null;function xf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rh=null,As=null,Rs=null;function Z2(t){if(t=Wa(t)){if(typeof rh!="function")throw Error($(280));var e=t.stateNode;e&&(e=uu(e),rh(t.stateNode,t.type,e))}}function i1(t){As?Rs?Rs.push(t):Rs=[t]:As=t}function s1(){if(As){var t=As,e=Rs;if(Rs=As=null,Z2(t),e)for(t=0;t<e.length;t++)Z2(e[t])}}function o1(t,e){return t(e)}function a1(){}var ad=!1;function l1(t,e,n){if(ad)return t(e,n);ad=!0;try{return o1(t,e,n)}finally{ad=!1,(As!==null||Rs!==null)&&(a1(),s1())}}function ma(t,e){var n=t.stateNode;if(n===null)return null;var r=uu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var ih=!1;if(ar)try{var No={};Object.defineProperty(No,"passive",{get:function(){ih=!0}}),window.addEventListener("test",No,No),window.removeEventListener("test",No,No)}catch{ih=!1}function jw(t,e,n,r,i,s,o,c,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var Xo=!1,gc=null,vc=!1,sh=null,Aw={onError:function(t){Xo=!0,gc=t}};function Rw(t,e,n,r,i,s,o,c,u){Xo=!1,gc=null,jw.apply(Aw,arguments)}function Dw(t,e,n,r,i,s,o,c,u){if(Rw.apply(this,arguments),Xo){if(Xo){var d=gc;Xo=!1,gc=null}else throw Error($(198));vc||(vc=!0,sh=d)}}function Wi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function c1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function X2(t){if(Wi(t)!==t)throw Error($(188))}function Lw(t){var e=t.alternate;if(!e){if(e=Wi(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return X2(i),t;if(s===r)return X2(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function u1(t){return t=Lw(t),t!==null?d1(t):null}function d1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=d1(t);if(e!==null)return e;t=t.sibling}return null}var h1=nn.unstable_scheduleCallback,ep=nn.unstable_cancelCallback,bw=nn.unstable_shouldYield,Vw=nn.unstable_requestPaint,Qe=nn.unstable_now,Mw=nn.unstable_getCurrentPriorityLevel,Cf=nn.unstable_ImmediatePriority,f1=nn.unstable_UserBlockingPriority,yc=nn.unstable_NormalPriority,Ow=nn.unstable_LowPriority,p1=nn.unstable_IdlePriority,ou=null,On=null;function Fw(t){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(ou,t,void 0,(t.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:Hw,Uw=Math.log,Bw=Math.LN2;function Hw(t){return t>>>=0,t===0?32:31-(Uw(t)/Bw|0)|0}var jl=64,Al=4194304;function $o(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _c(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var c=o&~i;c!==0?r=$o(c):(s&=o,s!==0&&(r=$o(s)))}else o=n&~i,o!==0?r=$o(o):s!==0&&(r=$o(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Sn(e),i=1<<n,r|=t[n],e&=~i;return r}function zw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $w(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Sn(s),c=1<<o,u=i[o];u===-1?(!(c&n)||c&r)&&(i[o]=zw(c,e)):u<=e&&(t.expiredLanes|=c),s&=~c}}function oh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function m1(){var t=jl;return jl<<=1,!(jl&4194240)&&(jl=64),t}function ld(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function za(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sn(e),t[e]=n}function Ww(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Sn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Tf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Sn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ie=0;function g1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var v1,Sf,y1,_1,w1,ah=!1,Rl=[],Ur=null,Br=null,Hr=null,ga=new Map,va=new Map,Ar=[],qw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tp(t,e){switch(t){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":ga.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":va.delete(e.pointerId)}}function jo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Wa(e),e!==null&&Sf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Kw(t,e,n,r,i){switch(e){case"focusin":return Ur=jo(Ur,t,e,n,r,i),!0;case"dragenter":return Br=jo(Br,t,e,n,r,i),!0;case"mouseover":return Hr=jo(Hr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ga.set(s,jo(ga.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,va.set(s,jo(va.get(s)||null,t,e,n,r,i)),!0}return!1}function E1(t){var e=Ei(t.target);if(e!==null){var n=Wi(e);if(n!==null){if(e=n.tag,e===13){if(e=c1(n),e!==null){t.blockedOn=e,w1(t.priority,function(){y1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);nh=r,n.target.dispatchEvent(r),nh=null}else return e=Wa(n),e!==null&&Sf(e),t.blockedOn=n,!1;e.shift()}return!0}function np(t,e,n){Yl(t)&&n.delete(e)}function Gw(){ah=!1,Ur!==null&&Yl(Ur)&&(Ur=null),Br!==null&&Yl(Br)&&(Br=null),Hr!==null&&Yl(Hr)&&(Hr=null),ga.forEach(np),va.forEach(np)}function Ao(t,e){t.blockedOn===e&&(t.blockedOn=null,ah||(ah=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,Gw)))}function ya(t){function e(i){return Ao(i,t)}if(0<Rl.length){Ao(Rl[0],t);for(var n=1;n<Rl.length;n++){var r=Rl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ur!==null&&Ao(Ur,t),Br!==null&&Ao(Br,t),Hr!==null&&Ao(Hr,t),ga.forEach(e),va.forEach(e),n=0;n<Ar.length;n++)r=Ar[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ar.length&&(n=Ar[0],n.blockedOn===null);)E1(n),n.blockedOn===null&&Ar.shift()}var Ds=pr.ReactCurrentBatchConfig,wc=!0;function Qw(t,e,n,r){var i=Ie,s=Ds.transition;Ds.transition=null;try{Ie=1,If(t,e,n,r)}finally{Ie=i,Ds.transition=s}}function Yw(t,e,n,r){var i=Ie,s=Ds.transition;Ds.transition=null;try{Ie=4,If(t,e,n,r)}finally{Ie=i,Ds.transition=s}}function If(t,e,n,r){if(wc){var i=lh(t,e,n,r);if(i===null)yd(t,e,r,Ec,n),tp(t,r);else if(Kw(i,t,e,n,r))r.stopPropagation();else if(tp(t,r),e&4&&-1<qw.indexOf(t)){for(;i!==null;){var s=Wa(i);if(s!==null&&v1(s),s=lh(t,e,n,r),s===null&&yd(t,e,r,Ec,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else yd(t,e,r,null,n)}}var Ec=null;function lh(t,e,n,r){if(Ec=null,t=xf(r),t=Ei(t),t!==null)if(e=Wi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=c1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ec=t,null}function x1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mw()){case Cf:return 1;case f1:return 4;case yc:case Ow:return 16;case p1:return 536870912;default:return 16}default:return 16}}var Mr=null,kf=null,Jl=null;function C1(){if(Jl)return Jl;var t,e=kf,n=e.length,r,i="value"in Mr?Mr.value:Mr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Jl=i.slice(t,1<r?1-r:void 0)}function Zl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dl(){return!0}function rp(){return!1}function sn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dl:rp,this.isPropagationStopped=rp,this}return Be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),e}var so={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pf=sn(so),$a=Be({},so,{view:0,detail:0}),Jw=sn($a),cd,ud,Ro,au=Be({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ro&&(Ro&&t.type==="mousemove"?(cd=t.screenX-Ro.screenX,ud=t.screenY-Ro.screenY):ud=cd=0,Ro=t),cd)},movementY:function(t){return"movementY"in t?t.movementY:ud}}),ip=sn(au),Zw=Be({},au,{dataTransfer:0}),Xw=sn(Zw),eE=Be({},$a,{relatedTarget:0}),dd=sn(eE),tE=Be({},so,{animationName:0,elapsedTime:0,pseudoElement:0}),nE=sn(tE),rE=Be({},so,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iE=sn(rE),sE=Be({},so,{data:0}),sp=sn(sE),oE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lE[t])?!!e[t]:!1}function Nf(){return cE}var uE=Be({},$a,{key:function(t){if(t.key){var e=oE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nf,charCode:function(t){return t.type==="keypress"?Zl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dE=sn(uE),hE=Be({},au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),op=sn(hE),fE=Be({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nf}),pE=sn(fE),mE=Be({},so,{propertyName:0,elapsedTime:0,pseudoElement:0}),gE=sn(mE),vE=Be({},au,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yE=sn(vE),_E=[9,13,27,32],jf=ar&&"CompositionEvent"in window,ea=null;ar&&"documentMode"in document&&(ea=document.documentMode);var wE=ar&&"TextEvent"in window&&!ea,T1=ar&&(!jf||ea&&8<ea&&11>=ea),ap=" ",lp=!1;function S1(t,e){switch(t){case"keyup":return _E.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vs=!1;function EE(t,e){switch(t){case"compositionend":return I1(e);case"keypress":return e.which!==32?null:(lp=!0,ap);case"textInput":return t=e.data,t===ap&&lp?null:t;default:return null}}function xE(t,e){if(vs)return t==="compositionend"||!jf&&S1(t,e)?(t=C1(),Jl=kf=Mr=null,vs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return T1&&e.locale!=="ko"?null:e.data;default:return null}}var CE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CE[t.type]:e==="textarea"}function k1(t,e,n,r){i1(r),e=xc(e,"onChange"),0<e.length&&(n=new Pf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ta=null,_a=null;function TE(t){O1(t,0)}function lu(t){var e=ws(t);if(Jg(e))return t}function SE(t,e){if(t==="change")return e}var P1=!1;if(ar){var hd;if(ar){var fd="oninput"in document;if(!fd){var up=document.createElement("div");up.setAttribute("oninput","return;"),fd=typeof up.oninput=="function"}hd=fd}else hd=!1;P1=hd&&(!document.documentMode||9<document.documentMode)}function dp(){ta&&(ta.detachEvent("onpropertychange",N1),_a=ta=null)}function N1(t){if(t.propertyName==="value"&&lu(_a)){var e=[];k1(e,_a,t,xf(t)),l1(TE,e)}}function IE(t,e,n){t==="focusin"?(dp(),ta=e,_a=n,ta.attachEvent("onpropertychange",N1)):t==="focusout"&&dp()}function kE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lu(_a)}function PE(t,e){if(t==="click")return lu(e)}function NE(t,e){if(t==="input"||t==="change")return lu(e)}function jE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:jE;function wa(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$d.call(e,i)||!Pn(t[i],e[i]))return!1}return!0}function hp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fp(t,e){var n=hp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hp(n)}}function j1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?j1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function A1(){for(var t=window,e=mc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mc(t.document)}return e}function Af(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AE(t){var e=A1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&j1(n.ownerDocument.documentElement,n)){if(r!==null&&Af(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=fp(n,s);var o=fp(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var RE=ar&&"documentMode"in document&&11>=document.documentMode,ys=null,ch=null,na=null,uh=!1;function pp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;uh||ys==null||ys!==mc(r)||(r=ys,"selectionStart"in r&&Af(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),na&&wa(na,r)||(na=r,r=xc(ch,"onSelect"),0<r.length&&(e=new Pf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ys)))}function Ll(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _s={animationend:Ll("Animation","AnimationEnd"),animationiteration:Ll("Animation","AnimationIteration"),animationstart:Ll("Animation","AnimationStart"),transitionend:Ll("Transition","TransitionEnd")},pd={},R1={};ar&&(R1=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function cu(t){if(pd[t])return pd[t];if(!_s[t])return t;var e=_s[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in R1)return pd[t]=e[n];return t}var D1=cu("animationend"),L1=cu("animationiteration"),b1=cu("animationstart"),V1=cu("transitionend"),M1=new Map,mp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ii(t,e){M1.set(t,e),$i(e,[t])}for(var md=0;md<mp.length;md++){var gd=mp[md],DE=gd.toLowerCase(),LE=gd[0].toUpperCase()+gd.slice(1);ii(DE,"on"+LE)}ii(D1,"onAnimationEnd");ii(L1,"onAnimationIteration");ii(b1,"onAnimationStart");ii("dblclick","onDoubleClick");ii("focusin","onFocus");ii("focusout","onBlur");ii(V1,"onTransitionEnd");Us("onMouseEnter",["mouseout","mouseover"]);Us("onMouseLeave",["mouseout","mouseover"]);Us("onPointerEnter",["pointerout","pointerover"]);Us("onPointerLeave",["pointerout","pointerover"]);$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$i("onBeforeInput",["compositionend","keypress","textInput","paste"]);$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wo));function gp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Dw(r,e,void 0,t),t.currentTarget=null}function O1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var c=r[o],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==s&&i.isPropagationStopped())break e;gp(i,c,d),s=u}else for(o=0;o<r.length;o++){if(c=r[o],u=c.instance,d=c.currentTarget,c=c.listener,u!==s&&i.isPropagationStopped())break e;gp(i,c,d),s=u}}}if(vc)throw t=sh,vc=!1,sh=null,t}function Re(t,e){var n=e[mh];n===void 0&&(n=e[mh]=new Set);var r=t+"__bubble";n.has(r)||(F1(e,t,2,!1),n.add(r))}function vd(t,e,n){var r=0;e&&(r|=4),F1(n,t,r,e)}var bl="_reactListening"+Math.random().toString(36).slice(2);function Ea(t){if(!t[bl]){t[bl]=!0,qg.forEach(function(n){n!=="selectionchange"&&(bE.has(n)||vd(n,!1,t),vd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bl]||(e[bl]=!0,vd("selectionchange",!1,e))}}function F1(t,e,n,r){switch(x1(e)){case 1:var i=Qw;break;case 4:i=Yw;break;default:i=If}n=i.bind(null,e,n,t),i=void 0,!ih||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function yd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;c!==null;){if(o=Ei(c),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}c=c.parentNode}}r=r.return}l1(function(){var d=s,f=xf(n),m=[];e:{var g=M1.get(t);if(g!==void 0){var T=Pf,S=t;switch(t){case"keypress":if(Zl(n)===0)break e;case"keydown":case"keyup":T=dE;break;case"focusin":S="focus",T=dd;break;case"focusout":S="blur",T=dd;break;case"beforeblur":case"afterblur":T=dd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=ip;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=Xw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=pE;break;case D1:case L1:case b1:T=nE;break;case V1:T=gE;break;case"scroll":T=Jw;break;case"wheel":T=yE;break;case"copy":case"cut":case"paste":T=iE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=op}var N=(e&4)!==0,A=!N&&t==="scroll",C=N?g!==null?g+"Capture":null:g;N=[];for(var x=d,k;x!==null;){k=x;var b=k.stateNode;if(k.tag===5&&b!==null&&(k=b,C!==null&&(b=ma(x,C),b!=null&&N.push(xa(x,b,k)))),A)break;x=x.return}0<N.length&&(g=new T(g,S,null,n,f),m.push({event:g,listeners:N}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",g&&n!==nh&&(S=n.relatedTarget||n.fromElement)&&(Ei(S)||S[lr]))break e;if((T||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,T?(S=n.relatedTarget||n.toElement,T=d,S=S?Ei(S):null,S!==null&&(A=Wi(S),S!==A||S.tag!==5&&S.tag!==6)&&(S=null)):(T=null,S=d),T!==S)){if(N=ip,b="onMouseLeave",C="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(N=op,b="onPointerLeave",C="onPointerEnter",x="pointer"),A=T==null?g:ws(T),k=S==null?g:ws(S),g=new N(b,x+"leave",T,n,f),g.target=A,g.relatedTarget=k,b=null,Ei(f)===d&&(N=new N(C,x+"enter",S,n,f),N.target=k,N.relatedTarget=A,b=N),A=b,T&&S)t:{for(N=T,C=S,x=0,k=N;k;k=us(k))x++;for(k=0,b=C;b;b=us(b))k++;for(;0<x-k;)N=us(N),x--;for(;0<k-x;)C=us(C),k--;for(;x--;){if(N===C||C!==null&&N===C.alternate)break t;N=us(N),C=us(C)}N=null}else N=null;T!==null&&vp(m,g,T,N,!1),S!==null&&A!==null&&vp(m,A,S,N,!0)}}e:{if(g=d?ws(d):window,T=g.nodeName&&g.nodeName.toLowerCase(),T==="select"||T==="input"&&g.type==="file")var B=SE;else if(cp(g))if(P1)B=NE;else{B=kE;var O=IE}else(T=g.nodeName)&&T.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(B=PE);if(B&&(B=B(t,d))){k1(m,B,n,f);break e}O&&O(t,g,d),t==="focusout"&&(O=g._wrapperState)&&O.controlled&&g.type==="number"&&Jd(g,"number",g.value)}switch(O=d?ws(d):window,t){case"focusin":(cp(O)||O.contentEditable==="true")&&(ys=O,ch=d,na=null);break;case"focusout":na=ch=ys=null;break;case"mousedown":uh=!0;break;case"contextmenu":case"mouseup":case"dragend":uh=!1,pp(m,n,f);break;case"selectionchange":if(RE)break;case"keydown":case"keyup":pp(m,n,f)}var v;if(jf)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else vs?S1(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(T1&&n.locale!=="ko"&&(vs||y!=="onCompositionStart"?y==="onCompositionEnd"&&vs&&(v=C1()):(Mr=f,kf="value"in Mr?Mr.value:Mr.textContent,vs=!0)),O=xc(d,y),0<O.length&&(y=new sp(y,t,null,n,f),m.push({event:y,listeners:O}),v?y.data=v:(v=I1(n),v!==null&&(y.data=v)))),(v=wE?EE(t,n):xE(t,n))&&(d=xc(d,"onBeforeInput"),0<d.length&&(f=new sp("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:d}),f.data=v))}O1(m,e)})}function xa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ma(t,n),s!=null&&r.unshift(xa(t,s,i)),s=ma(t,e),s!=null&&r.push(xa(t,s,i))),t=t.return}return r}function us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vp(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var c=n,u=c.alternate,d=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&d!==null&&(c=d,i?(u=ma(n,s),u!=null&&o.unshift(xa(n,u,c))):i||(u=ma(n,s),u!=null&&o.push(xa(n,u,c)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var VE=/\r\n?/g,ME=/\u0000|\uFFFD/g;function yp(t){return(typeof t=="string"?t:""+t).replace(VE,`
`).replace(ME,"")}function Vl(t,e,n){if(e=yp(e),yp(t)!==e&&n)throw Error($(425))}function Cc(){}var dh=null,hh=null;function fh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ph=typeof setTimeout=="function"?setTimeout:void 0,OE=typeof clearTimeout=="function"?clearTimeout:void 0,_p=typeof Promise=="function"?Promise:void 0,FE=typeof queueMicrotask=="function"?queueMicrotask:typeof _p<"u"?function(t){return _p.resolve(null).then(t).catch(UE)}:ph;function UE(t){setTimeout(function(){throw t})}function _d(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ya(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ya(e)}function zr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var oo=Math.random().toString(36).slice(2),Vn="__reactFiber$"+oo,Ca="__reactProps$"+oo,lr="__reactContainer$"+oo,mh="__reactEvents$"+oo,BE="__reactListeners$"+oo,HE="__reactHandles$"+oo;function Ei(t){var e=t[Vn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[lr]||n[Vn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wp(t);t!==null;){if(n=t[Vn])return n;t=wp(t)}return e}t=n,n=t.parentNode}return null}function Wa(t){return t=t[Vn]||t[lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ws(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function uu(t){return t[Ca]||null}var gh=[],Es=-1;function si(t){return{current:t}}function De(t){0>Es||(t.current=gh[Es],gh[Es]=null,Es--)}function Ne(t,e){Es++,gh[Es]=t.current,t.current=e}var Xr={},Dt=si(Xr),qt=si(!1),ji=Xr;function Bs(t,e){var n=t.type.contextTypes;if(!n)return Xr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Kt(t){return t=t.childContextTypes,t!=null}function Tc(){De(qt),De(Dt)}function Ep(t,e,n){if(Dt.current!==Xr)throw Error($(168));Ne(Dt,e),Ne(qt,n)}function U1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,Iw(t)||"Unknown",i));return Be({},n,r)}function Sc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xr,ji=Dt.current,Ne(Dt,t),Ne(qt,qt.current),!0}function xp(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=U1(t,e,ji),r.__reactInternalMemoizedMergedChildContext=t,De(qt),De(Dt),Ne(Dt,t)):De(qt),Ne(qt,n)}var Jn=null,du=!1,wd=!1;function B1(t){Jn===null?Jn=[t]:Jn.push(t)}function zE(t){du=!0,B1(t)}function oi(){if(!wd&&Jn!==null){wd=!0;var t=0,e=Ie;try{var n=Jn;for(Ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Jn=null,du=!1}catch(i){throw Jn!==null&&(Jn=Jn.slice(t+1)),h1(Cf,oi),i}finally{Ie=e,wd=!1}}return null}var xs=[],Cs=0,Ic=null,kc=0,ln=[],cn=0,Ai=null,Zn=1,Xn="";function yi(t,e){xs[Cs++]=kc,xs[Cs++]=Ic,Ic=t,kc=e}function H1(t,e,n){ln[cn++]=Zn,ln[cn++]=Xn,ln[cn++]=Ai,Ai=t;var r=Zn;t=Xn;var i=32-Sn(r)-1;r&=~(1<<i),n+=1;var s=32-Sn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Zn=1<<32-Sn(e)+i|n<<i|r,Xn=s+t}else Zn=1<<s|n<<i|r,Xn=t}function Rf(t){t.return!==null&&(yi(t,1),H1(t,1,0))}function Df(t){for(;t===Ic;)Ic=xs[--Cs],xs[Cs]=null,kc=xs[--Cs],xs[Cs]=null;for(;t===Ai;)Ai=ln[--cn],ln[cn]=null,Xn=ln[--cn],ln[cn]=null,Zn=ln[--cn],ln[cn]=null}var en=null,Zt=null,be=!1,Tn=null;function z1(t,e){var n=dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Cp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,en=t,Zt=zr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,en=t,Zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ai!==null?{id:Zn,overflow:Xn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,en=t,Zt=null,!0):!1;default:return!1}}function vh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yh(t){if(be){var e=Zt;if(e){var n=e;if(!Cp(t,e)){if(vh(t))throw Error($(418));e=zr(n.nextSibling);var r=en;e&&Cp(t,e)?z1(r,n):(t.flags=t.flags&-4097|2,be=!1,en=t)}}else{if(vh(t))throw Error($(418));t.flags=t.flags&-4097|2,be=!1,en=t}}}function Tp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function Ml(t){if(t!==en)return!1;if(!be)return Tp(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fh(t.type,t.memoizedProps)),e&&(e=Zt)){if(vh(t))throw $1(),Error($(418));for(;e;)z1(t,e),e=zr(e.nextSibling)}if(Tp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zt=zr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zt=null}}else Zt=en?zr(t.stateNode.nextSibling):null;return!0}function $1(){for(var t=Zt;t;)t=zr(t.nextSibling)}function Hs(){Zt=en=null,be=!1}function Lf(t){Tn===null?Tn=[t]:Tn.push(t)}var $E=pr.ReactCurrentBatchConfig;function En(t,e){if(t&&t.defaultProps){e=Be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Pc=si(null),Nc=null,Ts=null,bf=null;function Vf(){bf=Ts=Nc=null}function Mf(t){var e=Pc.current;De(Pc),t._currentValue=e}function _h(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ls(t,e){Nc=t,bf=Ts=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wt=!0),t.firstContext=null)}function pn(t){var e=t._currentValue;if(bf!==t)if(t={context:t,memoizedValue:e,next:null},Ts===null){if(Nc===null)throw Error($(308));Ts=t,Nc.dependencies={lanes:0,firstContext:t}}else Ts=Ts.next=t;return e}var xi=null;function Of(t){xi===null?xi=[t]:xi.push(t)}function W1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Of(e)):(n.next=i.next,i.next=n),e.interleaved=n,cr(t,r)}function cr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var jr=!1;function Ff(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function q1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $r(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,cr(t,n)}return i=r.interleaved,i===null?(e.next=e,Of(r)):(e.next=i.next,i.next=e),r.interleaved=e,cr(t,n)}function Xl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tf(t,n)}}function Sp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jc(t,e,n,r){var i=t.updateQueue;jr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var u=c,d=u.next;u.next=null,o===null?s=d:o.next=d,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==o&&(c===null?f.firstBaseUpdate=d:c.next=d,f.lastBaseUpdate=u))}if(s!==null){var m=i.baseState;o=0,f=d=u=null,c=s;do{var g=c.lane,T=c.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:T,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var S=t,N=c;switch(g=e,T=n,N.tag){case 1:if(S=N.payload,typeof S=="function"){m=S.call(T,m,g);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=N.payload,g=typeof S=="function"?S.call(T,m,g):S,g==null)break e;m=Be({},m,g);break e;case 2:jr=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[c]:g.push(c))}else T={eventTime:T,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(d=f=T,u=m):f=f.next=T,o|=g;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;g=c,c=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(u=m),i.baseState=u,i.firstBaseUpdate=d,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Di|=o,t.lanes=o,t.memoizedState=m}}function Ip(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var K1=new Wg.Component().refs;function wh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hu={isMounted:function(t){return(t=t._reactInternals)?Wi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=qr(t),s=rr(r,i);s.payload=e,n!=null&&(s.callback=n),e=$r(t,s,i),e!==null&&(In(e,t,i,r),Xl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=qr(t),s=rr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=$r(t,s,i),e!==null&&(In(e,t,i,r),Xl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mt(),r=qr(t),i=rr(n,r);i.tag=2,e!=null&&(i.callback=e),e=$r(t,i,r),e!==null&&(In(e,t,r,n),Xl(e,t,r))}};function kp(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!wa(n,r)||!wa(i,s):!0}function G1(t,e,n){var r=!1,i=Xr,s=e.contextType;return typeof s=="object"&&s!==null?s=pn(s):(i=Kt(e)?ji:Dt.current,r=e.contextTypes,s=(r=r!=null)?Bs(t,i):Xr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Pp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hu.enqueueReplaceState(e,e.state,null)}function Eh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=K1,Ff(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=pn(s):(s=Kt(e)?ji:Dt.current,i.context=Bs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(wh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&hu.enqueueReplaceState(i,i.state,null),jc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Do(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var c=i.refs;c===K1&&(c=i.refs={}),o===null?delete c[s]:c[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function Ol(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Np(t){var e=t._init;return e(t._payload)}function Q1(t){function e(C,x){if(t){var k=C.deletions;k===null?(C.deletions=[x],C.flags|=16):k.push(x)}}function n(C,x){if(!t)return null;for(;x!==null;)e(C,x),x=x.sibling;return null}function r(C,x){for(C=new Map;x!==null;)x.key!==null?C.set(x.key,x):C.set(x.index,x),x=x.sibling;return C}function i(C,x){return C=Kr(C,x),C.index=0,C.sibling=null,C}function s(C,x,k){return C.index=k,t?(k=C.alternate,k!==null?(k=k.index,k<x?(C.flags|=2,x):k):(C.flags|=2,x)):(C.flags|=1048576,x)}function o(C){return t&&C.alternate===null&&(C.flags|=2),C}function c(C,x,k,b){return x===null||x.tag!==6?(x=kd(k,C.mode,b),x.return=C,x):(x=i(x,k),x.return=C,x)}function u(C,x,k,b){var B=k.type;return B===gs?f(C,x,k.props.children,b,k.key):x!==null&&(x.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Nr&&Np(B)===x.type)?(b=i(x,k.props),b.ref=Do(C,x,k),b.return=C,b):(b=sc(k.type,k.key,k.props,null,C.mode,b),b.ref=Do(C,x,k),b.return=C,b)}function d(C,x,k,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==k.containerInfo||x.stateNode.implementation!==k.implementation?(x=Pd(k,C.mode,b),x.return=C,x):(x=i(x,k.children||[]),x.return=C,x)}function f(C,x,k,b,B){return x===null||x.tag!==7?(x=Pi(k,C.mode,b,B),x.return=C,x):(x=i(x,k),x.return=C,x)}function m(C,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return x=kd(""+x,C.mode,k),x.return=C,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case kl:return k=sc(x.type,x.key,x.props,null,C.mode,k),k.ref=Do(C,null,x),k.return=C,k;case ms:return x=Pd(x,C.mode,k),x.return=C,x;case Nr:var b=x._init;return m(C,b(x._payload),k)}if(zo(x)||Po(x))return x=Pi(x,C.mode,k,null),x.return=C,x;Ol(C,x)}return null}function g(C,x,k,b){var B=x!==null?x.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return B!==null?null:c(C,x,""+k,b);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case kl:return k.key===B?u(C,x,k,b):null;case ms:return k.key===B?d(C,x,k,b):null;case Nr:return B=k._init,g(C,x,B(k._payload),b)}if(zo(k)||Po(k))return B!==null?null:f(C,x,k,b,null);Ol(C,k)}return null}function T(C,x,k,b,B){if(typeof b=="string"&&b!==""||typeof b=="number")return C=C.get(k)||null,c(x,C,""+b,B);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case kl:return C=C.get(b.key===null?k:b.key)||null,u(x,C,b,B);case ms:return C=C.get(b.key===null?k:b.key)||null,d(x,C,b,B);case Nr:var O=b._init;return T(C,x,k,O(b._payload),B)}if(zo(b)||Po(b))return C=C.get(k)||null,f(x,C,b,B,null);Ol(x,b)}return null}function S(C,x,k,b){for(var B=null,O=null,v=x,y=x=0,E=null;v!==null&&y<k.length;y++){v.index>y?(E=v,v=null):E=v.sibling;var w=g(C,v,k[y],b);if(w===null){v===null&&(v=E);break}t&&v&&w.alternate===null&&e(C,v),x=s(w,x,y),O===null?B=w:O.sibling=w,O=w,v=E}if(y===k.length)return n(C,v),be&&yi(C,y),B;if(v===null){for(;y<k.length;y++)v=m(C,k[y],b),v!==null&&(x=s(v,x,y),O===null?B=v:O.sibling=v,O=v);return be&&yi(C,y),B}for(v=r(C,v);y<k.length;y++)E=T(v,C,y,k[y],b),E!==null&&(t&&E.alternate!==null&&v.delete(E.key===null?y:E.key),x=s(E,x,y),O===null?B=E:O.sibling=E,O=E);return t&&v.forEach(function(P){return e(C,P)}),be&&yi(C,y),B}function N(C,x,k,b){var B=Po(k);if(typeof B!="function")throw Error($(150));if(k=B.call(k),k==null)throw Error($(151));for(var O=B=null,v=x,y=x=0,E=null,w=k.next();v!==null&&!w.done;y++,w=k.next()){v.index>y?(E=v,v=null):E=v.sibling;var P=g(C,v,w.value,b);if(P===null){v===null&&(v=E);break}t&&v&&P.alternate===null&&e(C,v),x=s(P,x,y),O===null?B=P:O.sibling=P,O=P,v=E}if(w.done)return n(C,v),be&&yi(C,y),B;if(v===null){for(;!w.done;y++,w=k.next())w=m(C,w.value,b),w!==null&&(x=s(w,x,y),O===null?B=w:O.sibling=w,O=w);return be&&yi(C,y),B}for(v=r(C,v);!w.done;y++,w=k.next())w=T(v,C,y,w.value,b),w!==null&&(t&&w.alternate!==null&&v.delete(w.key===null?y:w.key),x=s(w,x,y),O===null?B=w:O.sibling=w,O=w);return t&&v.forEach(function(j){return e(C,j)}),be&&yi(C,y),B}function A(C,x,k,b){if(typeof k=="object"&&k!==null&&k.type===gs&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case kl:e:{for(var B=k.key,O=x;O!==null;){if(O.key===B){if(B=k.type,B===gs){if(O.tag===7){n(C,O.sibling),x=i(O,k.props.children),x.return=C,C=x;break e}}else if(O.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Nr&&Np(B)===O.type){n(C,O.sibling),x=i(O,k.props),x.ref=Do(C,O,k),x.return=C,C=x;break e}n(C,O);break}else e(C,O);O=O.sibling}k.type===gs?(x=Pi(k.props.children,C.mode,b,k.key),x.return=C,C=x):(b=sc(k.type,k.key,k.props,null,C.mode,b),b.ref=Do(C,x,k),b.return=C,C=b)}return o(C);case ms:e:{for(O=k.key;x!==null;){if(x.key===O)if(x.tag===4&&x.stateNode.containerInfo===k.containerInfo&&x.stateNode.implementation===k.implementation){n(C,x.sibling),x=i(x,k.children||[]),x.return=C,C=x;break e}else{n(C,x);break}else e(C,x);x=x.sibling}x=Pd(k,C.mode,b),x.return=C,C=x}return o(C);case Nr:return O=k._init,A(C,x,O(k._payload),b)}if(zo(k))return S(C,x,k,b);if(Po(k))return N(C,x,k,b);Ol(C,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,x!==null&&x.tag===6?(n(C,x.sibling),x=i(x,k),x.return=C,C=x):(n(C,x),x=kd(k,C.mode,b),x.return=C,C=x),o(C)):n(C,x)}return A}var zs=Q1(!0),Y1=Q1(!1),qa={},Fn=si(qa),Ta=si(qa),Sa=si(qa);function Ci(t){if(t===qa)throw Error($(174));return t}function Uf(t,e){switch(Ne(Sa,e),Ne(Ta,t),Ne(Fn,qa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xd(e,t)}De(Fn),Ne(Fn,e)}function $s(){De(Fn),De(Ta),De(Sa)}function J1(t){Ci(Sa.current);var e=Ci(Fn.current),n=Xd(e,t.type);e!==n&&(Ne(Ta,t),Ne(Fn,n))}function Bf(t){Ta.current===t&&(De(Fn),De(Ta))}var Fe=si(0);function Ac(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ed=[];function Hf(){for(var t=0;t<Ed.length;t++)Ed[t]._workInProgressVersionPrimary=null;Ed.length=0}var ec=pr.ReactCurrentDispatcher,xd=pr.ReactCurrentBatchConfig,Ri=0,Ue=null,it=null,ht=null,Rc=!1,ra=!1,Ia=0,WE=0;function It(){throw Error($(321))}function zf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pn(t[n],e[n]))return!1;return!0}function $f(t,e,n,r,i,s){if(Ri=s,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ec.current=t===null||t.memoizedState===null?QE:YE,t=n(r,i),ra){s=0;do{if(ra=!1,Ia=0,25<=s)throw Error($(301));s+=1,ht=it=null,e.updateQueue=null,ec.current=JE,t=n(r,i)}while(ra)}if(ec.current=Dc,e=it!==null&&it.next!==null,Ri=0,ht=it=Ue=null,Rc=!1,e)throw Error($(300));return t}function Wf(){var t=Ia!==0;return Ia=0,t}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ue.memoizedState=ht=t:ht=ht.next=t,ht}function mn(){if(it===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var e=ht===null?Ue.memoizedState:ht.next;if(e!==null)ht=e,it=t;else{if(t===null)throw Error($(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ht===null?Ue.memoizedState=ht=t:ht=ht.next=t}return ht}function ka(t,e){return typeof e=="function"?e(t):e}function Cd(t){var e=mn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=it,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var c=o=null,u=null,d=s;do{var f=d.lane;if((Ri&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=m,o=r):u=u.next=m,Ue.lanes|=f,Di|=f}d=d.next}while(d!==null&&d!==s);u===null?o=r:u.next=c,Pn(r,e.memoizedState)||(Wt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ue.lanes|=s,Di|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Td(t){var e=mn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Pn(s,e.memoizedState)||(Wt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Z1(){}function X1(t,e){var n=Ue,r=mn(),i=e(),s=!Pn(r.memoizedState,i);if(s&&(r.memoizedState=i,Wt=!0),r=r.queue,qf(nv.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,Pa(9,tv.bind(null,n,r,i,e),void 0,null),ft===null)throw Error($(349));Ri&30||ev(n,e,i)}return i}function ev(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tv(t,e,n,r){e.value=n,e.getSnapshot=r,rv(e)&&iv(t)}function nv(t,e,n){return n(function(){rv(e)&&iv(t)})}function rv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pn(t,n)}catch{return!0}}function iv(t){var e=cr(t,1);e!==null&&In(e,t,1,-1)}function jp(t){var e=bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:t},e.queue=t,t=t.dispatch=GE.bind(null,Ue,t),[e.memoizedState,t]}function Pa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function sv(){return mn().memoizedState}function tc(t,e,n,r){var i=bn();Ue.flags|=t,i.memoizedState=Pa(1|e,n,void 0,r===void 0?null:r)}function fu(t,e,n,r){var i=mn();r=r===void 0?null:r;var s=void 0;if(it!==null){var o=it.memoizedState;if(s=o.destroy,r!==null&&zf(r,o.deps)){i.memoizedState=Pa(e,n,s,r);return}}Ue.flags|=t,i.memoizedState=Pa(1|e,n,s,r)}function Ap(t,e){return tc(8390656,8,t,e)}function qf(t,e){return fu(2048,8,t,e)}function ov(t,e){return fu(4,2,t,e)}function av(t,e){return fu(4,4,t,e)}function lv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cv(t,e,n){return n=n!=null?n.concat([t]):null,fu(4,4,lv.bind(null,e,t),n)}function Kf(){}function uv(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function dv(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hv(t,e,n){return Ri&21?(Pn(n,e)||(n=m1(),Ue.lanes|=n,Di|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=n)}function qE(t,e){var n=Ie;Ie=n!==0&&4>n?n:4,t(!0);var r=xd.transition;xd.transition={};try{t(!1),e()}finally{Ie=n,xd.transition=r}}function fv(){return mn().memoizedState}function KE(t,e,n){var r=qr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pv(t))mv(e,n);else if(n=W1(t,e,n,r),n!==null){var i=Mt();In(n,t,r,i),gv(n,e,r)}}function GE(t,e,n){var r=qr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pv(t))mv(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,c=s(o,n);if(i.hasEagerState=!0,i.eagerState=c,Pn(c,o)){var u=e.interleaved;u===null?(i.next=i,Of(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=W1(t,e,i,r),n!==null&&(i=Mt(),In(n,t,r,i),gv(n,e,r))}}function pv(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function mv(t,e){ra=Rc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function gv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tf(t,n)}}var Dc={readContext:pn,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},QE={readContext:pn,useCallback:function(t,e){return bn().memoizedState=[t,e===void 0?null:e],t},useContext:pn,useEffect:Ap,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,tc(4194308,4,lv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tc(4194308,4,t,e)},useInsertionEffect:function(t,e){return tc(4,2,t,e)},useMemo:function(t,e){var n=bn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=bn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=KE.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=bn();return t={current:t},e.memoizedState=t},useState:jp,useDebugValue:Kf,useDeferredValue:function(t){return bn().memoizedState=t},useTransition:function(){var t=jp(!1),e=t[0];return t=qE.bind(null,t[1]),bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ue,i=bn();if(be){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),ft===null)throw Error($(349));Ri&30||ev(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ap(nv.bind(null,r,s,t),[t]),r.flags|=2048,Pa(9,tv.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=bn(),e=ft.identifierPrefix;if(be){var n=Xn,r=Zn;n=(r&~(1<<32-Sn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ia++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=WE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YE={readContext:pn,useCallback:uv,useContext:pn,useEffect:qf,useImperativeHandle:cv,useInsertionEffect:ov,useLayoutEffect:av,useMemo:dv,useReducer:Cd,useRef:sv,useState:function(){return Cd(ka)},useDebugValue:Kf,useDeferredValue:function(t){var e=mn();return hv(e,it.memoizedState,t)},useTransition:function(){var t=Cd(ka)[0],e=mn().memoizedState;return[t,e]},useMutableSource:Z1,useSyncExternalStore:X1,useId:fv,unstable_isNewReconciler:!1},JE={readContext:pn,useCallback:uv,useContext:pn,useEffect:qf,useImperativeHandle:cv,useInsertionEffect:ov,useLayoutEffect:av,useMemo:dv,useReducer:Td,useRef:sv,useState:function(){return Td(ka)},useDebugValue:Kf,useDeferredValue:function(t){var e=mn();return it===null?e.memoizedState=t:hv(e,it.memoizedState,t)},useTransition:function(){var t=Td(ka)[0],e=mn().memoizedState;return[t,e]},useMutableSource:Z1,useSyncExternalStore:X1,useId:fv,unstable_isNewReconciler:!1};function Ws(t,e){try{var n="",r=e;do n+=Sw(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Sd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ZE=typeof WeakMap=="function"?WeakMap:Map;function vv(t,e,n){n=rr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bc||(bc=!0,Rh=r),xh(t,e)},n}function yv(t,e,n){n=rr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){xh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){xh(t,e),typeof r!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Rp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ZE;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=h6.bind(null,t,e,n),e.then(t,t))}function Dp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Lp(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rr(-1,1),e.tag=2,$r(n,e,1))),n.lanes|=1),t)}var XE=pr.ReactCurrentOwner,Wt=!1;function Vt(t,e,n,r){e.child=t===null?Y1(e,null,n,r):zs(e,t.child,n,r)}function bp(t,e,n,r,i){n=n.render;var s=e.ref;return Ls(e,i),r=$f(t,e,n,r,s,i),n=Wf(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ur(t,e,i)):(be&&n&&Rf(e),e.flags|=1,Vt(t,e,r,i),e.child)}function Vp(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!t0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,_v(t,e,s,r,i)):(t=sc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:wa,n(o,r)&&t.ref===e.ref)return ur(t,e,i)}return e.flags|=1,t=Kr(s,r),t.ref=e.ref,t.return=e,e.child=t}function _v(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(wa(s,r)&&t.ref===e.ref)if(Wt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Wt=!0);else return e.lanes=t.lanes,ur(t,e,i)}return Ch(t,e,n,r,i)}function wv(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Is,Jt),Jt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ne(Is,Jt),Jt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ne(Is,Jt),Jt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ne(Is,Jt),Jt|=r;return Vt(t,e,i,n),e.child}function Ev(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ch(t,e,n,r,i){var s=Kt(n)?ji:Dt.current;return s=Bs(e,s),Ls(e,i),n=$f(t,e,n,r,s,i),r=Wf(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ur(t,e,i)):(be&&r&&Rf(e),e.flags|=1,Vt(t,e,n,i),e.child)}function Mp(t,e,n,r,i){if(Kt(n)){var s=!0;Sc(e)}else s=!1;if(Ls(e,i),e.stateNode===null)nc(t,e),G1(e,n,r),Eh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,c=e.memoizedProps;o.props=c;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=pn(d):(d=Kt(n)?ji:Dt.current,d=Bs(e,d));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==r||u!==d)&&Pp(e,o,r,d),jr=!1;var g=e.memoizedState;o.state=g,jc(e,r,o,i),u=e.memoizedState,c!==r||g!==u||qt.current||jr?(typeof f=="function"&&(wh(e,n,f,r),u=e.memoizedState),(c=jr||kp(e,n,c,r,g,u,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=d,r=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,q1(t,e),c=e.memoizedProps,d=e.type===e.elementType?c:En(e.type,c),o.props=d,m=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=pn(u):(u=Kt(n)?ji:Dt.current,u=Bs(e,u));var T=n.getDerivedStateFromProps;(f=typeof T=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==m||g!==u)&&Pp(e,o,r,u),jr=!1,g=e.memoizedState,o.state=g,jc(e,r,o,i);var S=e.memoizedState;c!==m||g!==S||qt.current||jr?(typeof T=="function"&&(wh(e,n,T,r),S=e.memoizedState),(d=jr||kp(e,n,d,r,g,S,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Th(t,e,n,r,s,i)}function Th(t,e,n,r,i,s){Ev(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&xp(e,n,!1),ur(t,e,s);r=e.stateNode,XE.current=e;var c=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=zs(e,t.child,null,s),e.child=zs(e,null,c,s)):Vt(t,e,c,s),e.memoizedState=r.state,i&&xp(e,n,!0),e.child}function xv(t){var e=t.stateNode;e.pendingContext?Ep(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ep(t,e.context,!1),Uf(t,e.containerInfo)}function Op(t,e,n,r,i){return Hs(),Lf(i),e.flags|=256,Vt(t,e,n,r),e.child}var Sh={dehydrated:null,treeContext:null,retryLane:0};function Ih(t){return{baseLanes:t,cachePool:null,transitions:null}}function Cv(t,e,n){var r=e.pendingProps,i=Fe.current,s=!1,o=(e.flags&128)!==0,c;if((c=o)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ne(Fe,i&1),t===null)return yh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=gu(o,r,0,null),t=Pi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ih(n),e.memoizedState=Sh,t):Gf(e,o));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return e6(t,e,o,r,c,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,c=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Kr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?s=Kr(c,s):(s=Pi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ih(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Sh,r}return s=t.child,t=s.sibling,r=Kr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Gf(t,e){return e=gu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fl(t,e,n,r){return r!==null&&Lf(r),zs(e,t.child,null,n),t=Gf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function e6(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Sd(Error($(422))),Fl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=gu({mode:"visible",children:r.children},i,0,null),s=Pi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&zs(e,t.child,null,o),e.child.memoizedState=Ih(o),e.memoizedState=Sh,s);if(!(e.mode&1))return Fl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error($(419)),r=Sd(s,r,void 0),Fl(t,e,o,r)}if(c=(o&t.childLanes)!==0,Wt||c){if(r=ft,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,cr(t,i),In(r,t,i,-1))}return e0(),r=Sd(Error($(421))),Fl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=f6.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Zt=zr(i.nextSibling),en=e,be=!0,Tn=null,t!==null&&(ln[cn++]=Zn,ln[cn++]=Xn,ln[cn++]=Ai,Zn=t.id,Xn=t.overflow,Ai=e),e=Gf(e,r.children),e.flags|=4096,e)}function Fp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_h(t.return,e,n)}function Id(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Tv(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Vt(t,e,r.children,n),r=Fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fp(t,n,e);else if(t.tag===19)Fp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ne(Fe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ac(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Id(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ac(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Id(e,!0,n,null,s);break;case"together":Id(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ur(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Di|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Kr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Kr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function t6(t,e,n){switch(e.tag){case 3:xv(e),Hs();break;case 5:J1(e);break;case 1:Kt(e.type)&&Sc(e);break;case 4:Uf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ne(Pc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ne(Fe,Fe.current&1),e.flags|=128,null):n&e.child.childLanes?Cv(t,e,n):(Ne(Fe,Fe.current&1),t=ur(t,e,n),t!==null?t.sibling:null);Ne(Fe,Fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Tv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ne(Fe,Fe.current),r)break;return null;case 22:case 23:return e.lanes=0,wv(t,e,n)}return ur(t,e,n)}var Sv,kh,Iv,kv;Sv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kh=function(){};Iv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ci(Fn.current);var s=null;switch(n){case"input":i=Qd(t,i),r=Qd(t,r),s=[];break;case"select":i=Be({},i,{value:void 0}),r=Be({},r,{value:void 0}),s=[];break;case"textarea":i=Zd(t,i),r=Zd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cc)}eh(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var c=i[d];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(fa.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(c=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(s=s||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(fa.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Re("scroll",t),s||c===u||(s=[])):(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};kv=function(t,e,n,r){n!==r&&(e.flags|=4)};function Lo(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function n6(t,e,n){var r=e.pendingProps;switch(Df(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(e),null;case 1:return Kt(e.type)&&Tc(),kt(e),null;case 3:return r=e.stateNode,$s(),De(qt),De(Dt),Hf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ml(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tn!==null&&(bh(Tn),Tn=null))),kh(t,e),kt(e),null;case 5:Bf(e);var i=Ci(Sa.current);if(n=e.type,t!==null&&e.stateNode!=null)Iv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return kt(e),null}if(t=Ci(Fn.current),Ml(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Vn]=e,r[Ca]=s,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(i=0;i<Wo.length;i++)Re(Wo[i],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":G2(r,s),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Re("invalid",r);break;case"textarea":Y2(r,s),Re("invalid",r)}eh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var c=s[o];o==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&Vl(r.textContent,c,t),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&Vl(r.textContent,c,t),i=["children",""+c]):fa.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&Re("scroll",r)}switch(n){case"input":Pl(r),Q2(r,s,!0);break;case"textarea":Pl(r),J2(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Cc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=e1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Vn]=e,t[Ca]=r,Sv(t,e,!1,!1),e.stateNode=t;e:{switch(o=th(n,r),n){case"dialog":Re("cancel",t),Re("close",t),i=r;break;case"iframe":case"object":case"embed":Re("load",t),i=r;break;case"video":case"audio":for(i=0;i<Wo.length;i++)Re(Wo[i],t);i=r;break;case"source":Re("error",t),i=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),i=r;break;case"details":Re("toggle",t),i=r;break;case"input":G2(t,r),i=Qd(t,r),Re("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Be({},r,{value:void 0}),Re("invalid",t);break;case"textarea":Y2(t,r),i=Zd(t,r),Re("invalid",t);break;default:i=r}eh(n,i),c=i;for(s in c)if(c.hasOwnProperty(s)){var u=c[s];s==="style"?r1(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&t1(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&pa(t,u):typeof u=="number"&&pa(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fa.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Re("scroll",t):u!=null&&yf(t,s,u,o))}switch(n){case"input":Pl(t),Q2(t,r,!1);break;case"textarea":Pl(t),J2(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?js(t,!!r.multiple,s,!1):r.defaultValue!=null&&js(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kt(e),null;case 6:if(t&&e.stateNode!=null)kv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=Ci(Sa.current),Ci(Fn.current),Ml(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vn]=e,(s=r.nodeValue!==n)&&(t=en,t!==null))switch(t.tag){case 3:Vl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vn]=e,e.stateNode=r}return kt(e),null;case 13:if(De(Fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&Zt!==null&&e.mode&1&&!(e.flags&128))$1(),Hs(),e.flags|=98560,s=!1;else if(s=Ml(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[Vn]=e}else Hs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kt(e),s=!1}else Tn!==null&&(bh(Tn),Tn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Fe.current&1?ot===0&&(ot=3):e0())),e.updateQueue!==null&&(e.flags|=4),kt(e),null);case 4:return $s(),kh(t,e),t===null&&Ea(e.stateNode.containerInfo),kt(e),null;case 10:return Mf(e.type._context),kt(e),null;case 17:return Kt(e.type)&&Tc(),kt(e),null;case 19:if(De(Fe),s=e.memoizedState,s===null)return kt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Lo(s,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ac(t),o!==null){for(e.flags|=128,Lo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ne(Fe,Fe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Qe()>qs&&(e.flags|=128,r=!0,Lo(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ac(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Lo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!be)return kt(e),null}else 2*Qe()-s.renderingStartTime>qs&&n!==1073741824&&(e.flags|=128,r=!0,Lo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Qe(),e.sibling=null,n=Fe.current,Ne(Fe,r?n&1|2:n&1),e):(kt(e),null);case 22:case 23:return Xf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jt&1073741824&&(kt(e),e.subtreeFlags&6&&(e.flags|=8192)):kt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function r6(t,e){switch(Df(e),e.tag){case 1:return Kt(e.type)&&Tc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $s(),De(qt),De(Dt),Hf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bf(e),null;case 13:if(De(Fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Hs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(Fe),null;case 4:return $s(),null;case 10:return Mf(e.type._context),null;case 22:case 23:return Xf(),null;case 24:return null;default:return null}}var Ul=!1,jt=!1,i6=typeof WeakSet=="function"?WeakSet:Set,J=null;function Ss(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(t,e,r)}else n.current=null}function Ph(t,e,n){try{n()}catch(r){qe(t,e,r)}}var Up=!1;function s6(t,e){if(dh=wc,t=A1(),Af(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,c=-1,u=-1,d=0,f=0,m=t,g=null;t:for(;;){for(var T;m!==n||i!==0&&m.nodeType!==3||(c=o+i),m!==s||r!==0&&m.nodeType!==3||(u=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(T=m.firstChild)!==null;)g=m,m=T;for(;;){if(m===t)break t;if(g===n&&++d===i&&(c=o),g===s&&++f===r&&(u=o),(T=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=T}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(hh={focusedElem:t,selectionRange:n},wc=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var N=S.memoizedProps,A=S.memoizedState,C=e.stateNode,x=C.getSnapshotBeforeUpdate(e.elementType===e.type?N:En(e.type,N),A);C.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(b){qe(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return S=Up,Up=!1,S}function ia(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ph(e,n,s)}i=i.next}while(i!==r)}}function pu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Nh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Pv(t){var e=t.alternate;e!==null&&(t.alternate=null,Pv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vn],delete e[Ca],delete e[mh],delete e[BE],delete e[HE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Nv(t){return t.tag===5||t.tag===3||t.tag===4}function Bp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Nv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cc));else if(r!==4&&(t=t.child,t!==null))for(jh(t,e,n),t=t.sibling;t!==null;)jh(t,e,n),t=t.sibling}function Ah(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ah(t,e,n),t=t.sibling;t!==null;)Ah(t,e,n),t=t.sibling}var gt=null,xn=!1;function Sr(t,e,n){for(n=n.child;n!==null;)jv(t,e,n),n=n.sibling}function jv(t,e,n){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(ou,n)}catch{}switch(n.tag){case 5:jt||Ss(n,e);case 6:var r=gt,i=xn;gt=null,Sr(t,e,n),gt=r,xn=i,gt!==null&&(xn?(t=gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(xn?(t=gt,n=n.stateNode,t.nodeType===8?_d(t.parentNode,n):t.nodeType===1&&_d(t,n),ya(t)):_d(gt,n.stateNode));break;case 4:r=gt,i=xn,gt=n.stateNode.containerInfo,xn=!0,Sr(t,e,n),gt=r,xn=i;break;case 0:case 11:case 14:case 15:if(!jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ph(n,e,o),i=i.next}while(i!==r)}Sr(t,e,n);break;case 1:if(!jt&&(Ss(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){qe(n,e,c)}Sr(t,e,n);break;case 21:Sr(t,e,n);break;case 22:n.mode&1?(jt=(r=jt)||n.memoizedState!==null,Sr(t,e,n),jt=r):Sr(t,e,n);break;default:Sr(t,e,n)}}function Hp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new i6),e.forEach(function(r){var i=p6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,c=o;e:for(;c!==null;){switch(c.tag){case 5:gt=c.stateNode,xn=!1;break e;case 3:gt=c.stateNode.containerInfo,xn=!0;break e;case 4:gt=c.stateNode.containerInfo,xn=!0;break e}c=c.return}if(gt===null)throw Error($(160));jv(s,o,i),gt=null,xn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(d){qe(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Av(e,t),e=e.sibling}function Av(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wn(e,t),Ln(t),r&4){try{ia(3,t,t.return),pu(3,t)}catch(N){qe(t,t.return,N)}try{ia(5,t,t.return)}catch(N){qe(t,t.return,N)}}break;case 1:wn(e,t),Ln(t),r&512&&n!==null&&Ss(n,n.return);break;case 5:if(wn(e,t),Ln(t),r&512&&n!==null&&Ss(n,n.return),t.flags&32){var i=t.stateNode;try{pa(i,"")}catch(N){qe(t,t.return,N)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&Zg(i,s),th(c,o);var d=th(c,s);for(o=0;o<u.length;o+=2){var f=u[o],m=u[o+1];f==="style"?r1(i,m):f==="dangerouslySetInnerHTML"?t1(i,m):f==="children"?pa(i,m):yf(i,f,m,d)}switch(c){case"input":Yd(i,s);break;case"textarea":Xg(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var T=s.value;T!=null?js(i,!!s.multiple,T,!1):g!==!!s.multiple&&(s.defaultValue!=null?js(i,!!s.multiple,s.defaultValue,!0):js(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ca]=s}catch(N){qe(t,t.return,N)}}break;case 6:if(wn(e,t),Ln(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(N){qe(t,t.return,N)}}break;case 3:if(wn(e,t),Ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ya(e.containerInfo)}catch(N){qe(t,t.return,N)}break;case 4:wn(e,t),Ln(t);break;case 13:wn(e,t),Ln(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Jf=Qe())),r&4&&Hp(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(jt=(d=jt)||f,wn(e,t),jt=d):wn(e,t),Ln(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(J=t,f=t.child;f!==null;){for(m=J=f;J!==null;){switch(g=J,T=g.child,g.tag){case 0:case 11:case 14:case 15:ia(4,g,g.return);break;case 1:Ss(g,g.return);var S=g.stateNode;if(typeof S.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(N){qe(r,n,N)}}break;case 5:Ss(g,g.return);break;case 22:if(g.memoizedState!==null){$p(m);continue}}T!==null?(T.return=g,J=T):$p(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=n1("display",o))}catch(N){qe(t,t.return,N)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(N){qe(t,t.return,N)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:wn(e,t),Ln(t),r&4&&Hp(t);break;case 21:break;default:wn(e,t),Ln(t)}}function Ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Nv(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(pa(i,""),r.flags&=-33);var s=Bp(t);Ah(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,c=Bp(t);jh(t,c,o);break;default:throw Error($(161))}}catch(u){qe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function o6(t,e,n){J=t,Rv(t)}function Rv(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var i=J,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ul;if(!o){var c=i.alternate,u=c!==null&&c.memoizedState!==null||jt;c=Ul;var d=jt;if(Ul=o,(jt=u)&&!d)for(J=i;J!==null;)o=J,u=o.child,o.tag===22&&o.memoizedState!==null?Wp(i):u!==null?(u.return=o,J=u):Wp(i);for(;s!==null;)J=s,Rv(s),s=s.sibling;J=i,Ul=c,jt=d}zp(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,J=s):zp(t)}}function zp(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jt||pu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:En(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ip(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ip(e,o,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&ya(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}jt||e.flags&512&&Nh(e)}catch(g){qe(e,e.return,g)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function $p(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function Wp(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{pu(4,e)}catch(u){qe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){qe(e,i,u)}}var s=e.return;try{Nh(e)}catch(u){qe(e,s,u)}break;case 5:var o=e.return;try{Nh(e)}catch(u){qe(e,o,u)}}}catch(u){qe(e,e.return,u)}if(e===t){J=null;break}var c=e.sibling;if(c!==null){c.return=e.return,J=c;break}J=e.return}}var a6=Math.ceil,Lc=pr.ReactCurrentDispatcher,Qf=pr.ReactCurrentOwner,hn=pr.ReactCurrentBatchConfig,Ce=0,ft=null,tt=null,wt=0,Jt=0,Is=si(0),ot=0,Na=null,Di=0,mu=0,Yf=0,sa=null,zt=null,Jf=0,qs=1/0,Yn=null,bc=!1,Rh=null,Wr=null,Bl=!1,Or=null,Vc=0,oa=0,Dh=null,rc=-1,ic=0;function Mt(){return Ce&6?Qe():rc!==-1?rc:rc=Qe()}function qr(t){return t.mode&1?Ce&2&&wt!==0?wt&-wt:$E.transition!==null?(ic===0&&(ic=m1()),ic):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:x1(t.type)),t):1}function In(t,e,n,r){if(50<oa)throw oa=0,Dh=null,Error($(185));za(t,n,r),(!(Ce&2)||t!==ft)&&(t===ft&&(!(Ce&2)&&(mu|=n),ot===4&&Rr(t,wt)),Gt(t,r),n===1&&Ce===0&&!(e.mode&1)&&(qs=Qe()+500,du&&oi()))}function Gt(t,e){var n=t.callbackNode;$w(t,e);var r=_c(t,t===ft?wt:0);if(r===0)n!==null&&ep(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ep(n),e===1)t.tag===0?zE(qp.bind(null,t)):B1(qp.bind(null,t)),FE(function(){!(Ce&6)&&oi()}),n=null;else{switch(g1(r)){case 1:n=Cf;break;case 4:n=f1;break;case 16:n=yc;break;case 536870912:n=p1;break;default:n=yc}n=Uv(n,Dv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Dv(t,e){if(rc=-1,ic=0,Ce&6)throw Error($(327));var n=t.callbackNode;if(bs()&&t.callbackNode!==n)return null;var r=_c(t,t===ft?wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Mc(t,r);else{e=r;var i=Ce;Ce|=2;var s=bv();(ft!==t||wt!==e)&&(Yn=null,qs=Qe()+500,ki(t,e));do try{u6();break}catch(c){Lv(t,c)}while(!0);Vf(),Lc.current=s,Ce=i,tt!==null?e=0:(ft=null,wt=0,e=ot)}if(e!==0){if(e===2&&(i=oh(t),i!==0&&(r=i,e=Lh(t,i))),e===1)throw n=Na,ki(t,0),Rr(t,r),Gt(t,Qe()),n;if(e===6)Rr(t,r);else{if(i=t.current.alternate,!(r&30)&&!l6(i)&&(e=Mc(t,r),e===2&&(s=oh(t),s!==0&&(r=s,e=Lh(t,s))),e===1))throw n=Na,ki(t,0),Rr(t,r),Gt(t,Qe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:_i(t,zt,Yn);break;case 3:if(Rr(t,r),(r&130023424)===r&&(e=Jf+500-Qe(),10<e)){if(_c(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ph(_i.bind(null,t,zt,Yn),e);break}_i(t,zt,Yn);break;case 4:if(Rr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Sn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*a6(r/1960))-r,10<r){t.timeoutHandle=ph(_i.bind(null,t,zt,Yn),r);break}_i(t,zt,Yn);break;case 5:_i(t,zt,Yn);break;default:throw Error($(329))}}}return Gt(t,Qe()),t.callbackNode===n?Dv.bind(null,t):null}function Lh(t,e){var n=sa;return t.current.memoizedState.isDehydrated&&(ki(t,e).flags|=256),t=Mc(t,e),t!==2&&(e=zt,zt=n,e!==null&&bh(e)),t}function bh(t){zt===null?zt=t:zt.push.apply(zt,t)}function l6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Pn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rr(t,e){for(e&=~Yf,e&=~mu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Sn(e),r=1<<n;t[n]=-1,e&=~r}}function qp(t){if(Ce&6)throw Error($(327));bs();var e=_c(t,0);if(!(e&1))return Gt(t,Qe()),null;var n=Mc(t,e);if(t.tag!==0&&n===2){var r=oh(t);r!==0&&(e=r,n=Lh(t,r))}if(n===1)throw n=Na,ki(t,0),Rr(t,e),Gt(t,Qe()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_i(t,zt,Yn),Gt(t,Qe()),null}function Zf(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(qs=Qe()+500,du&&oi())}}function Li(t){Or!==null&&Or.tag===0&&!(Ce&6)&&bs();var e=Ce;Ce|=1;var n=hn.transition,r=Ie;try{if(hn.transition=null,Ie=1,t)return t()}finally{Ie=r,hn.transition=n,Ce=e,!(Ce&6)&&oi()}}function Xf(){Jt=Is.current,De(Is)}function ki(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,OE(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(Df(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tc();break;case 3:$s(),De(qt),De(Dt),Hf();break;case 5:Bf(r);break;case 4:$s();break;case 13:De(Fe);break;case 19:De(Fe);break;case 10:Mf(r.type._context);break;case 22:case 23:Xf()}n=n.return}if(ft=t,tt=t=Kr(t.current,null),wt=Jt=e,ot=0,Na=null,Yf=mu=Di=0,zt=sa=null,xi!==null){for(e=0;e<xi.length;e++)if(n=xi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}xi=null}return t}function Lv(t,e){do{var n=tt;try{if(Vf(),ec.current=Dc,Rc){for(var r=Ue.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rc=!1}if(Ri=0,ht=it=Ue=null,ra=!1,Ia=0,Qf.current=null,n===null||n.return===null){ot=1,Na=e,tt=null;break}e:{var s=t,o=n.return,c=n,u=e;if(e=wt,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=c,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var T=Dp(o);if(T!==null){T.flags&=-257,Lp(T,o,c,s,e),T.mode&1&&Rp(s,d,e),e=T,u=d;var S=e.updateQueue;if(S===null){var N=new Set;N.add(u),e.updateQueue=N}else S.add(u);break e}else{if(!(e&1)){Rp(s,d,e),e0();break e}u=Error($(426))}}else if(be&&c.mode&1){var A=Dp(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Lp(A,o,c,s,e),Lf(Ws(u,c));break e}}s=u=Ws(u,c),ot!==4&&(ot=2),sa===null?sa=[s]:sa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var C=vv(s,u,e);Sp(s,C);break e;case 1:c=u;var x=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Wr===null||!Wr.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=yv(s,c,e);Sp(s,b);break e}}s=s.return}while(s!==null)}Mv(n)}catch(B){e=B,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function bv(){var t=Lc.current;return Lc.current=Dc,t===null?Dc:t}function e0(){(ot===0||ot===3||ot===2)&&(ot=4),ft===null||!(Di&268435455)&&!(mu&268435455)||Rr(ft,wt)}function Mc(t,e){var n=Ce;Ce|=2;var r=bv();(ft!==t||wt!==e)&&(Yn=null,ki(t,e));do try{c6();break}catch(i){Lv(t,i)}while(!0);if(Vf(),Ce=n,Lc.current=r,tt!==null)throw Error($(261));return ft=null,wt=0,ot}function c6(){for(;tt!==null;)Vv(tt)}function u6(){for(;tt!==null&&!bw();)Vv(tt)}function Vv(t){var e=Fv(t.alternate,t,Jt);t.memoizedProps=t.pendingProps,e===null?Mv(t):tt=e,Qf.current=null}function Mv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=r6(n,e),n!==null){n.flags&=32767,tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ot=6,tt=null;return}}else if(n=n6(n,e,Jt),n!==null){tt=n;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);ot===0&&(ot=5)}function _i(t,e,n){var r=Ie,i=hn.transition;try{hn.transition=null,Ie=1,d6(t,e,n,r)}finally{hn.transition=i,Ie=r}return null}function d6(t,e,n,r){do bs();while(Or!==null);if(Ce&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ww(t,s),t===ft&&(tt=ft=null,wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bl||(Bl=!0,Uv(yc,function(){return bs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=hn.transition,hn.transition=null;var o=Ie;Ie=1;var c=Ce;Ce|=4,Qf.current=null,s6(t,n),Av(n,t),AE(hh),wc=!!dh,hh=dh=null,t.current=n,o6(n),Vw(),Ce=c,Ie=o,hn.transition=s}else t.current=n;if(Bl&&(Bl=!1,Or=t,Vc=i),s=t.pendingLanes,s===0&&(Wr=null),Fw(n.stateNode),Gt(t,Qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bc)throw bc=!1,t=Rh,Rh=null,t;return Vc&1&&t.tag!==0&&bs(),s=t.pendingLanes,s&1?t===Dh?oa++:(oa=0,Dh=t):oa=0,oi(),null}function bs(){if(Or!==null){var t=g1(Vc),e=hn.transition,n=Ie;try{if(hn.transition=null,Ie=16>t?16:t,Or===null)var r=!1;else{if(t=Or,Or=null,Vc=0,Ce&6)throw Error($(331));var i=Ce;for(Ce|=4,J=t.current;J!==null;){var s=J,o=s.child;if(J.flags&16){var c=s.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for(J=d;J!==null;){var f=J;switch(f.tag){case 0:case 11:case 15:ia(8,f,s)}var m=f.child;if(m!==null)m.return=f,J=m;else for(;J!==null;){f=J;var g=f.sibling,T=f.return;if(Pv(f),f===d){J=null;break}if(g!==null){g.return=T,J=g;break}J=T}}}var S=s.alternate;if(S!==null){var N=S.child;if(N!==null){S.child=null;do{var A=N.sibling;N.sibling=null,N=A}while(N!==null)}}J=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,J=o;else e:for(;J!==null;){if(s=J,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ia(9,s,s.return)}var C=s.sibling;if(C!==null){C.return=s.return,J=C;break e}J=s.return}}var x=t.current;for(J=x;J!==null;){o=J;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,J=k;else e:for(o=x;J!==null;){if(c=J,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:pu(9,c)}}catch(B){qe(c,c.return,B)}if(c===o){J=null;break e}var b=c.sibling;if(b!==null){b.return=c.return,J=b;break e}J=c.return}}if(Ce=i,oi(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(ou,t)}catch{}r=!0}return r}finally{Ie=n,hn.transition=e}}return!1}function Kp(t,e,n){e=Ws(n,e),e=vv(t,e,1),t=$r(t,e,1),e=Mt(),t!==null&&(za(t,1,e),Gt(t,e))}function qe(t,e,n){if(t.tag===3)Kp(t,t,n);else for(;e!==null;){if(e.tag===3){Kp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wr===null||!Wr.has(r))){t=Ws(n,t),t=yv(e,t,1),e=$r(e,t,1),t=Mt(),e!==null&&(za(e,1,t),Gt(e,t));break}}e=e.return}}function h6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mt(),t.pingedLanes|=t.suspendedLanes&n,ft===t&&(wt&n)===n&&(ot===4||ot===3&&(wt&130023424)===wt&&500>Qe()-Jf?ki(t,0):Yf|=n),Gt(t,e)}function Ov(t,e){e===0&&(t.mode&1?(e=Al,Al<<=1,!(Al&130023424)&&(Al=4194304)):e=1);var n=Mt();t=cr(t,e),t!==null&&(za(t,e,n),Gt(t,n))}function f6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ov(t,n)}function p6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),Ov(t,n)}var Fv;Fv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qt.current)Wt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Wt=!1,t6(t,e,n);Wt=!!(t.flags&131072)}else Wt=!1,be&&e.flags&1048576&&H1(e,kc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;nc(t,e),t=e.pendingProps;var i=Bs(e,Dt.current);Ls(e,n),i=$f(null,e,r,t,i,n);var s=Wf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kt(r)?(s=!0,Sc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ff(e),i.updater=hu,e.stateNode=i,i._reactInternals=e,Eh(e,r,t,n),e=Th(null,e,r,!0,s,n)):(e.tag=0,be&&s&&Rf(e),Vt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(nc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=g6(r),t=En(r,t),i){case 0:e=Ch(null,e,r,t,n);break e;case 1:e=Mp(null,e,r,t,n);break e;case 11:e=bp(null,e,r,t,n);break e;case 14:e=Vp(null,e,r,En(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:En(r,i),Ch(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:En(r,i),Mp(t,e,r,i,n);case 3:e:{if(xv(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,q1(t,e),jc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ws(Error($(423)),e),e=Op(t,e,r,n,i);break e}else if(r!==i){i=Ws(Error($(424)),e),e=Op(t,e,r,n,i);break e}else for(Zt=zr(e.stateNode.containerInfo.firstChild),en=e,be=!0,Tn=null,n=Y1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hs(),r===i){e=ur(t,e,n);break e}Vt(t,e,r,n)}e=e.child}return e;case 5:return J1(e),t===null&&yh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,fh(r,i)?o=null:s!==null&&fh(r,s)&&(e.flags|=32),Ev(t,e),Vt(t,e,o,n),e.child;case 6:return t===null&&yh(e),null;case 13:return Cv(t,e,n);case 4:return Uf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zs(e,null,r,n):Vt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:En(r,i),bp(t,e,r,i,n);case 7:return Vt(t,e,e.pendingProps,n),e.child;case 8:return Vt(t,e,e.pendingProps.children,n),e.child;case 12:return Vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ne(Pc,r._currentValue),r._currentValue=o,s!==null)if(Pn(s.value,o)){if(s.children===i.children&&!qt.current){e=ur(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){o=s.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=rr(-1,n&-n),u.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),_h(s.return,n,e),c.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),_h(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Vt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ls(e,n),i=pn(i),r=r(i),e.flags|=1,Vt(t,e,r,n),e.child;case 14:return r=e.type,i=En(r,e.pendingProps),i=En(r.type,i),Vp(t,e,r,i,n);case 15:return _v(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:En(r,i),nc(t,e),e.tag=1,Kt(r)?(t=!0,Sc(e)):t=!1,Ls(e,n),G1(e,r,i),Eh(e,r,i,n),Th(null,e,r,!0,t,n);case 19:return Tv(t,e,n);case 22:return wv(t,e,n)}throw Error($(156,e.tag))};function Uv(t,e){return h1(t,e)}function m6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,e,n,r){return new m6(t,e,n,r)}function t0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function g6(t){if(typeof t=="function")return t0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wf)return 11;if(t===Ef)return 14}return 2}function Kr(t,e){var n=t.alternate;return n===null?(n=dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")t0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gs:return Pi(n.children,i,s,e);case _f:o=8,i|=8;break;case Wd:return t=dn(12,n,e,i|2),t.elementType=Wd,t.lanes=s,t;case qd:return t=dn(13,n,e,i),t.elementType=qd,t.lanes=s,t;case Kd:return t=dn(19,n,e,i),t.elementType=Kd,t.lanes=s,t;case Qg:return gu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Kg:o=10;break e;case Gg:o=9;break e;case wf:o=11;break e;case Ef:o=14;break e;case Nr:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=dn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Pi(t,e,n,r){return t=dn(7,t,r,e),t.lanes=n,t}function gu(t,e,n,r){return t=dn(22,t,r,e),t.elementType=Qg,t.lanes=n,t.stateNode={isHidden:!1},t}function kd(t,e,n){return t=dn(6,t,null,e),t.lanes=n,t}function Pd(t,e,n){return e=dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function v6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ld(0),this.expirationTimes=ld(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ld(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function n0(t,e,n,r,i,s,o,c,u){return t=new v6(t,e,n,c,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=dn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ff(s),t}function y6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ms,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Bv(t){if(!t)return Xr;t=t._reactInternals;e:{if(Wi(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Kt(n))return U1(t,n,e)}return e}function Hv(t,e,n,r,i,s,o,c,u){return t=n0(n,r,!0,t,i,s,o,c,u),t.context=Bv(null),n=t.current,r=Mt(),i=qr(n),s=rr(r,i),s.callback=e??null,$r(n,s,i),t.current.lanes=i,za(t,i,r),Gt(t,r),t}function vu(t,e,n,r){var i=e.current,s=Mt(),o=qr(i);return n=Bv(n),e.context===null?e.context=n:e.pendingContext=n,e=rr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$r(i,e,o),t!==null&&(In(t,i,o,s),Xl(t,i,o)),o}function Oc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Gp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function r0(t,e){Gp(t,e),(t=t.alternate)&&Gp(t,e)}function _6(){return null}var zv=typeof reportError=="function"?reportError:function(t){console.error(t)};function i0(t){this._internalRoot=t}yu.prototype.render=i0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));vu(t,e,null,null)};yu.prototype.unmount=i0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Li(function(){vu(null,t,null,null)}),e[lr]=null}};function yu(t){this._internalRoot=t}yu.prototype.unstable_scheduleHydration=function(t){if(t){var e=_1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ar.length&&e!==0&&e<Ar[n].priority;n++);Ar.splice(n,0,t),n===0&&E1(t)}};function s0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Qp(){}function w6(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=Oc(o);s.call(d)}}var o=Hv(e,r,t,0,null,!1,!1,"",Qp);return t._reactRootContainer=o,t[lr]=o.current,Ea(t.nodeType===8?t.parentNode:t),Li(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var d=Oc(u);c.call(d)}}var u=n0(t,0,!1,null,null,!1,!1,"",Qp);return t._reactRootContainer=u,t[lr]=u.current,Ea(t.nodeType===8?t.parentNode:t),Li(function(){vu(e,u,n,r)}),u}function wu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var c=i;i=function(){var u=Oc(o);c.call(u)}}vu(e,o,t,i)}else o=w6(n,e,t,i,r);return Oc(o)}v1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$o(e.pendingLanes);n!==0&&(Tf(e,n|1),Gt(e,Qe()),!(Ce&6)&&(qs=Qe()+500,oi()))}break;case 13:Li(function(){var r=cr(t,1);if(r!==null){var i=Mt();In(r,t,1,i)}}),r0(t,1)}};Sf=function(t){if(t.tag===13){var e=cr(t,134217728);if(e!==null){var n=Mt();In(e,t,134217728,n)}r0(t,134217728)}};y1=function(t){if(t.tag===13){var e=qr(t),n=cr(t,e);if(n!==null){var r=Mt();In(n,t,e,r)}r0(t,e)}};_1=function(){return Ie};w1=function(t,e){var n=Ie;try{return Ie=t,e()}finally{Ie=n}};rh=function(t,e,n){switch(e){case"input":if(Yd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=uu(r);if(!i)throw Error($(90));Jg(r),Yd(r,i)}}}break;case"textarea":Xg(t,n);break;case"select":e=n.value,e!=null&&js(t,!!n.multiple,e,!1)}};o1=Zf;a1=Li;var E6={usingClientEntryPoint:!1,Events:[Wa,ws,uu,i1,s1,Zf]},bo={findFiberByHostInstance:Ei,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},x6={bundleType:bo.bundleType,version:bo.version,rendererPackageName:bo.rendererPackageName,rendererConfig:bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=u1(t),t===null?null:t.stateNode},findFiberByHostInstance:bo.findFiberByHostInstance||_6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hl.isDisabled&&Hl.supportsFiber)try{ou=Hl.inject(x6),On=Hl}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E6;rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!s0(e))throw Error($(200));return y6(t,e,null,n)};rn.createRoot=function(t,e){if(!s0(t))throw Error($(299));var n=!1,r="",i=zv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=n0(t,1,!1,null,null,n,!1,r,i),t[lr]=e.current,Ea(t.nodeType===8?t.parentNode:t),new i0(e)};rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=u1(e),t=t===null?null:t.stateNode,t};rn.flushSync=function(t){return Li(t)};rn.hydrate=function(t,e,n){if(!_u(e))throw Error($(200));return wu(null,t,e,!0,n)};rn.hydrateRoot=function(t,e,n){if(!s0(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=zv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Hv(e,null,t,1,n??null,i,!1,s,o),t[lr]=e.current,Ea(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new yu(e)};rn.render=function(t,e,n){if(!_u(e))throw Error($(200));return wu(null,t,e,!1,n)};rn.unmountComponentAtNode=function(t){if(!_u(t))throw Error($(40));return t._reactRootContainer?(Li(function(){wu(null,null,t,!1,function(){t._reactRootContainer=null,t[lr]=null})}),!0):!1};rn.unstable_batchedUpdates=Zf;rn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_u(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return wu(t,e,n,!1,r)};rn.version="18.2.0-next-9e3b772b8-20220608";function $v(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($v)}catch(t){console.error(t)}}$v(),Hg.exports=rn;var o0=Hg.exports;const C6=jg(o0),T6=Ng({__proto__:null,default:C6},[o0]);var Yp=o0;zd.createRoot=Yp.createRoot,zd.hydrateRoot=Yp.hydrateRoot;/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oe(){return Oe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oe.apply(this,arguments)}var Ge;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ge||(Ge={}));const Jp="popstate";function S6(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:c}=r.location;return ja("",{pathname:s,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:bi(i)}return k6(e,n,null,t)}function pe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ks(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function I6(){return Math.random().toString(36).substr(2,8)}function Zp(t,e){return{usr:t.state,key:t.key,idx:e}}function ja(t,e,n,r){return n===void 0&&(n=null),Oe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?mr(e):e,{state:n,key:e&&e.key||r||I6()})}function bi(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function mr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function k6(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,c=Ge.Pop,u=null,d=f();d==null&&(d=0,o.replaceState(Oe({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function m(){c=Ge.Pop;let A=f(),C=A==null?null:A-d;d=A,u&&u({action:c,location:N.location,delta:C})}function g(A,C){c=Ge.Push;let x=ja(N.location,A,C);n&&n(x,A),d=f()+1;let k=Zp(x,d),b=N.createHref(x);try{o.pushState(k,"",b)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(b)}s&&u&&u({action:c,location:N.location,delta:1})}function T(A,C){c=Ge.Replace;let x=ja(N.location,A,C);n&&n(x,A),d=f();let k=Zp(x,d),b=N.createHref(x);o.replaceState(k,"",b),s&&u&&u({action:c,location:N.location,delta:0})}function S(A){let C=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof A=="string"?A:bi(A);return x=x.replace(/ $/,"%20"),pe(C,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,C)}let N={get action(){return c},get location(){return t(i,o)},listen(A){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Jp,m),u=A,()=>{i.removeEventListener(Jp,m),u=null}},createHref(A){return e(i,A)},createURL:S,encodeLocation(A){let C=S(A);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:T,go(A){return o.go(A)}};return N}var Le;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Le||(Le={}));const P6=new Set(["lazy","caseSensitive","path","id","index","children"]);function N6(t){return t.index===!0}function Vh(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],c=typeof i.id=="string"?i.id:o.join("-");if(pe(i.index!==!0||!i.children,"Cannot specify children on an index route"),pe(!r[c],'Found a route id collision on id "'+c+`".  Route id's must be globally unique within Data Router usages`),N6(i)){let u=Oe({},i,e(i),{id:c});return r[c]=u,u}else{let u=Oe({},i,e(i),{id:c,children:void 0});return r[c]=u,i.children&&(u.children=Vh(i.children,e,o,r)),u}})}function ks(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?mr(e):e,i=ao(r.pathname||"/",n);if(i==null)return null;let s=Wv(t);A6(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let u=z6(i);o=U6(s[c],u)}return o}function j6(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Wv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(pe(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=ir([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(pe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Wv(s.children,e,f,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:O6(d,s.index),routesMeta:f})};return t.forEach((s,o)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,o);else for(let u of qv(s.path))i(s,o,u)}),e}function qv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=qv(r.join("/")),c=[];return c.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&c.push(...o),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function A6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:F6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const R6=/^:[\w-]+$/,D6=3,L6=2,b6=1,V6=10,M6=-2,Xp=t=>t==="*";function O6(t,e){let n=t.split("/"),r=n.length;return n.some(Xp)&&(r+=M6),e&&(r+=L6),n.filter(i=>!Xp(i)).reduce((i,s)=>i+(R6.test(s)?D6:s===""?b6:V6),r)}function F6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function U6(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=B6({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d);if(!f)return null;Object.assign(r,f.params);let m=c.route;s.push({params:r,pathname:ir([i,f.pathname]),pathnameBase:q6(ir([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=ir([i,f.pathnameBase]))}return s}function B6(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=H6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((d,f,m)=>{let{paramName:g,isOptional:T}=f;if(g==="*"){let N=c[m]||"";o=s.slice(0,s.length-N.length).replace(/(.)\/+$/,"$1")}const S=c[m];return T&&!S?d[g]=void 0:d[g]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function H6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ks(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function z6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ks(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ao(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?mr(t):t;return{pathname:n?n.startsWith("/")?n:W6(n,e):e,search:K6(r),hash:G6(i)}}function W6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Nd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function a0(t,e){let n=Kv(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function l0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=mr(t):(i=Oe({},t),pe(!i.pathname||!i.pathname.includes("?"),Nd("?","pathname","search",i)),pe(!i.pathname||!i.pathname.includes("#"),Nd("#","pathname","hash",i)),pe(!i.search||!i.search.includes("#"),Nd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,c;if(o==null)c=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}c=m>=0?e[m]:"/"}let u=$6(i,c),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const ir=t=>t.join("/").replace(/\/\/+/g,"/"),q6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),K6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,G6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class c0{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function u0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Gv=["post","put","patch","delete"],Q6=new Set(Gv),Y6=["get",...Gv],J6=new Set(Y6),Z6=new Set([301,302,303,307,308]),X6=new Set([307,308]),jd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},e4={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},d0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,t4=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Qv="remix-router-transitions";function n4(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;pe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let R=t.detectErrorBoundary;i=V=>({hasErrorBoundary:R(V)})}else i=t4;let s={},o=Vh(t.routes,i,void 0,s),c,u=t.basename||"/",d=t.unstable_dataStrategy||o4,f=Oe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),m=null,g=new Set,T=null,S=null,N=null,A=t.hydrationData!=null,C=ks(o,t.history.location,u),x=null;if(C==null){let R=an(404,{pathname:t.history.location.pathname}),{matches:V,route:F}=cm(o);C=V,x={[F.id]:R}}let k,b=C.some(R=>R.route.lazy),B=C.some(R=>R.route.loader);if(b)k=!1;else if(!B)k=!0;else if(f.v7_partialHydration){let R=t.hydrationData?t.hydrationData.loaderData:null,V=t.hydrationData?t.hydrationData.errors:null,F=W=>W.route.loader?typeof W.route.loader=="function"&&W.route.loader.hydrate===!0?!1:R&&R[W.route.id]!==void 0||V&&V[W.route.id]!==void 0:!0;if(V){let W=C.findIndex(G=>V[G.route.id]!==void 0);k=C.slice(0,W+1).every(F)}else k=C.every(F)}else k=t.hydrationData!=null;let O,v={historyAction:t.history.action,location:t.history.location,matches:C,initialized:k,navigation:jd,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||x,fetchers:new Map,blockers:new Map},y=Ge.Pop,E=!1,w,P=!1,j=new Map,I=null,K=!1,Me=!1,X=[],Je=[],U=new Map,ee=0,ne=-1,fe=new Map,he=new Set,_e=new Map,ge=new Map,Ke=new Set,we=new Map,lt=new Map,po=!1;function Ku(){if(m=t.history.listen(R=>{let{action:V,location:F,delta:W}=R;if(po){po=!1;return}Ks(lt.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let G=pl({currentLocation:v.location,nextLocation:F,historyAction:V});if(G&&W!=null){po=!0,t.history.go(W*-1),is(G,{state:"blocked",location:F,proceed(){is(G,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),t.history.go(W)},reset(){let ce=new Map(v.blockers);ce.set(G,Vo),pt({blockers:ce})}});return}return An(V,F)}),n){y4(e,j);let R=()=>_4(e,j);e.addEventListener("pagehide",R),I=()=>e.removeEventListener("pagehide",R)}return v.initialized||An(Ge.Pop,v.location,{initialHydration:!0}),O}function Xi(){m&&m(),I&&I(),g.clear(),w&&w.abort(),v.fetchers.forEach((R,V)=>Kn(V)),v.blockers.forEach((R,V)=>rs(V))}function es(R){return g.add(R),()=>g.delete(R)}function pt(R,V){V===void 0&&(V={}),v=Oe({},v,R);let F=[],W=[];f.v7_fetcherPersist&&v.fetchers.forEach((G,ce)=>{G.state==="idle"&&(Ke.has(ce)?W.push(ce):F.push(ce))}),[...g].forEach(G=>G(v,{deletedFetchers:W,unstable_viewTransitionOpts:V.viewTransitionOpts,unstable_flushSync:V.flushSync===!0})),f.v7_fetcherPersist&&(F.forEach(G=>v.fetchers.delete(G)),W.forEach(G=>Kn(G)))}function qn(R,V,F){var W,G;let{flushSync:ce}=F===void 0?{}:F,Q=v.actionData!=null&&v.navigation.formMethod!=null&&Cn(v.navigation.formMethod)&&v.navigation.state==="loading"&&((W=R.state)==null?void 0:W._isRedirect)!==!0,Y;V.actionData?Object.keys(V.actionData).length>0?Y=V.actionData:Y=null:Q?Y=v.actionData:Y=null;let ae=V.loaderData?am(v.loaderData,V.loaderData,V.matches||[],V.errors):v.loaderData,se=v.blockers;se.size>0&&(se=new Map(se),se.forEach((re,Pe)=>se.set(Pe,Vo)));let nt=E===!0||v.navigation.formMethod!=null&&Cn(v.navigation.formMethod)&&((G=R.state)==null?void 0:G._isRedirect)!==!0;c&&(o=c,c=void 0),K||y===Ge.Pop||(y===Ge.Push?t.history.push(R,R.state):y===Ge.Replace&&t.history.replace(R,R.state));let rt;if(y===Ge.Pop){let re=j.get(v.location.pathname);re&&re.has(R.pathname)?rt={currentLocation:v.location,nextLocation:R}:j.has(R.pathname)&&(rt={currentLocation:R,nextLocation:v.location})}else if(P){let re=j.get(v.location.pathname);re?re.add(R.pathname):(re=new Set([R.pathname]),j.set(v.location.pathname,re)),rt={currentLocation:v.location,nextLocation:R}}pt(Oe({},V,{actionData:Y,loaderData:ae,historyAction:y,location:R,initialized:!0,navigation:jd,revalidation:"idle",restoreScrollPosition:ss(R,V.matches||v.matches),preventScrollReset:nt,blockers:se}),{viewTransitionOpts:rt,flushSync:ce===!0}),y=Ge.Pop,E=!1,P=!1,K=!1,Me=!1,X=[],Je=[]}async function ts(R,V){if(typeof R=="number"){t.history.go(R);return}let F=Mh(v.location,v.matches,u,f.v7_prependBasename,R,f.v7_relativeSplatPath,V==null?void 0:V.fromRouteId,V==null?void 0:V.relative),{path:W,submission:G,error:ce}=em(f.v7_normalizeFormMethod,!1,F,V),Q=v.location,Y=ja(v.location,W,V&&V.state);Y=Oe({},Y,t.history.encodeLocation(Y));let ae=V&&V.replace!=null?V.replace:void 0,se=Ge.Push;ae===!0?se=Ge.Replace:ae===!1||G!=null&&Cn(G.formMethod)&&G.formAction===v.location.pathname+v.location.search&&(se=Ge.Replace);let nt=V&&"preventScrollReset"in V?V.preventScrollReset===!0:void 0,rt=(V&&V.unstable_flushSync)===!0,re=pl({currentLocation:Q,nextLocation:Y,historyAction:se});if(re){is(re,{state:"blocked",location:Y,proceed(){is(re,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),ts(R,V)},reset(){let Pe=new Map(v.blockers);Pe.set(re,Vo),pt({blockers:Pe})}});return}return await An(se,Y,{submission:G,pendingError:ce,preventScrollReset:nt,replace:V&&V.replace,enableViewTransition:V&&V.unstable_viewTransition,flushSync:rt})}function mo(){if(ui(),pt({revalidation:"loading"}),v.navigation.state!=="submitting"){if(v.navigation.state==="idle"){An(v.historyAction,v.location,{startUninterruptedRevalidation:!0});return}An(y||v.historyAction,v.navigation.location,{overrideNavigation:v.navigation})}}async function An(R,V,F){w&&w.abort(),w=null,y=R,K=(F&&F.startUninterruptedRevalidation)===!0,hi(v.location,v.matches),E=(F&&F.preventScrollReset)===!0,P=(F&&F.enableViewTransition)===!0;let W=c||o,G=F&&F.overrideNavigation,ce=ks(W,V,u),Q=(F&&F.flushSync)===!0;if(!ce){let re=an(404,{pathname:V.pathname}),{matches:Pe,route:Ze}=cm(W);di(),qn(V,{matches:Pe,loaderData:{},errors:{[Ze.id]:re}},{flushSync:Q});return}if(v.initialized&&!Me&&h4(v.location,V)&&!(F&&F.submission&&Cn(F.submission.formMethod))){qn(V,{matches:ce},{flushSync:Q});return}w=new AbortController;let Y=ds(t.history,V,w.signal,F&&F.submission),ae;if(F&&F.pendingError)ae=[aa(ce).route.id,{type:Le.error,error:F.pendingError}];else if(F&&F.submission&&Cn(F.submission.formMethod)){let re=await ll(Y,V,F.submission,ce,{replace:F.replace,flushSync:Q});if(re.shortCircuited)return;ae=re.pendingActionResult,G=Ad(V,F.submission),Q=!1,Y=ds(t.history,Y.url,Y.signal)}let{shortCircuited:se,loaderData:nt,errors:rt}=await Gu(Y,V,ce,G,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,Q,ae);se||(w=null,qn(V,Oe({matches:ce},lm(ae),{loaderData:nt,errors:rt})))}async function ll(R,V,F,W,G){G===void 0&&(G={}),ui();let ce=g4(V,F);pt({navigation:ce},{flushSync:G.flushSync===!0});let Q,Y=Fh(W,V);if(!Y.route.action&&!Y.route.lazy)Q={type:Le.error,error:an(405,{method:R.method,pathname:V.pathname,routeId:Y.route.id})};else if(Q=(await ci("action",R,[Y],W))[0],R.signal.aborted)return{shortCircuited:!0};if(Si(Q)){let ae;return G&&G.replace!=null?ae=G.replace:ae=im(Q.response.headers.get("Location"),new URL(R.url),u)===v.location.pathname+v.location.search,await yr(R,Q,{submission:F,replace:ae}),{shortCircuited:!0}}if(Ti(Q))throw an(400,{type:"defer-action"});if(un(Q)){let ae=aa(W,Y.route.id);return(G&&G.replace)!==!0&&(y=Ge.Push),{pendingActionResult:[ae.route.id,Q]}}return{pendingActionResult:[Y.route.id,Q]}}async function Gu(R,V,F,W,G,ce,Q,Y,ae,se){let nt=W||Ad(V,G),rt=G||ce||hm(nt),re=c||o,[Pe,Ze]=tm(t.history,v,F,rt,V,f.v7_partialHydration&&Y===!0,f.unstable_skipActionErrorRevalidation,Me,X,Je,Ke,_e,he,re,u,se);if(di(me=>!(F&&F.some(ut=>ut.route.id===me))||Pe&&Pe.some(ut=>ut.route.id===me)),ne=++ee,Pe.length===0&&Ze.length===0){let me=_r();return qn(V,Oe({matches:F,loaderData:{},errors:se&&un(se[1])?{[se[0]]:se[1].error}:null},lm(se),me?{fetchers:new Map(v.fetchers)}:{}),{flushSync:ae}),{shortCircuited:!0}}if(!K&&(!f.v7_partialHydration||!Y)){Ze.forEach(ut=>{let Bt=v.fetchers.get(ut.key),$e=Mo(void 0,Bt?Bt.data:void 0);v.fetchers.set(ut.key,$e)});let me;se&&!un(se[1])?me={[se[0]]:se[1].data}:v.actionData&&(Object.keys(v.actionData).length===0?me=null:me=v.actionData),pt(Oe({navigation:nt},me!==void 0?{actionData:me}:{},Ze.length>0?{fetchers:new Map(v.fetchers)}:{}),{flushSync:ae})}Ze.forEach(me=>{U.has(me.key)&&gn(me.key),me.controller&&U.set(me.key,me.controller)});let Rn=()=>Ze.forEach(me=>gn(me.key));w&&w.signal.addEventListener("abort",Rn);let{loaderResults:vn,fetcherResults:Dn}=await ns(v.matches,F,Pe,Ze,R);if(R.signal.aborted)return{shortCircuited:!0};w&&w.signal.removeEventListener("abort",Rn),Ze.forEach(me=>U.delete(me.key));let yn=um([...vn,...Dn]);if(yn){if(yn.idx>=Pe.length){let me=Ze[yn.idx-Pe.length].key;he.add(me)}return await yr(R,yn.result,{replace:Q}),{shortCircuited:!0}}let{loaderData:bt,errors:Qt}=om(v,F,Pe,vn,se,Ze,Dn,we);we.forEach((me,ut)=>{me.subscribe(Bt=>{(Bt||me.done)&&we.delete(ut)})}),f.v7_partialHydration&&Y&&v.errors&&Object.entries(v.errors).filter(me=>{let[ut]=me;return!Pe.some(Bt=>Bt.route.id===ut)}).forEach(me=>{let[ut,Bt]=me;Qt=Object.assign(Qt||{},{[ut]:Bt})});let fi=_r(),wr=vo(ne),Er=fi||wr||Ze.length>0;return Oe({loaderData:bt,errors:Qt},Er?{fetchers:new Map(v.fetchers)}:{})}function cl(R,V,F,W){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");U.has(R)&&gn(R);let G=(W&&W.unstable_flushSync)===!0,ce=c||o,Q=Mh(v.location,v.matches,u,f.v7_prependBasename,F,f.v7_relativeSplatPath,V,W==null?void 0:W.relative),Y=ks(ce,Q,u);if(!Y){ze(R,V,an(404,{pathname:Q}),{flushSync:G});return}let{path:ae,submission:se,error:nt}=em(f.v7_normalizeFormMethod,!0,Q,W);if(nt){ze(R,V,nt,{flushSync:G});return}let rt=Fh(Y,ae);if(E=(W&&W.preventScrollReset)===!0,se&&Cn(se.formMethod)){ul(R,V,ae,rt,Y,G,se);return}_e.set(R,{routeId:V,path:ae}),go(R,V,ae,rt,Y,G,se)}async function ul(R,V,F,W,G,ce,Q){if(ui(),_e.delete(R),!W.route.action&&!W.route.lazy){let $e=an(405,{method:Q.formMethod,pathname:F,routeId:V});ze(R,V,$e,{flushSync:ce});return}let Y=v.fetchers.get(R);on(R,v4(Q,Y),{flushSync:ce});let ae=new AbortController,se=ds(t.history,F,ae.signal,Q);U.set(R,ae);let nt=ee,re=(await ci("action",se,[W],G))[0];if(se.signal.aborted){U.get(R)===ae&&U.delete(R);return}if(f.v7_fetcherPersist&&Ke.has(R)){if(Si(re)||un(re)){on(R,Pr(void 0));return}}else{if(Si(re))if(U.delete(R),ne>nt){on(R,Pr(void 0));return}else return he.add(R),on(R,Mo(Q)),yr(se,re,{fetcherSubmission:Q});if(un(re)){ze(R,V,re.error);return}}if(Ti(re))throw an(400,{type:"defer-action"});let Pe=v.navigation.location||v.location,Ze=ds(t.history,Pe,ae.signal),Rn=c||o,vn=v.navigation.state!=="idle"?ks(Rn,v.navigation.location,u):v.matches;pe(vn,"Didn't find any matches after fetcher action");let Dn=++ee;fe.set(R,Dn);let yn=Mo(Q,re.data);v.fetchers.set(R,yn);let[bt,Qt]=tm(t.history,v,vn,Q,Pe,!1,f.unstable_skipActionErrorRevalidation,Me,X,Je,Ke,_e,he,Rn,u,[W.route.id,re]);Qt.filter($e=>$e.key!==R).forEach($e=>{let xr=$e.key,os=v.fetchers.get(xr),pi=Mo(void 0,os?os.data:void 0);v.fetchers.set(xr,pi),U.has(xr)&&gn(xr),$e.controller&&U.set(xr,$e.controller)}),pt({fetchers:new Map(v.fetchers)});let fi=()=>Qt.forEach($e=>gn($e.key));ae.signal.addEventListener("abort",fi);let{loaderResults:wr,fetcherResults:Er}=await ns(v.matches,vn,bt,Qt,Ze);if(ae.signal.aborted)return;ae.signal.removeEventListener("abort",fi),fe.delete(R),U.delete(R),Qt.forEach($e=>U.delete($e.key));let me=um([...wr,...Er]);if(me){if(me.idx>=bt.length){let $e=Qt[me.idx-bt.length].key;he.add($e)}return yr(Ze,me.result)}let{loaderData:ut,errors:Bt}=om(v,v.matches,bt,wr,void 0,Qt,Er,we);if(v.fetchers.has(R)){let $e=Pr(re.data);v.fetchers.set(R,$e)}vo(Dn),v.navigation.state==="loading"&&Dn>ne?(pe(y,"Expected pending action"),w&&w.abort(),qn(v.navigation.location,{matches:vn,loaderData:ut,errors:Bt,fetchers:new Map(v.fetchers)})):(pt({errors:Bt,loaderData:am(v.loaderData,ut,vn,Bt),fetchers:new Map(v.fetchers)}),Me=!1)}async function go(R,V,F,W,G,ce,Q){let Y=v.fetchers.get(R);on(R,Mo(Q,Y?Y.data:void 0),{flushSync:ce});let ae=new AbortController,se=ds(t.history,F,ae.signal);U.set(R,ae);let nt=ee,re=(await ci("loader",se,[W],G))[0];if(Ti(re)&&(re=await Xv(re,se.signal,!0)||re),U.get(R)===ae&&U.delete(R),!se.signal.aborted){if(Ke.has(R)){on(R,Pr(void 0));return}if(Si(re))if(ne>nt){on(R,Pr(void 0));return}else{he.add(R),await yr(se,re);return}if(un(re)){ze(R,V,re.error);return}pe(!Ti(re),"Unhandled fetcher deferred data"),on(R,Pr(re.data))}}async function yr(R,V,F){let{submission:W,fetcherSubmission:G,replace:ce}=F===void 0?{}:F;V.response.headers.has("X-Remix-Revalidate")&&(Me=!0);let Q=V.response.headers.get("Location");pe(Q,"Expected a Location header on the redirect Response"),Q=im(Q,new URL(R.url),u);let Y=ja(v.location,Q,{_isRedirect:!0});if(n){let Pe=!1;if(V.response.headers.has("X-Remix-Reload-Document"))Pe=!0;else if(d0.test(Q)){const Ze=t.history.createURL(Q);Pe=Ze.origin!==e.location.origin||ao(Ze.pathname,u)==null}if(Pe){ce?e.location.replace(Q):e.location.assign(Q);return}}w=null;let ae=ce===!0?Ge.Replace:Ge.Push,{formMethod:se,formAction:nt,formEncType:rt}=v.navigation;!W&&!G&&se&&nt&&rt&&(W=hm(v.navigation));let re=W||G;if(X6.has(V.response.status)&&re&&Cn(re.formMethod))await An(ae,Y,{submission:Oe({},re,{formAction:Q}),preventScrollReset:E});else{let Pe=Ad(Y,W);await An(ae,Y,{overrideNavigation:Pe,fetcherSubmission:G,preventScrollReset:E})}}async function ci(R,V,F,W){try{let G=await a4(d,R,V,F,W,s,i);return await Promise.all(G.map((ce,Q)=>{if(f4(ce)){let Y=ce.result;return{type:Le.redirect,response:u4(Y,V,F[Q].route.id,W,u,f.v7_relativeSplatPath)}}return c4(ce)}))}catch(G){return F.map(()=>({type:Le.error,error:G}))}}async function ns(R,V,F,W,G){let[ce,...Q]=await Promise.all([F.length?ci("loader",G,F,V):[],...W.map(Y=>{if(Y.matches&&Y.match&&Y.controller){let ae=ds(t.history,Y.path,Y.controller.signal);return ci("loader",ae,[Y.match],Y.matches).then(se=>se[0])}else return Promise.resolve({type:Le.error,error:an(404,{pathname:Y.path})})})]);return await Promise.all([dm(R,F,ce,ce.map(()=>G.signal),!1,v.loaderData),dm(R,W.map(Y=>Y.match),Q,W.map(Y=>Y.controller?Y.controller.signal:null),!0)]),{loaderResults:ce,fetcherResults:Q}}function ui(){Me=!0,X.push(...di()),_e.forEach((R,V)=>{U.has(V)&&(Je.push(V),gn(V))})}function on(R,V,F){F===void 0&&(F={}),v.fetchers.set(R,V),pt({fetchers:new Map(v.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function ze(R,V,F,W){W===void 0&&(W={});let G=aa(v.matches,V);Kn(R),pt({errors:{[G.route.id]:F},fetchers:new Map(v.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function ct(R){return f.v7_fetcherPersist&&(ge.set(R,(ge.get(R)||0)+1),Ke.has(R)&&Ke.delete(R)),v.fetchers.get(R)||e4}function Kn(R){let V=v.fetchers.get(R);U.has(R)&&!(V&&V.state==="loading"&&fe.has(R))&&gn(R),_e.delete(R),fe.delete(R),he.delete(R),Ke.delete(R),v.fetchers.delete(R)}function dl(R){if(f.v7_fetcherPersist){let V=(ge.get(R)||0)-1;V<=0?(ge.delete(R),Ke.add(R)):ge.set(R,V)}else Kn(R);pt({fetchers:new Map(v.fetchers)})}function gn(R){let V=U.get(R);pe(V,"Expected fetch controller: "+R),V.abort(),U.delete(R)}function hl(R){for(let V of R){let F=ct(V),W=Pr(F.data);v.fetchers.set(V,W)}}function _r(){let R=[],V=!1;for(let F of he){let W=v.fetchers.get(F);pe(W,"Expected fetcher: "+F),W.state==="loading"&&(he.delete(F),R.push(F),V=!0)}return hl(R),V}function vo(R){let V=[];for(let[F,W]of fe)if(W<R){let G=v.fetchers.get(F);pe(G,"Expected fetcher: "+F),G.state==="loading"&&(gn(F),fe.delete(F),V.push(F))}return hl(V),V.length>0}function fl(R,V){let F=v.blockers.get(R)||Vo;return lt.get(R)!==V&&lt.set(R,V),F}function rs(R){v.blockers.delete(R),lt.delete(R)}function is(R,V){let F=v.blockers.get(R)||Vo;pe(F.state==="unblocked"&&V.state==="blocked"||F.state==="blocked"&&V.state==="blocked"||F.state==="blocked"&&V.state==="proceeding"||F.state==="blocked"&&V.state==="unblocked"||F.state==="proceeding"&&V.state==="unblocked","Invalid blocker state transition: "+F.state+" -> "+V.state);let W=new Map(v.blockers);W.set(R,V),pt({blockers:W})}function pl(R){let{currentLocation:V,nextLocation:F,historyAction:W}=R;if(lt.size===0)return;lt.size>1&&Ks(!1,"A router only supports one blocker at a time");let G=Array.from(lt.entries()),[ce,Q]=G[G.length-1],Y=v.blockers.get(ce);if(!(Y&&Y.state==="proceeding")&&Q({currentLocation:V,nextLocation:F,historyAction:W}))return ce}function di(R){let V=[];return we.forEach((F,W)=>{(!R||R(W))&&(F.cancel(),V.push(W),we.delete(W))}),V}function ml(R,V,F){if(T=R,N=V,S=F||null,!A&&v.navigation===jd){A=!0;let W=ss(v.location,v.matches);W!=null&&pt({restoreScrollPosition:W})}return()=>{T=null,N=null,S=null}}function yo(R,V){return S&&S(R,V.map(W=>j6(W,v.loaderData)))||R.key}function hi(R,V){if(T&&N){let F=yo(R,V);T[F]=N()}}function ss(R,V){if(T){let F=yo(R,V),W=T[F];if(typeof W=="number")return W}return null}function _o(R){s={},c=Vh(R,i,void 0,s)}return O={get basename(){return u},get future(){return f},get state(){return v},get routes(){return o},get window(){return e},initialize:Ku,subscribe:es,enableScrollRestoration:ml,navigate:ts,fetch:cl,revalidate:mo,createHref:R=>t.history.createHref(R),encodeLocation:R=>t.history.encodeLocation(R),getFetcher:ct,deleteFetcher:dl,dispose:Xi,getBlocker:fl,deleteBlocker:rs,_internalFetchControllers:U,_internalActiveDeferreds:we,_internalSetRoutes:_o},O}function r4(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Mh(t,e,n,r,i,s,o,c){let u,d;if(o){u=[];for(let m of e)if(u.push(m),m.route.id===o){d=m;break}}else u=e,d=e[e.length-1];let f=l0(i||".",a0(u,s),ao(t.pathname,n)||t.pathname,c==="path");return i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&d&&d.route.index&&!h0(f.search)&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:ir([n,f.pathname])),bi(f)}function em(t,e,n,r){if(!r||!r4(r))return{path:n};if(r.formMethod&&!m4(r.formMethod))return{path:n,error:an(405,{method:r.formMethod})};let i=()=>({path:n,error:an(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),c=Jv(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Cn(o))return i();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((T,S)=>{let[N,A]=S;return""+T+N+"="+A+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!Cn(o))return i();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:c,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}pe(typeof FormData=="function","FormData is not available in this environment");let u,d;if(r.formData)u=Oh(r.formData),d=r.formData;else if(r.body instanceof FormData)u=Oh(r.body),d=r.body;else if(r.body instanceof URLSearchParams)u=r.body,d=sm(u);else if(r.body==null)u=new URLSearchParams,d=new FormData;else try{u=new URLSearchParams(r.body),d=sm(u)}catch{return i()}let f={formMethod:o,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Cn(f.formMethod))return{path:n,submission:f};let m=mr(n);return e&&m.search&&h0(m.search)&&u.append("index",""),m.search="?"+u,{path:bi(m),submission:f}}function i4(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function tm(t,e,n,r,i,s,o,c,u,d,f,m,g,T,S,N){let A=N?un(N[1])?N[1].error:N[1].data:void 0,C=t.createURL(e.location),x=t.createURL(i),k=N&&un(N[1])?N[0]:void 0,b=k?i4(n,k):n,B=N?N[1].statusCode:void 0,O=o&&B&&B>=400,v=b.filter((E,w)=>{let{route:P}=E;if(P.lazy)return!0;if(P.loader==null)return!1;if(s)return typeof P.loader!="function"||P.loader.hydrate?!0:e.loaderData[P.id]===void 0&&(!e.errors||e.errors[P.id]===void 0);if(s4(e.loaderData,e.matches[w],E)||u.some(K=>K===E.route.id))return!0;let j=e.matches[w],I=E;return nm(E,Oe({currentUrl:C,currentParams:j.params,nextUrl:x,nextParams:I.params},r,{actionResult:A,unstable_actionStatus:B,defaultShouldRevalidate:O?!1:c||C.pathname+C.search===x.pathname+x.search||C.search!==x.search||Yv(j,I)}))}),y=[];return m.forEach((E,w)=>{if(s||!n.some(Me=>Me.route.id===E.routeId)||f.has(w))return;let P=ks(T,E.path,S);if(!P){y.push({key:w,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let j=e.fetchers.get(w),I=Fh(P,E.path),K=!1;g.has(w)?K=!1:d.includes(w)?K=!0:j&&j.state!=="idle"&&j.data===void 0?K=c:K=nm(I,Oe({currentUrl:C,currentParams:e.matches[e.matches.length-1].params,nextUrl:x,nextParams:n[n.length-1].params},r,{actionResult:A,unstable_actionStatus:B,defaultShouldRevalidate:O?!1:c})),K&&y.push({key:w,routeId:E.routeId,path:E.path,matches:P,match:I,controller:new AbortController})}),[v,y]}function s4(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Yv(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function nm(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function rm(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];pe(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";Ks(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!P6.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Oe({},e(i),{lazy:void 0}))}function o4(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function a4(t,e,n,r,i,s,o,c){let u=r.reduce((m,g)=>m.add(g.route.id),new Set),d=new Set,f=await t({matches:i.map(m=>{let g=u.has(m.route.id);return Oe({},m,{shouldLoad:g,resolve:S=>(d.add(m.route.id),g?l4(e,n,m,s,o,S,c):Promise.resolve({type:Le.data,result:void 0}))})}),request:n,params:i[0].params,context:c});return i.forEach(m=>pe(d.has(m.route.id),'`match.resolve()` was not called for route id "'+m.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),f.filter((m,g)=>u.has(i[g].route.id))}async function l4(t,e,n,r,i,s,o){let c,u,d=f=>{let m,g=new Promise((N,A)=>m=A);u=()=>m(),e.signal.addEventListener("abort",u);let T=N=>typeof f!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):f({request:e,params:n.params,context:o},...N!==void 0?[N]:[]),S;return s?S=s(N=>T(N)):S=(async()=>{try{return{type:"data",result:await T()}}catch(N){return{type:"error",result:N}}})(),Promise.race([S,g])};try{let f=n.route[t];if(n.route.lazy)if(f){let m,[g]=await Promise.all([d(f).catch(T=>{m=T}),rm(n.route,i,r)]);if(m!==void 0)throw m;c=g}else if(await rm(n.route,i,r),f=n.route[t],f)c=await d(f);else if(t==="action"){let m=new URL(e.url),g=m.pathname+m.search;throw an(405,{method:e.method,pathname:g,routeId:n.route.id})}else return{type:Le.data,result:void 0};else if(f)c=await d(f);else{let m=new URL(e.url),g=m.pathname+m.search;throw an(404,{pathname:g})}pe(c.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(f){return{type:Le.error,result:f}}finally{u&&e.signal.removeEventListener("abort",u)}return c}async function c4(t){let{result:e,type:n,status:r}=t;if(Zv(e)){let o;try{let c=e.headers.get("Content-Type");c&&/\bapplication\/json\b/.test(c)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(c){return{type:Le.error,error:c}}return n===Le.error?{type:Le.error,error:new c0(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:Le.data,data:o,statusCode:e.status,headers:e.headers}}if(n===Le.error)return{type:Le.error,error:e,statusCode:u0(e)?e.status:r};if(p4(e)){var i,s;return{type:Le.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:Le.data,data:e,statusCode:r}}function u4(t,e,n,r,i,s){let o=t.headers.get("Location");if(pe(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!d0.test(o)){let c=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=Mh(new URL(e.url),c,i,!0,o,s),t.headers.set("Location",o)}return t}function im(t,e,n){if(d0.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=ao(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function ds(t,e,n,r){let i=t.createURL(Jv(e)).toString(),s={signal:n};if(r&&Cn(r.formMethod)){let{formMethod:o,formEncType:c}=r;s.method=o.toUpperCase(),c==="application/json"?(s.headers=new Headers({"Content-Type":c}),s.body=JSON.stringify(r.json)):c==="text/plain"?s.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?s.body=Oh(r.formData):s.body=r.formData}return new Request(i,s)}function Oh(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function sm(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function d4(t,e,n,r,i,s){let o={},c=null,u,d=!1,f={},m=r&&un(r[1])?r[1].error:void 0;return n.forEach((g,T)=>{let S=e[T].route.id;if(pe(!Si(g),"Cannot handle redirect results in processLoaderData"),un(g)){let N=g.error;if(m!==void 0&&(N=m,m=void 0),c=c||{},s)c[S]=N;else{let A=aa(t,S);c[A.route.id]==null&&(c[A.route.id]=N)}o[S]=void 0,d||(d=!0,u=u0(g.error)?g.error.status:500),g.headers&&(f[S]=g.headers)}else Ti(g)?(i.set(S,g.deferredData),o[S]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!d&&(u=g.statusCode),g.headers&&(f[S]=g.headers)):(o[S]=g.data,g.statusCode&&g.statusCode!==200&&!d&&(u=g.statusCode),g.headers&&(f[S]=g.headers))}),m!==void 0&&r&&(c={[r[0]]:m},o[r[0]]=void 0),{loaderData:o,errors:c,statusCode:u||200,loaderHeaders:f}}function om(t,e,n,r,i,s,o,c){let{loaderData:u,errors:d}=d4(e,n,r,i,c,!1);for(let f=0;f<s.length;f++){let{key:m,match:g,controller:T}=s[f];pe(o!==void 0&&o[f]!==void 0,"Did not find corresponding fetcher result");let S=o[f];if(!(T&&T.signal.aborted))if(un(S)){let N=aa(t.matches,g==null?void 0:g.route.id);d&&d[N.route.id]||(d=Oe({},d,{[N.route.id]:S.error})),t.fetchers.delete(m)}else if(Si(S))pe(!1,"Unhandled fetcher revalidation redirect");else if(Ti(S))pe(!1,"Unhandled fetcher deferred data");else{let N=Pr(S.data);t.fetchers.set(m,N)}}return{loaderData:u,errors:d}}function am(t,e,n,r){let i=Oe({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function lm(t){return t?un(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function aa(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function cm(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function an(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?c="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?c="defer() is not supported in actions":s==="invalid-body"&&(c="Unable to encode submission body")):t===403?(o="Forbidden",c='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",c='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?c="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(c='Invalid request method "'+i.toUpperCase()+'"')),new c0(t||500,o,new Error(c),!0)}function um(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Si(n))return{result:n,idx:e}}}function Jv(t){let e=typeof t=="string"?mr(t):t;return bi(Oe({},e,{hash:""}))}function h4(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function f4(t){return Zv(t.result)&&Z6.has(t.result.status)}function Ti(t){return t.type===Le.deferred}function un(t){return t.type===Le.error}function Si(t){return(t&&t.type)===Le.redirect}function p4(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Zv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function m4(t){return J6.has(t.toLowerCase())}function Cn(t){return Q6.has(t.toLowerCase())}async function dm(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let c=n[o],u=e[o];if(!u)continue;let d=t.find(m=>m.route.id===u.route.id),f=d!=null&&!Yv(d,u)&&(s&&s[u.route.id])!==void 0;if(Ti(c)&&(i||f)){let m=r[o];pe(m,"Expected an AbortSignal for revalidating fetcher deferred result"),await Xv(c,m,i).then(g=>{g&&(n[o]=g||n[o])})}}}async function Xv(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Le.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Le.error,error:i}}return{type:Le.data,data:t.deferredData.data}}}function h0(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Fh(t,e){let n=typeof e=="string"?mr(e).search:e.search;if(t[t.length-1].route.index&&h0(n||""))return t[t.length-1];let r=Kv(t);return r[r.length-1]}function hm(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Ad(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function g4(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Mo(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function v4(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Pr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function y4(t,e){try{let n=t.sessionStorage.getItem(Qv);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function _4(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Qv,JSON.stringify(n))}catch(r){Ks(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Aa(){return Aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aa.apply(this,arguments)}const Eu=D.createContext(null),ey=D.createContext(null),qi=D.createContext(null),xu=D.createContext(null),Ki=D.createContext({outlet:null,matches:[],isDataRoute:!1}),ty=D.createContext(null);function w4(t,e){let{relative:n}=e===void 0?{}:e;Ka()||pe(!1);let{basename:r,navigator:i}=D.useContext(qi),{hash:s,pathname:o,search:c}=ry(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:ir([r,o])),i.createHref({pathname:u,search:c,hash:s})}function Ka(){return D.useContext(xu)!=null}function lo(){return Ka()||pe(!1),D.useContext(xu).location}function ny(t){D.useContext(qi).static||D.useLayoutEffect(t)}function f0(){let{isDataRoute:t}=D.useContext(Ki);return t?R4():E4()}function E4(){Ka()||pe(!1);let t=D.useContext(Eu),{basename:e,future:n,navigator:r}=D.useContext(qi),{matches:i}=D.useContext(Ki),{pathname:s}=lo(),o=JSON.stringify(a0(i,n.v7_relativeSplatPath)),c=D.useRef(!1);return ny(()=>{c.current=!0}),D.useCallback(function(d,f){if(f===void 0&&(f={}),!c.current)return;if(typeof d=="number"){r.go(d);return}let m=l0(d,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ir([e,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[e,r,o,s,t])}function ry(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=D.useContext(qi),{matches:i}=D.useContext(Ki),{pathname:s}=lo(),o=JSON.stringify(a0(i,r.v7_relativeSplatPath));return D.useMemo(()=>l0(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function x4(t,e,n,r){Ka()||pe(!1);let{navigator:i}=D.useContext(qi),{matches:s}=D.useContext(Ki),o=s[s.length-1],c=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=lo(),f;if(e){var m;let A=typeof e=="string"?mr(e):e;u==="/"||(m=A.pathname)!=null&&m.startsWith(u)||pe(!1),f=A}else f=d;let g=f.pathname||"/",T=g;if(u!=="/"){let A=u.replace(/^\//,"").split("/");T="/"+g.replace(/^\//,"").split("/").slice(A.length).join("/")}let S=ks(t,{pathname:T}),N=k4(S&&S.map(A=>Object.assign({},A,{params:Object.assign({},c,A.params),pathname:ir([u,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?u:ir([u,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,n,r);return e&&N?D.createElement(xu.Provider,{value:{location:Aa({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ge.Pop}},N):N}function C4(){let t=A4(),e=u0(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,null)}const T4=D.createElement(C4,null);class S4 extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(Ki.Provider,{value:this.props.routeContext},D.createElement(ty.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function I4(t){let{routeContext:e,match:n,children:r}=t,i=D.useContext(Eu);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Ki.Provider,{value:e},r)}function k4(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,c=(i=n)==null?void 0:i.errors;if(c!=null){let f=o.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);f>=0||pe(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:g,errors:T}=n,S=m.route.loader&&g[m.route.id]===void 0&&(!T||T[m.route.id]===void 0);if(m.route.lazy||S){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,m,g)=>{let T,S=!1,N=null,A=null;n&&(T=c&&m.route.id?c[m.route.id]:void 0,N=m.route.errorElement||T4,u&&(d<0&&g===0?(D4("route-fallback",!1),S=!0,A=null):d===g&&(S=!0,A=m.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,g+1)),x=()=>{let k;return T?k=N:S?k=A:m.route.Component?k=D.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=f,D.createElement(I4,{match:m,routeContext:{outlet:f,matches:C,isDataRoute:n!=null},children:k})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?D.createElement(S4,{location:n.location,revalidation:n.revalidation,component:N,error:T,children:x(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):x()},null)}var iy=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(iy||{}),Fc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Fc||{});function P4(t){let e=D.useContext(Eu);return e||pe(!1),e}function N4(t){let e=D.useContext(ey);return e||pe(!1),e}function j4(t){let e=D.useContext(Ki);return e||pe(!1),e}function sy(t){let e=j4(),n=e.matches[e.matches.length-1];return n.route.id||pe(!1),n.route.id}function A4(){var t;let e=D.useContext(ty),n=N4(Fc.UseRouteError),r=sy(Fc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function R4(){let{router:t}=P4(iy.UseNavigateStable),e=sy(Fc.UseNavigateStable),n=D.useRef(!1);return ny(()=>{n.current=!0}),D.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Aa({fromRouteId:e},s)))},[t,e])}const fm={};function D4(t,e,n){!e&&!fm[t]&&(fm[t]=!0)}function L4(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ge.Pop,navigator:s,static:o=!1,future:c}=t;Ka()&&pe(!1);let u=e.replace(/^\/*/,"/"),d=D.useMemo(()=>({basename:u,navigator:s,static:o,future:Aa({v7_relativeSplatPath:!1},c)}),[u,c,s,o]);typeof r=="string"&&(r=mr(r));let{pathname:f="/",search:m="",hash:g="",state:T=null,key:S="default"}=r,N=D.useMemo(()=>{let A=ao(f,u);return A==null?null:{location:{pathname:A,search:m,hash:g,state:T,key:S},navigationType:i}},[u,f,m,g,T,S,i]);return N==null?null:D.createElement(qi.Provider,{value:d},D.createElement(xu.Provider,{children:n,value:N}))}new Promise(()=>{});function b4(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:D.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:D.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:D.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ra(){return Ra=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ra.apply(this,arguments)}function V4(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function M4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function O4(t,e){return t.button===0&&(!e||e==="_self")&&!M4(t)}const F4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],U4="6";try{window.__reactRouterVersion=U4}catch{}function B4(t,e){return n4({basename:e==null?void 0:e.basename,future:Ra({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:S6({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||H4(),routes:t,mapRouteProperties:b4,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,window:e==null?void 0:e.window}).initialize()}function H4(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ra({},e,{errors:z4(e.errors)})),e}function z4(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new c0(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const $4=D.createContext({isTransitioning:!1}),W4=D.createContext(new Map),q4="startTransition",pm=fw[q4],K4="flushSync",mm=T6[K4];function G4(t){pm?pm(t):t()}function Oo(t){mm?mm(t):t()}let Q4=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function Y4(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=D.useState(n.state),[o,c]=D.useState(),[u,d]=D.useState({isTransitioning:!1}),[f,m]=D.useState(),[g,T]=D.useState(),[S,N]=D.useState(),A=D.useRef(new Map),{v7_startTransition:C}=r||{},x=D.useCallback(v=>{C?G4(v):v()},[C]),k=D.useCallback((v,y)=>{let{deletedFetchers:E,unstable_flushSync:w,unstable_viewTransitionOpts:P}=y;E.forEach(I=>A.current.delete(I)),v.fetchers.forEach((I,K)=>{I.data!==void 0&&A.current.set(K,I.data)});let j=n.window==null||typeof n.window.document.startViewTransition!="function";if(!P||j){w?Oo(()=>s(v)):x(()=>s(v));return}if(w){Oo(()=>{g&&(f&&f.resolve(),g.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let I=n.window.document.startViewTransition(()=>{Oo(()=>s(v))});I.finished.finally(()=>{Oo(()=>{m(void 0),T(void 0),c(void 0),d({isTransitioning:!1})})}),Oo(()=>T(I));return}g?(f&&f.resolve(),g.skipTransition(),N({state:v,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(c(v),d({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[n.window,g,f,A,x]);D.useLayoutEffect(()=>n.subscribe(k),[n,k]),D.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new Q4)},[u]),D.useEffect(()=>{if(f&&o&&n.window){let v=o,y=f.promise,E=n.window.document.startViewTransition(async()=>{x(()=>s(v)),await y});E.finished.finally(()=>{m(void 0),T(void 0),c(void 0),d({isTransitioning:!1})}),T(E)}},[x,o,f,n.window]),D.useEffect(()=>{f&&o&&i.location.key===o.location.key&&f.resolve()},[f,g,i.location,o]),D.useEffect(()=>{!u.isTransitioning&&S&&(c(S.state),d({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}),N(void 0))},[u.isTransitioning,S]),D.useEffect(()=>{},[]);let b=D.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:v=>n.navigate(v),push:(v,y,E)=>n.navigate(v,{state:y,preventScrollReset:E==null?void 0:E.preventScrollReset}),replace:(v,y,E)=>n.navigate(v,{replace:!0,state:y,preventScrollReset:E==null?void 0:E.preventScrollReset})}),[n]),B=n.basename||"/",O=D.useMemo(()=>({router:n,navigator:b,static:!1,basename:B}),[n,b,B]);return D.createElement(D.Fragment,null,D.createElement(Eu.Provider,{value:O},D.createElement(ey.Provider,{value:i},D.createElement(W4.Provider,{value:A.current},D.createElement($4.Provider,{value:u},D.createElement(L4,{basename:B,location:i.location,navigationType:i.historyAction,navigator:b,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?D.createElement(J4,{routes:n.routes,future:n.future,state:i}):e))))),null)}function J4(t){let{routes:e,future:n,state:r}=t;return x4(e,void 0,r,n)}const Z4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",X4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fn=D.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:c,target:u,to:d,preventScrollReset:f,unstable_viewTransition:m}=e,g=V4(e,F4),{basename:T}=D.useContext(qi),S,N=!1;if(typeof d=="string"&&X4.test(d)&&(S=d,Z4))try{let k=new URL(window.location.href),b=d.startsWith("//")?new URL(k.protocol+d):new URL(d),B=ao(b.pathname,T);b.origin===k.origin&&B!=null?d=B+b.search+b.hash:N=!0}catch{}let A=w4(d,{relative:i}),C=ex(d,{replace:o,state:c,target:u,preventScrollReset:f,relative:i,unstable_viewTransition:m});function x(k){r&&r(k),k.defaultPrevented||C(k)}return D.createElement("a",Ra({},g,{href:S||A,onClick:N||s?r:x,ref:n,target:u}))});var gm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(gm||(gm={}));var vm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(vm||(vm={}));function ex(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:c}=e===void 0?{}:e,u=f0(),d=lo(),f=ry(t,{relative:o});return D.useCallback(m=>{if(O4(m,n)){m.preventDefault();let g=r!==void 0?r:bi(d)===bi(f);u(t,{replace:g,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:c})}},[d,u,f,r,i,n,t,s,o,c])}var ym={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},tx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ay={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=s>>2,m=(s&3)<<4|c>>4;let g=(c&15)<<2|d>>6,T=d&63;u||(T=64,o||(g=64)),r.push(n[f],n[m],n[g],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||m==null)throw new nx;const g=s<<2|c>>4;if(r.push(g),d!==64){const T=c<<4&240|d>>2;if(r.push(T),m!==64){const S=d<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rx=function(t){const e=oy(t);return ay.encodeByteArray(e,!0)},Uc=function(t){return rx(t).replace(/\./g,"")},ly=function(t){try{return ay.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=()=>ix().__FIREBASE_DEFAULTS__,ox=()=>{if(typeof process>"u"||typeof ym>"u")return;const t=ym.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ax=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ly(t[1]);return e&&JSON.parse(e)},Cu=()=>{try{return sx()||ox()||ax()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cy=t=>{var e,n;return(n=(e=Cu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lx=t=>{const e=cy(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},uy=()=>{var t;return(t=Cu())===null||t===void 0?void 0:t.config},dy=t=>{var e;return(e=Cu())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Uc(JSON.stringify(n)),Uc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function hx(){var t;const e=(t=Cu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function px(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mx(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gx(){return!hx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vx(){try{return typeof indexedDB=="object"}catch{return!1}}function yx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="FirebaseError";class gr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_x,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ga.prototype.create)}}class Ga{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?wx(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new gr(i,c,r)}}function wx(t,e){return t.replace(Ex,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Ex=/\{\$([^}]+)}/g;function xx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(_m(s)&&_m(o)){if(!Bc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _m(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ko(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Cx(t,e){const n=new Tx(t,e);return n.subscribe.bind(n)}class Tx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Sx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Rd),i.error===void 0&&(i.error=Rd),i.complete===void 0&&(i.complete=Rd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t){return t&&t._delegate?t._delegate:t}class Vi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Px(e))try{this.getOrInitializeService({instanceIdentifier:wi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wi){return this.instances.has(e)}getOptions(e=wi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wi){return this.component?this.component.multipleInstances?e:wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kx(t){return t===wi?void 0:t}function Px(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ix(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const jx={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},Ax=Ee.INFO,Rx={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},Dx=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Rx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class p0{constructor(e){this.name=e,this._logLevel=Ax,this._logHandler=Dx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const Lx=(t,e)=>e.some(n=>t instanceof n);let wm,Em;function bx(){return wm||(wm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vx(){return Em||(Em=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hy=new WeakMap,Uh=new WeakMap,fy=new WeakMap,Dd=new WeakMap,m0=new WeakMap;function Mx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Gr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hy.set(n,t)}).catch(()=>{}),m0.set(e,t),e}function Ox(t){if(Uh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Uh.set(t,e)}let Bh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Fx(t){Bh=t(Bh)}function Ux(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ld(this),e,...n);return fy.set(r,e.sort?e.sort():[e]),Gr(r)}:Vx().includes(t)?function(...e){return t.apply(Ld(this),e),Gr(hy.get(this))}:function(...e){return Gr(t.apply(Ld(this),e))}}function Bx(t){return typeof t=="function"?Ux(t):(t instanceof IDBTransaction&&Ox(t),Lx(t,bx())?new Proxy(t,Bh):t)}function Gr(t){if(t instanceof IDBRequest)return Mx(t);if(Dd.has(t))return Dd.get(t);const e=Bx(t);return e!==t&&(Dd.set(t,e),m0.set(e,t)),e}const Ld=t=>m0.get(t);function Hx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),c=Gr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Gr(o.result),u.oldVersion,u.newVersion,Gr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const zx=["get","getKey","getAll","getAllKeys","count"],$x=["put","add","delete","clear"],bd=new Map;function xm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bd.get(e))return bd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$x.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zx.includes(n)))return;const s=async function(o,...c){const u=this.transaction(o,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),i&&u.done]))[0]};return bd.set(e,s),s}Fx(t=>({...t,get:(e,n,r)=>xm(e,n)||t.get(e,n,r),has:(e,n)=>!!xm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qx(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hh="@firebase/app",Cm="0.10.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new p0("@firebase/app"),Kx="@firebase/app-compat",Gx="@firebase/analytics-compat",Qx="@firebase/analytics",Yx="@firebase/app-check-compat",Jx="@firebase/app-check",Zx="@firebase/auth",Xx="@firebase/auth-compat",eC="@firebase/database",tC="@firebase/database-compat",nC="@firebase/functions",rC="@firebase/functions-compat",iC="@firebase/installations",sC="@firebase/installations-compat",oC="@firebase/messaging",aC="@firebase/messaging-compat",lC="@firebase/performance",cC="@firebase/performance-compat",uC="@firebase/remote-config",dC="@firebase/remote-config-compat",hC="@firebase/storage",fC="@firebase/storage-compat",pC="@firebase/firestore",mC="@firebase/vertexai-preview",gC="@firebase/firestore-compat",vC="firebase",yC="10.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh="[DEFAULT]",_C={[Hh]:"fire-core",[Kx]:"fire-core-compat",[Qx]:"fire-analytics",[Gx]:"fire-analytics-compat",[Jx]:"fire-app-check",[Yx]:"fire-app-check-compat",[Zx]:"fire-auth",[Xx]:"fire-auth-compat",[eC]:"fire-rtdb",[tC]:"fire-rtdb-compat",[nC]:"fire-fn",[rC]:"fire-fn-compat",[iC]:"fire-iid",[sC]:"fire-iid-compat",[oC]:"fire-fcm",[aC]:"fire-fcm-compat",[lC]:"fire-perf",[cC]:"fire-perf-compat",[uC]:"fire-rc",[dC]:"fire-rc-compat",[hC]:"fire-gcs",[fC]:"fire-gcs-compat",[pC]:"fire-fst",[gC]:"fire-fst-compat",[mC]:"fire-vertex","fire-js":"fire-js",[vC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new Map,wC=new Map,$h=new Map;function Tm(t,e){try{t.container.addComponent(e)}catch(n){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gs(t){const e=t.name;if($h.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;$h.set(e,t);for(const n of Hc.values())Tm(n,t);for(const n of wC.values())Tm(n,t);return!0}function g0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new Ga("app","Firebase",EC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=yC;function py(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qr.create("bad-app-name",{appName:String(i)});if(n||(n=uy()),!n)throw Qr.create("no-options");const s=Hc.get(i);if(s){if(Bc(n,s.options)&&Bc(r,s.config))return s;throw Qr.create("duplicate-app",{appName:i})}const o=new Nx(i);for(const u of $h.values())o.addComponent(u);const c=new xC(n,r,o);return Hc.set(i,c),c}function my(t=zh){const e=Hc.get(t);if(!e&&t===zh&&uy())return py();if(!e)throw Qr.create("no-app",{appName:t});return e}function Yr(t,e,n){var r;let i=(r=_C[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(c.join(" "));return}Gs(new Vi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="firebase-heartbeat-database",TC=1,Da="firebase-heartbeat-store";let Vd=null;function gy(){return Vd||(Vd=Hx(CC,TC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Da)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qr.create("idb-open",{originalErrorMessage:t.message})})),Vd}async function SC(t){try{const n=(await gy()).transaction(Da),r=await n.objectStore(Da).get(vy(t));return await n.done,r}catch(e){if(e instanceof gr)Mi.warn(e.message);else{const n=Qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(n.message)}}}async function Sm(t,e){try{const r=(await gy()).transaction(Da,"readwrite");await r.objectStore(Da).put(e,vy(t)),await r.done}catch(n){if(n instanceof gr)Mi.warn(n.message);else{const r=Qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mi.warn(r.message)}}}function vy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=1024,kC=30*24*60*60*1e3;class PC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Im();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const c=new Date(o.date).valueOf();return Date.now()-c<=kC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Im(),{heartbeatsToSend:r,unsentEntries:i}=NC(this._heartbeatsCache.heartbeats),s=Uc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Im(){return new Date().toISOString().substring(0,10)}function NC(t,e=IC){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),km(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),km(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vx()?yx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Sm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Sm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function km(t){return Uc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(t){Gs(new Vi("platform-logger",e=>new Wx(e),"PRIVATE")),Gs(new Vi("heartbeat",e=>new PC(e),"PRIVATE")),Yr(Hh,Cm,t),Yr(Hh,Cm,"esm2017"),Yr("fire-js","")}AC("");var RC="firebase",DC="10.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yr(RC,DC,"app");function v0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function yy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LC=yy,_y=new Ga("auth","Firebase",yy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new p0("@firebase/auth");function bC(t,...e){zc.logLevel<=Ee.WARN&&zc.warn(`Auth (${co}): ${t}`,...e)}function oc(t,...e){zc.logLevel<=Ee.ERROR&&zc.error(`Auth (${co}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,...e){throw y0(t,...e)}function Un(t,...e){return y0(t,...e)}function wy(t,e,n){const r=Object.assign(Object.assign({},LC()),{[e]:n});return new Ga("auth","Firebase",r).create(e,{appName:t.name})}function sr(t){return wy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _y.create(t,...e)}function oe(t,e,...n){if(!t)throw y0(e,...n)}function er(t){const e="INTERNAL ASSERTION FAILED: "+t;throw oc(e),new Error(e)}function dr(t,e){t||er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function VC(){return Pm()==="http:"||Pm()==="https:"}function Pm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VC()||fx()||"connection"in navigator)?navigator.onLine:!0}function OC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n){this.shortDelay=e,this.longDelay=n,dr(n>e,"Short delay should be less than long delay!"),this.isMobile=dx()||px()}get(){return MC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t,e){dr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new Ya(3e4,6e4);function ai(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vr(t,e,n,r,i={}){return xy(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const c=Qa(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),Ey.fetch()(Cy(t,t.config.apiHost,n,c),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function xy(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},FC),e);try{const i=new HC(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw zl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw zl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw zl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw zl(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw wy(t,f,d);Nn(t,f)}}catch(i){if(i instanceof gr)throw i;Nn(t,"network-request-failed",{message:String(i)})}}async function Ja(t,e,n,r,i={}){const s=await vr(t,e,n,r,i);return"mfaPendingCredential"in s&&Nn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Cy(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?_0(t.config,i):`${t.config.apiScheme}://${i}`}function BC(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HC{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Un(this.auth,"network-request-failed")),UC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Un(t,e,r);return i.customData._tokenResponse=n,i}function Nm(t){return t!==void 0&&t.enterprise!==void 0}class zC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return BC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function $C(t,e){return vr(t,"GET","/v2/recaptchaConfig",ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(t,e){return vr(t,"POST","/v1/accounts:delete",e)}async function Ty(t,e){return vr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qC(t,e=!1){const n=Ye(t),r=await n.getIdToken(e),i=w0(r);oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:la(Md(i.auth_time)),issuedAtTime:la(Md(i.iat)),expirationTime:la(Md(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Md(t){return Number(t)*1e3}function w0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return oc("JWT malformed, contained fewer than 3 sections"),null;try{const i=ly(n);return i?JSON.parse(i):(oc("Failed to decode base64 JWT payload"),null)}catch(i){return oc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function jm(t){const e=w0(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gr&&KC(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function KC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=la(this.lastLoginAt),this.creationTime=la(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Qs(t,Ty(n,{idToken:r}));oe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Sy(s.providerUserInfo):[],c=YC(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(c!=null&&c.length),f=u?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new qh(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function QC(t){const e=Ye(t);await $c(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YC(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Sy(t){return t.map(e=>{var{providerId:n}=e,r=v0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(t,e){const n=await xy(t,{},async()=>{const r=Qa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Cy(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Ey.fetch()(o,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZC(t,e){return vr(t,"POST","/v2/accounts:revokeToken",ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=jm(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await JC(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Vs;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(oe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vs,this.toJSON())}_performRefresh(){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class tr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=v0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Qs(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qC(this,e)}reload(){return QC(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await $c(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(sr(this.auth));const e=await this.getIdToken();return await Qs(this,WC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,d,f;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,T=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(c=n.tenantId)!==null&&c!==void 0?c:void 0,A=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,C=(d=n.createdAt)!==null&&d!==void 0?d:void 0,x=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:k,emailVerified:b,isAnonymous:B,providerData:O,stsTokenManager:v}=n;oe(k&&v,e,"internal-error");const y=Vs.fromJSON(this.name,v);oe(typeof k=="string",e,"internal-error"),Ir(m,e.name),Ir(g,e.name),oe(typeof b=="boolean",e,"internal-error"),oe(typeof B=="boolean",e,"internal-error"),Ir(T,e.name),Ir(S,e.name),Ir(N,e.name),Ir(A,e.name),Ir(C,e.name),Ir(x,e.name);const E=new tr({uid:k,auth:e,email:g,emailVerified:b,displayName:m,isAnonymous:B,photoURL:S,phoneNumber:T,tenantId:N,stsTokenManager:y,createdAt:C,lastLoginAt:x});return O&&Array.isArray(O)&&(E.providerData=O.map(w=>Object.assign({},w))),A&&(E._redirectEventId=A),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new Vs;i.updateFromServerResponse(n);const s=new tr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await $c(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];oe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Sy(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new Vs;c.updateFromIdToken(r);const u=new tr({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new qh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=new Map;function nr(t){dr(t instanceof Function,"Expected a class definition");let e=Am.get(t);return e?(dr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Am.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Iy.type="NONE";const Rm=Iy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t,e,n){return`firebase:${t}:${e}:${n}`}class Ms{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ac(this.userKey,i.apiKey,s),this.fullPersistenceKey=ac("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?tr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ms(nr(Rm),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||nr(Rm);const o=ac(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const f=await d._get(o);if(f){const m=tr._fromJSON(e,f);d!==s&&(c=m),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ms(s,e,r):(s=u[0],c&&await s._set(o,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new Ms(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ny(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ky(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ay(e))return"Blackberry";if(Ry(e))return"Webos";if(E0(e))return"Safari";if((e.includes("chrome/")||Py(e))&&!e.includes("edge/"))return"Chrome";if(jy(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ky(t=Ct()){return/firefox\//i.test(t)}function E0(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Py(t=Ct()){return/crios\//i.test(t)}function Ny(t=Ct()){return/iemobile/i.test(t)}function jy(t=Ct()){return/android/i.test(t)}function Ay(t=Ct()){return/blackberry/i.test(t)}function Ry(t=Ct()){return/webos/i.test(t)}function Tu(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function XC(t=Ct()){var e;return Tu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function e7(){return mx()&&document.documentMode===10}function Dy(t=Ct()){return Tu(t)||jy(t)||Ry(t)||Ay(t)||/windows phone/i.test(t)||Ny(t)}function t7(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t,e=[]){let n;switch(t){case"Browser":n=Dm(Ct());break;case"Worker":n=`${Dm(Ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${co}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,c)=>{try{const u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r7(t,e={}){return vr(t,"GET","/v2/passwordPolicy",ai(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7=6;class s7{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:i7,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lm(this),this.idTokenSubscription=new Lm(this),this.beforeStateQueue=new n7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_y,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=nr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ms.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ty(this,{idToken:e}),r=await tr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Mn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $c(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(sr(this));const n=e?Ye(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await r7(this),n=new s7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ga("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ZC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&nr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Ms.create(this,[nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ly(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&bC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Gi(t){return Ye(t)}class Lm{constructor(e){this.auth=e,this.observer=null,this.addObserver=Cx(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function a7(t){Su=t}function by(t){return Su.loadJS(t)}function l7(){return Su.recaptchaEnterpriseScript}function c7(){return Su.gapiScript}function u7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const d7="recaptcha-enterprise",h7="NO_RECAPTCHA";class f7{constructor(e){this.type=d7,this.auth=Gi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,c)=>{$C(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new zC(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(u=>{c(u)})})}function i(s,o,c){const u=window.grecaptcha;Nm(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(h7)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(c=>{if(!n&&Nm(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=l7();u.length!==0&&(u+=c),by(u).then(()=>{i(c,s,o)}).catch(d=>{o(d)})}}).catch(c=>{o(c)})})}}async function bm(t,e,n,r=!1){const i=new f7(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Kh(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await bm(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await bm(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(t,e){const n=g0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Bc(s,e??{}))return i;Nn(i,"already-initialized")}return n.initialize({options:e})}function m7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function g7(t,e,n){const r=Gi(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Vy(e),{host:o,port:c}=v7(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||y7()}function Vy(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function v7(t){const e=Vy(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Vm(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Vm(o)}}}function Vm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function y7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,n){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}async function _7(t,e){return vr(t,"POST","/v1/accounts:update",e)}async function w7(t,e){return vr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E7(t,e){return Ja(t,"POST","/v1/accounts:signInWithPassword",ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x7(t,e){return Ja(t,"POST","/v1/accounts:signInWithEmailLink",ai(t,e))}async function C7(t,e){return Ja(t,"POST","/v1/accounts:signInWithEmailLink",ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends x0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new La(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new La(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kh(e,n,"signInWithPassword",E7);case"emailLink":return x7(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kh(e,r,"signUpPassword",w7);case"emailLink":return C7(e,{idToken:n,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Os(t,e){return Ja(t,"POST","/v1/accounts:signInWithIdp",ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7="http://localhost";class Oi extends x0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Oi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=v0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Oi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Os(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Os(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Os(e,n)}buildRequest(){const e={requestUri:T7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function I7(t){const e=qo(Ko(t)).link,n=e?qo(Ko(e)).deep_link_id:null,r=qo(Ko(t)).deep_link_id;return(r?qo(Ko(r)).link:null)||r||n||e||t}class C0{constructor(e){var n,r,i,s,o,c;const u=qo(Ko(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,m=S7((i=u.mode)!==null&&i!==void 0?i:null);oe(d&&f&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=I7(e);try{return new C0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.providerId=Qi.PROVIDER_ID}static credential(e,n){return La._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=C0.parseLink(n);return oe(r,"argument-error"),La._fromEmailAndCode(e,r.code,r.tenantId)}}Qi.PROVIDER_ID="password";Qi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends My{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Za{constructor(){super("facebook.com")}static credential(e){return Oi._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dr.credential(e.oauthAccessToken)}catch{return null}}}Dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Dr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Za{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Oi._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Lr.credential(n,r)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Za{constructor(){super("github.com")}static credential(e){return Oi._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.GITHUB_SIGN_IN_METHOD="github.com";br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Za{constructor(){super("twitter.com")}static credential(e,n){return Oi._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vr.credential(n,r)}catch{return null}}}Vr.TWITTER_SIGN_IN_METHOD="twitter.com";Vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k7(t,e){return Ja(t,"POST","/v1/accounts:signUp",ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await tr._fromIdTokenResponse(e,r,i),o=Mm(r);return new Fi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Mm(r);return new Fi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Mm(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends gr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Wc(e,n,r,i)}}function Oy(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(t,s,e,r):s})}async function P7(t,e,n=!1){const r=await Qs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fy(t,e,n=!1){const{auth:r}=t;if(Mn(r.app))return Promise.reject(sr(r));const i="reauthenticate";try{const s=await Qs(t,Oy(r,i,e,t),n);oe(s.idToken,r,"internal-error");const o=w0(s.idToken);oe(o,r,"internal-error");const{sub:c}=o;return oe(t.uid===c,r,"user-mismatch"),Fi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Nn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uy(t,e,n=!1){if(Mn(t.app))return Promise.reject(sr(t));const r="signIn",i=await Oy(t,r,e),s=await Fi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function N7(t,e){return Uy(Gi(t),e)}async function j7(t,e){return Fy(Ye(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function By(t){const e=Gi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function A7(t,e,n){if(Mn(t.app))return Promise.reject(sr(t));const r=Gi(t),o=await Kh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",k7).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&By(t),u}),c=await Fi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function R7(t,e,n){return Mn(t.app)?Promise.reject(sr(t)):N7(Ye(t),Qi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&By(t),r})}function D7(t,e){return L7(Ye(t),null,e)}async function L7(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Qs(t,_7(r,s));await t._updateTokensIfNecessary(o,!0)}function b7(t,e,n,r){return Ye(t).onIdTokenChanged(e,n,r)}function V7(t,e,n){return Ye(t).beforeAuthStateChanged(e,n)}function Hy(t,e,n,r){return Ye(t).onAuthStateChanged(e,n,r)}function M7(t){return Ye(t).signOut()}async function O7(t){return Ye(t).delete()}const qc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qc,"1"),this.storage.removeItem(qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F7(){const t=Ct();return E0(t)||Tu(t)}const U7=1e3,B7=10;class $y extends zy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=F7()&&t7(),this.fallbackToPolling=Dy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);e7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,B7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},U7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$y.type="LOCAL";const H7=$y;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy extends zy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Wy.type="SESSION";const qy=Wy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Iu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(o).map(async d=>d(n.origin,s)),u=await z7(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Iu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{const d=T0("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(g.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return window}function W7(t){Bn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(){return typeof Bn().WorkerGlobalScope<"u"&&typeof Bn().importScripts=="function"}async function q7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function K7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function G7(){return Ky()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="firebaseLocalStorageDb",Q7=1,Kc="firebaseLocalStorage",Qy="fbase_key";class Xa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ku(t,e){return t.transaction([Kc],e?"readwrite":"readonly").objectStore(Kc)}function Y7(){const t=indexedDB.deleteDatabase(Gy);return new Xa(t).toPromise()}function Gh(){const t=indexedDB.open(Gy,Q7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Kc,{keyPath:Qy})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Kc)?e(r):(r.close(),await Y7(),e(await Gh()))})})}async function Om(t,e,n){const r=ku(t,!0).put({[Qy]:e,value:n});return new Xa(r).toPromise()}async function J7(t,e){const n=ku(t,!1).get(e),r=await new Xa(n).toPromise();return r===void 0?null:r.value}function Fm(t,e){const n=ku(t,!0).delete(e);return new Xa(n).toPromise()}const Z7=800,X7=3;class Yy{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>X7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ky()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Iu._getInstance(G7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await q7(),!this.activeServiceWorker)return;this.sender=new $7(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||K7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gh();return await Om(e,qc,"1"),await Fm(e,qc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Om(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>J7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ku(i,!1).getAll();return new Xa(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Yy.type="LOCAL";const e5=Yy;new Ya(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(t,e){return e?nr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0 extends x0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Os(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Os(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Os(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function n5(t){return Uy(t.auth,new S0(t),t.bypassAuthState)}function r5(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),Fy(n,new S0(t),t.bypassAuthState)}async function i5(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),P7(n,new S0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return n5;case"linkViaPopup":case"linkViaRedirect":return i5;case"reauthViaPopup":case"reauthViaRedirect":return r5;default:Nn(this.auth,"internal-error")}}resolve(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=new Ya(2e3,1e4);class Ps extends Jy{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ps.currentPopupAction&&Ps.currentPopupAction.cancel(),Ps.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const e=T0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ps.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,s5.get())};e()}}Ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5="pendingRedirect",lc=new Map;class a5 extends Jy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lc.get(this.auth._key());if(!e){try{const r=await l5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lc.set(this.auth._key(),e)}return this.bypassAuthState||lc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function l5(t,e){const n=d5(e),r=u5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function c5(t,e){lc.set(t._key(),e)}function u5(t){return nr(t._redirectPersistence)}function d5(t){return ac(o5,t.config.apiKey,t.name)}async function h5(t,e,n=!1){if(Mn(t.app))return Promise.reject(sr(t));const r=Gi(t),i=t5(r,e),o=await new a5(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5=10*60*1e3;class p5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!m5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Zy(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Un(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=f5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Um(e))}saveEventToCache(e){this.cachedEventUids.add(Um(e)),this.lastProcessedEventTime=Date.now()}}function Um(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Zy({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function m5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zy(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g5(t,e={}){return vr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y5=/^https?/;async function _5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await g5(t);for(const n of e)try{if(w5(n))return}catch{}Nn(t,"unauthorized-domain")}function w5(t){const e=Wh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!y5.test(n))return!1;if(v5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5=new Ya(3e4,6e4);function Bm(){const t=Bn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function x5(t){return new Promise((e,n)=>{var r,i,s;function o(){Bm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bm(),n(Un(t,"network-request-failed"))},timeout:E5.get()})}if(!((i=(r=Bn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Bn().gapi)===null||s===void 0)&&s.load)o();else{const c=u7("iframefcb");return Bn()[c]=()=>{gapi.load?o():n(Un(t,"network-request-failed"))},by(`${c7()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw cc=null,e})}let cc=null;function C5(t){return cc=cc||x5(t),cc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5=new Ya(5e3,15e3),S5="__/auth/iframe",I5="emulator/auth/iframe",k5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},P5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N5(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_0(e,I5):`https://${t.config.authDomain}/${S5}`,r={apiKey:e.apiKey,appName:t.name,v:co},i=P5.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Qa(r).slice(1)}`}async function j5(t){const e=await C5(t),n=Bn().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:N5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k5,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Un(t,"network-request-failed"),c=Bn().setTimeout(()=>{s(o)},T5.get());function u(){Bn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},R5=500,D5=600,L5="_blank",b5="http://localhost";class Hm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V5(t,e,n,r=R5,i=D5){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},A5),{width:r.toString(),height:i.toString(),top:s,left:o}),d=Ct().toLowerCase();n&&(c=Py(d)?L5:n),ky(d)&&(e=e||b5,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[T,S])=>`${g}${T}=${S},`,"");if(XC(d)&&c!=="_self")return M5(e||"",c),new Hm(null);const m=window.open(e||"",c,f);oe(m,t,"popup-blocked");try{m.focus()}catch{}return new Hm(m)}function M5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5="__/auth/handler",F5="emulator/auth/handler",U5=encodeURIComponent("fac");async function zm(t,e,n,r,i,s){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:co,eventId:i};if(e instanceof My){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",xx(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries(s||{}))o[f]=m}if(e instanceof Za){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const u=await t._getAppCheckToken(),d=u?`#${U5}=${encodeURIComponent(u)}`:"";return`${B5(t)}?${Qa(c).slice(1)}${d}`}function B5({config:t}){return t.emulator?_0(t,F5):`https://${t.authDomain}/${O5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="webStorageSupport";class H5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qy,this._completeRedirectFn=h5,this._overrideRedirectResult=c5}async _openPopup(e,n,r,i){var s;dr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await zm(e,n,r,Wh(),i);return V5(e,o,T0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await zm(e,n,r,Wh(),i);return W7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(dr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await j5(e),r=new p5(e);return n.register("authEvent",i=>(oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Od,{type:Od},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Od];o!==void 0&&n(!!o),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Dy()||E0()||Tu()}}const z5=H5;var $m="@firebase/auth",Wm="1.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function q5(t){Gs(new Vi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ly(t)},d=new o7(r,i,s,u);return m7(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gs(new Vi("auth-internal",e=>{const n=Gi(e.getProvider("auth").getImmediate());return(r=>new $5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yr($m,Wm,W5(t)),Yr($m,Wm,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=5*60,G5=dy("authIdTokenMaxAge")||K5;let qm=null;const Q5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>G5)return;const i=n==null?void 0:n.token;qm!==i&&(qm=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Y5(t=my()){const e=g0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=p7(t,{popupRedirectResolver:z5,persistence:[e5,H7,qy]}),r=dy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Q5(s.toString());V7(n,o,()=>o(n.currentUser)),b7(n,c=>o(c))}}const i=cy("auth");return i&&g7(n,`http://${i}`),n}function J5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}a7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Un("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",J5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});q5("Browser");var Km=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ni,Xy;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(v,y){function E(){}E.prototype=y.prototype,v.D=y.prototype,v.prototype=new E,v.prototype.constructor=v,v.C=function(w,P,j){for(var I=Array(arguments.length-2),K=2;K<arguments.length;K++)I[K-2]=arguments[K];return y.prototype[P].apply(w,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(v,y,E){E||(E=0);var w=Array(16);if(typeof y=="string")for(var P=0;16>P;++P)w[P]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(P=0;16>P;++P)w[P]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=v.g[0],E=v.g[1],P=v.g[2];var j=v.g[3],I=y+(j^E&(P^j))+w[0]+3614090360&4294967295;y=E+(I<<7&4294967295|I>>>25),I=j+(P^y&(E^P))+w[1]+3905402710&4294967295,j=y+(I<<12&4294967295|I>>>20),I=P+(E^j&(y^E))+w[2]+606105819&4294967295,P=j+(I<<17&4294967295|I>>>15),I=E+(y^P&(j^y))+w[3]+3250441966&4294967295,E=P+(I<<22&4294967295|I>>>10),I=y+(j^E&(P^j))+w[4]+4118548399&4294967295,y=E+(I<<7&4294967295|I>>>25),I=j+(P^y&(E^P))+w[5]+1200080426&4294967295,j=y+(I<<12&4294967295|I>>>20),I=P+(E^j&(y^E))+w[6]+2821735955&4294967295,P=j+(I<<17&4294967295|I>>>15),I=E+(y^P&(j^y))+w[7]+4249261313&4294967295,E=P+(I<<22&4294967295|I>>>10),I=y+(j^E&(P^j))+w[8]+1770035416&4294967295,y=E+(I<<7&4294967295|I>>>25),I=j+(P^y&(E^P))+w[9]+2336552879&4294967295,j=y+(I<<12&4294967295|I>>>20),I=P+(E^j&(y^E))+w[10]+4294925233&4294967295,P=j+(I<<17&4294967295|I>>>15),I=E+(y^P&(j^y))+w[11]+2304563134&4294967295,E=P+(I<<22&4294967295|I>>>10),I=y+(j^E&(P^j))+w[12]+1804603682&4294967295,y=E+(I<<7&4294967295|I>>>25),I=j+(P^y&(E^P))+w[13]+4254626195&4294967295,j=y+(I<<12&4294967295|I>>>20),I=P+(E^j&(y^E))+w[14]+2792965006&4294967295,P=j+(I<<17&4294967295|I>>>15),I=E+(y^P&(j^y))+w[15]+1236535329&4294967295,E=P+(I<<22&4294967295|I>>>10),I=y+(P^j&(E^P))+w[1]+4129170786&4294967295,y=E+(I<<5&4294967295|I>>>27),I=j+(E^P&(y^E))+w[6]+3225465664&4294967295,j=y+(I<<9&4294967295|I>>>23),I=P+(y^E&(j^y))+w[11]+643717713&4294967295,P=j+(I<<14&4294967295|I>>>18),I=E+(j^y&(P^j))+w[0]+3921069994&4294967295,E=P+(I<<20&4294967295|I>>>12),I=y+(P^j&(E^P))+w[5]+3593408605&4294967295,y=E+(I<<5&4294967295|I>>>27),I=j+(E^P&(y^E))+w[10]+38016083&4294967295,j=y+(I<<9&4294967295|I>>>23),I=P+(y^E&(j^y))+w[15]+3634488961&4294967295,P=j+(I<<14&4294967295|I>>>18),I=E+(j^y&(P^j))+w[4]+3889429448&4294967295,E=P+(I<<20&4294967295|I>>>12),I=y+(P^j&(E^P))+w[9]+568446438&4294967295,y=E+(I<<5&4294967295|I>>>27),I=j+(E^P&(y^E))+w[14]+3275163606&4294967295,j=y+(I<<9&4294967295|I>>>23),I=P+(y^E&(j^y))+w[3]+4107603335&4294967295,P=j+(I<<14&4294967295|I>>>18),I=E+(j^y&(P^j))+w[8]+1163531501&4294967295,E=P+(I<<20&4294967295|I>>>12),I=y+(P^j&(E^P))+w[13]+2850285829&4294967295,y=E+(I<<5&4294967295|I>>>27),I=j+(E^P&(y^E))+w[2]+4243563512&4294967295,j=y+(I<<9&4294967295|I>>>23),I=P+(y^E&(j^y))+w[7]+1735328473&4294967295,P=j+(I<<14&4294967295|I>>>18),I=E+(j^y&(P^j))+w[12]+2368359562&4294967295,E=P+(I<<20&4294967295|I>>>12),I=y+(E^P^j)+w[5]+4294588738&4294967295,y=E+(I<<4&4294967295|I>>>28),I=j+(y^E^P)+w[8]+2272392833&4294967295,j=y+(I<<11&4294967295|I>>>21),I=P+(j^y^E)+w[11]+1839030562&4294967295,P=j+(I<<16&4294967295|I>>>16),I=E+(P^j^y)+w[14]+4259657740&4294967295,E=P+(I<<23&4294967295|I>>>9),I=y+(E^P^j)+w[1]+2763975236&4294967295,y=E+(I<<4&4294967295|I>>>28),I=j+(y^E^P)+w[4]+1272893353&4294967295,j=y+(I<<11&4294967295|I>>>21),I=P+(j^y^E)+w[7]+4139469664&4294967295,P=j+(I<<16&4294967295|I>>>16),I=E+(P^j^y)+w[10]+3200236656&4294967295,E=P+(I<<23&4294967295|I>>>9),I=y+(E^P^j)+w[13]+681279174&4294967295,y=E+(I<<4&4294967295|I>>>28),I=j+(y^E^P)+w[0]+3936430074&4294967295,j=y+(I<<11&4294967295|I>>>21),I=P+(j^y^E)+w[3]+3572445317&4294967295,P=j+(I<<16&4294967295|I>>>16),I=E+(P^j^y)+w[6]+76029189&4294967295,E=P+(I<<23&4294967295|I>>>9),I=y+(E^P^j)+w[9]+3654602809&4294967295,y=E+(I<<4&4294967295|I>>>28),I=j+(y^E^P)+w[12]+3873151461&4294967295,j=y+(I<<11&4294967295|I>>>21),I=P+(j^y^E)+w[15]+530742520&4294967295,P=j+(I<<16&4294967295|I>>>16),I=E+(P^j^y)+w[2]+3299628645&4294967295,E=P+(I<<23&4294967295|I>>>9),I=y+(P^(E|~j))+w[0]+4096336452&4294967295,y=E+(I<<6&4294967295|I>>>26),I=j+(E^(y|~P))+w[7]+1126891415&4294967295,j=y+(I<<10&4294967295|I>>>22),I=P+(y^(j|~E))+w[14]+2878612391&4294967295,P=j+(I<<15&4294967295|I>>>17),I=E+(j^(P|~y))+w[5]+4237533241&4294967295,E=P+(I<<21&4294967295|I>>>11),I=y+(P^(E|~j))+w[12]+1700485571&4294967295,y=E+(I<<6&4294967295|I>>>26),I=j+(E^(y|~P))+w[3]+2399980690&4294967295,j=y+(I<<10&4294967295|I>>>22),I=P+(y^(j|~E))+w[10]+4293915773&4294967295,P=j+(I<<15&4294967295|I>>>17),I=E+(j^(P|~y))+w[1]+2240044497&4294967295,E=P+(I<<21&4294967295|I>>>11),I=y+(P^(E|~j))+w[8]+1873313359&4294967295,y=E+(I<<6&4294967295|I>>>26),I=j+(E^(y|~P))+w[15]+4264355552&4294967295,j=y+(I<<10&4294967295|I>>>22),I=P+(y^(j|~E))+w[6]+2734768916&4294967295,P=j+(I<<15&4294967295|I>>>17),I=E+(j^(P|~y))+w[13]+1309151649&4294967295,E=P+(I<<21&4294967295|I>>>11),I=y+(P^(E|~j))+w[4]+4149444226&4294967295,y=E+(I<<6&4294967295|I>>>26),I=j+(E^(y|~P))+w[11]+3174756917&4294967295,j=y+(I<<10&4294967295|I>>>22),I=P+(y^(j|~E))+w[2]+718787259&4294967295,P=j+(I<<15&4294967295|I>>>17),I=E+(j^(P|~y))+w[9]+3951481745&4294967295,v.g[0]=v.g[0]+y&4294967295,v.g[1]=v.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,v.g[2]=v.g[2]+P&4294967295,v.g[3]=v.g[3]+j&4294967295}r.prototype.u=function(v,y){y===void 0&&(y=v.length);for(var E=y-this.blockSize,w=this.B,P=this.h,j=0;j<y;){if(P==0)for(;j<=E;)i(this,v,j),j+=this.blockSize;if(typeof v=="string"){for(;j<y;)if(w[P++]=v.charCodeAt(j++),P==this.blockSize){i(this,w),P=0;break}}else for(;j<y;)if(w[P++]=v[j++],P==this.blockSize){i(this,w),P=0;break}}this.h=P,this.o+=y},r.prototype.v=function(){var v=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);v[0]=128;for(var y=1;y<v.length-8;++y)v[y]=0;var E=8*this.o;for(y=v.length-8;y<v.length;++y)v[y]=E&255,E/=256;for(this.u(v),v=Array(16),y=E=0;4>y;++y)for(var w=0;32>w;w+=8)v[E++]=this.g[y]>>>w&255;return v};function s(v,y){var E=c;return Object.prototype.hasOwnProperty.call(E,v)?E[v]:E[v]=y(v)}function o(v,y){this.h=y;for(var E=[],w=!0,P=v.length-1;0<=P;P--){var j=v[P]|0;w&&j==y||(E[P]=j,w=!1)}this.g=E}var c={};function u(v){return-128<=v&&128>v?s(v,function(y){return new o([y|0],0>y?-1:0)}):new o([v|0],0>v?-1:0)}function d(v){if(isNaN(v)||!isFinite(v))return m;if(0>v)return A(d(-v));for(var y=[],E=1,w=0;v>=E;w++)y[w]=v/E|0,E*=4294967296;return new o(y,0)}function f(v,y){if(v.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(v.charAt(0)=="-")return A(f(v.substring(1),y));if(0<=v.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=d(Math.pow(y,8)),w=m,P=0;P<v.length;P+=8){var j=Math.min(8,v.length-P),I=parseInt(v.substring(P,P+j),y);8>j?(j=d(Math.pow(y,j)),w=w.j(j).add(d(I))):(w=w.j(E),w=w.add(d(I)))}return w}var m=u(0),g=u(1),T=u(16777216);t=o.prototype,t.m=function(){if(N(this))return-A(this).m();for(var v=0,y=1,E=0;E<this.g.length;E++){var w=this.i(E);v+=(0<=w?w:4294967296+w)*y,y*=4294967296}return v},t.toString=function(v){if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(S(this))return"0";if(N(this))return"-"+A(this).toString(v);for(var y=d(Math.pow(v,6)),E=this,w="";;){var P=b(E,y).g;E=C(E,P.j(y));var j=((0<E.g.length?E.g[0]:E.h)>>>0).toString(v);if(E=P,S(E))return j+w;for(;6>j.length;)j="0"+j;w=j+w}},t.i=function(v){return 0>v?0:v<this.g.length?this.g[v]:this.h};function S(v){if(v.h!=0)return!1;for(var y=0;y<v.g.length;y++)if(v.g[y]!=0)return!1;return!0}function N(v){return v.h==-1}t.l=function(v){return v=C(this,v),N(v)?-1:S(v)?0:1};function A(v){for(var y=v.g.length,E=[],w=0;w<y;w++)E[w]=~v.g[w];return new o(E,~v.h).add(g)}t.abs=function(){return N(this)?A(this):this},t.add=function(v){for(var y=Math.max(this.g.length,v.g.length),E=[],w=0,P=0;P<=y;P++){var j=w+(this.i(P)&65535)+(v.i(P)&65535),I=(j>>>16)+(this.i(P)>>>16)+(v.i(P)>>>16);w=I>>>16,j&=65535,I&=65535,E[P]=I<<16|j}return new o(E,E[E.length-1]&-2147483648?-1:0)};function C(v,y){return v.add(A(y))}t.j=function(v){if(S(this)||S(v))return m;if(N(this))return N(v)?A(this).j(A(v)):A(A(this).j(v));if(N(v))return A(this.j(A(v)));if(0>this.l(T)&&0>v.l(T))return d(this.m()*v.m());for(var y=this.g.length+v.g.length,E=[],w=0;w<2*y;w++)E[w]=0;for(w=0;w<this.g.length;w++)for(var P=0;P<v.g.length;P++){var j=this.i(w)>>>16,I=this.i(w)&65535,K=v.i(P)>>>16,Me=v.i(P)&65535;E[2*w+2*P]+=I*Me,x(E,2*w+2*P),E[2*w+2*P+1]+=j*Me,x(E,2*w+2*P+1),E[2*w+2*P+1]+=I*K,x(E,2*w+2*P+1),E[2*w+2*P+2]+=j*K,x(E,2*w+2*P+2)}for(w=0;w<y;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=y;w<2*y;w++)E[w]=0;return new o(E,0)};function x(v,y){for(;(v[y]&65535)!=v[y];)v[y+1]+=v[y]>>>16,v[y]&=65535,y++}function k(v,y){this.g=v,this.h=y}function b(v,y){if(S(y))throw Error("division by zero");if(S(v))return new k(m,m);if(N(v))return y=b(A(v),y),new k(A(y.g),A(y.h));if(N(y))return y=b(v,A(y)),new k(A(y.g),y.h);if(30<v.g.length){if(N(v)||N(y))throw Error("slowDivide_ only works with positive integers.");for(var E=g,w=y;0>=w.l(v);)E=B(E),w=B(w);var P=O(E,1),j=O(w,1);for(w=O(w,2),E=O(E,2);!S(w);){var I=j.add(w);0>=I.l(v)&&(P=P.add(E),j=I),w=O(w,1),E=O(E,1)}return y=C(v,P.j(y)),new k(P,y)}for(P=m;0<=v.l(y);){for(E=Math.max(1,Math.floor(v.m()/y.m())),w=Math.ceil(Math.log(E)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),j=d(E),I=j.j(y);N(I)||0<I.l(v);)E-=w,j=d(E),I=j.j(y);S(j)&&(j=g),P=P.add(j),v=C(v,I)}return new k(P,v)}t.A=function(v){return b(this,v).h},t.and=function(v){for(var y=Math.max(this.g.length,v.g.length),E=[],w=0;w<y;w++)E[w]=this.i(w)&v.i(w);return new o(E,this.h&v.h)},t.or=function(v){for(var y=Math.max(this.g.length,v.g.length),E=[],w=0;w<y;w++)E[w]=this.i(w)|v.i(w);return new o(E,this.h|v.h)},t.xor=function(v){for(var y=Math.max(this.g.length,v.g.length),E=[],w=0;w<y;w++)E[w]=this.i(w)^v.i(w);return new o(E,this.h^v.h)};function B(v){for(var y=v.g.length+1,E=[],w=0;w<y;w++)E[w]=v.i(w)<<1|v.i(w-1)>>>31;return new o(E,v.h)}function O(v,y){var E=y>>5;y%=32;for(var w=v.g.length-E,P=[],j=0;j<w;j++)P[j]=0<y?v.i(j+E)>>>y|v.i(j+E+1)<<32-y:v.i(j+E);return new o(P,v.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Xy=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,Ni=o}).apply(typeof Km<"u"?Km:typeof self<"u"?self:typeof window<"u"?window:{});var $l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e3,t3,Go,n3,uc,Qh,r3,i3,s3;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof $l=="object"&&$l];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(l,h){if(h)e:{var p=r;l=l.split(".");for(var _=0;_<l.length-1;_++){var L=l[_];if(!(L in p))break e;p=p[L]}l=l[l.length-1],_=p[l],h=h(_),h!=_&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var p=0,_=!1,L={next:function(){if(!_&&p<l.length){var M=p++;return{value:h(M,l[M]),done:!1}}return _=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(l){return l||function(){return s(this,function(h,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function d(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function f(l,h,p){return l.call.apply(l.bind,arguments)}function m(l,h,p){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,_),l.apply(h,L)}}return function(){return l.apply(h,arguments)}}function g(l,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,g.apply(null,arguments)}function T(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var _=p.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function S(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(_,L,M){for(var q=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)q[ke-2]=arguments[ke];return h.prototype[L].apply(_,q)}}function N(l){const h=l.length;if(0<h){const p=Array(h);for(let _=0;_<h;_++)p[_]=l[_];return p}return[]}function A(l,h){for(let p=1;p<arguments.length;p++){const _=arguments[p];if(u(_)){const L=l.length||0,M=_.length||0;l.length=L+M;for(let q=0;q<M;q++)l[L+q]=_[q]}else l.push(_)}}class C{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function x(l){return/^[\s\xa0]*$/.test(l)}function k(){var l=c.navigator;return l&&(l=l.userAgent)?l:""}function b(l){return b[" "](l),l}b[" "]=function(){};var B=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function O(l,h,p){for(const _ in l)h.call(p,l[_],_,l)}function v(l,h){for(const p in l)h.call(void 0,l[p],p,l)}function y(l){const h={};for(const p in l)h[p]=l[p];return h}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(l,h){let p,_;for(let L=1;L<arguments.length;L++){_=arguments[L];for(p in _)l[p]=_[p];for(let M=0;M<E.length;M++)p=E[M],Object.prototype.hasOwnProperty.call(_,p)&&(l[p]=_[p])}}function P(l){var h=1;l=l.split(":");const p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function j(l){c.setTimeout(()=>{throw l},0)}function I(){var l=ee;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class K{constructor(){this.h=this.g=null}add(h,p){const _=Me.get();_.set(h,p),this.h?this.h.next=_:this.g=_,this.h=_}}var Me=new C(()=>new X,l=>l.reset());class X{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Je,U=!1,ee=new K,ne=()=>{const l=c.Promise.resolve(void 0);Je=()=>{l.then(fe)}};var fe=()=>{for(var l;l=I();){try{l.h.call(l.g)}catch(p){j(p)}var h=Me;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}U=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};c.addEventListener("test",p,h),c.removeEventListener("test",p,h)}catch{}return l}();function Ke(l,h){if(_e.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(B){e:{try{b(h.nodeName);var L=!0;break e}catch{}L=!1}L||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:we[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ke.aa.h.call(this)}}S(Ke,_e);var we={2:"touch",3:"pen",4:"mouse"};Ke.prototype.h=function(){Ke.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var lt="closure_listenable_"+(1e6*Math.random()|0),po=0;function Ku(l,h,p,_,L){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!_,this.ha=L,this.key=++po,this.da=this.fa=!1}function Xi(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function es(l){this.src=l,this.g={},this.h=0}es.prototype.add=function(l,h,p,_,L){var M=l.toString();l=this.g[M],l||(l=this.g[M]=[],this.h++);var q=qn(l,h,_,L);return-1<q?(h=l[q],p||(h.fa=!1)):(h=new Ku(h,this.src,M,!!_,L),h.fa=p,l.push(h)),h};function pt(l,h){var p=h.type;if(p in l.g){var _=l.g[p],L=Array.prototype.indexOf.call(_,h,void 0),M;(M=0<=L)&&Array.prototype.splice.call(_,L,1),M&&(Xi(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function qn(l,h,p,_){for(var L=0;L<l.length;++L){var M=l[L];if(!M.da&&M.listener==h&&M.capture==!!p&&M.ha==_)return L}return-1}var ts="closure_lm_"+(1e6*Math.random()|0),mo={};function An(l,h,p,_,L){if(_&&_.once)return cl(l,h,p,_,L);if(Array.isArray(h)){for(var M=0;M<h.length;M++)An(l,h[M],p,_,L);return null}return p=on(p),l&&l[lt]?l.K(h,p,d(_)?!!_.capture:!!_,L):ll(l,h,p,!1,_,L)}function ll(l,h,p,_,L,M){if(!h)throw Error("Invalid event type");var q=d(L)?!!L.capture:!!L,ke=ns(l);if(ke||(l[ts]=ke=new es(l)),p=ke.add(h,p,_,q,M),p.proxy)return p;if(_=Gu(),p.proxy=_,_.src=l,_.listener=p,l.addEventListener)ge||(L=q),L===void 0&&(L=!1),l.addEventListener(h.toString(),_,L);else if(l.attachEvent)l.attachEvent(yr(h.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Gu(){function l(p){return h.call(l.src,l.listener,p)}const h=ci;return l}function cl(l,h,p,_,L){if(Array.isArray(h)){for(var M=0;M<h.length;M++)cl(l,h[M],p,_,L);return null}return p=on(p),l&&l[lt]?l.L(h,p,d(_)?!!_.capture:!!_,L):ll(l,h,p,!0,_,L)}function ul(l,h,p,_,L){if(Array.isArray(h))for(var M=0;M<h.length;M++)ul(l,h[M],p,_,L);else _=d(_)?!!_.capture:!!_,p=on(p),l&&l[lt]?(l=l.i,h=String(h).toString(),h in l.g&&(M=l.g[h],p=qn(M,p,_,L),-1<p&&(Xi(M[p]),Array.prototype.splice.call(M,p,1),M.length==0&&(delete l.g[h],l.h--)))):l&&(l=ns(l))&&(h=l.g[h.toString()],l=-1,h&&(l=qn(h,p,_,L)),(p=-1<l?h[l]:null)&&go(p))}function go(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[lt])pt(h.i,l);else{var p=l.type,_=l.proxy;h.removeEventListener?h.removeEventListener(p,_,l.capture):h.detachEvent?h.detachEvent(yr(p),_):h.addListener&&h.removeListener&&h.removeListener(_),(p=ns(h))?(pt(p,l),p.h==0&&(p.src=null,h[ts]=null)):Xi(l)}}}function yr(l){return l in mo?mo[l]:mo[l]="on"+l}function ci(l,h){if(l.da)l=!0;else{h=new Ke(h,this);var p=l.listener,_=l.ha||l.src;l.fa&&go(l),l=p.call(_,h)}return l}function ns(l){return l=l[ts],l instanceof es?l:null}var ui="__closure_events_fn_"+(1e9*Math.random()>>>0);function on(l){return typeof l=="function"?l:(l[ui]||(l[ui]=function(h){return l.handleEvent(h)}),l[ui])}function ze(){he.call(this),this.i=new es(this),this.M=this,this.F=null}S(ze,he),ze.prototype[lt]=!0,ze.prototype.removeEventListener=function(l,h,p,_){ul(this,l,h,p,_)};function ct(l,h){var p,_=l.F;if(_)for(p=[];_;_=_.F)p.push(_);if(l=l.M,_=h.type||h,typeof h=="string")h=new _e(h,l);else if(h instanceof _e)h.target=h.target||l;else{var L=h;h=new _e(_,l),w(h,L)}if(L=!0,p)for(var M=p.length-1;0<=M;M--){var q=h.g=p[M];L=Kn(q,_,!0,h)&&L}if(q=h.g=l,L=Kn(q,_,!0,h)&&L,L=Kn(q,_,!1,h)&&L,p)for(M=0;M<p.length;M++)q=h.g=p[M],L=Kn(q,_,!1,h)&&L}ze.prototype.N=function(){if(ze.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],_=0;_<p.length;_++)Xi(p[_]);delete l.g[h],l.h--}}this.F=null},ze.prototype.K=function(l,h,p,_){return this.i.add(String(l),h,!1,p,_)},ze.prototype.L=function(l,h,p,_){return this.i.add(String(l),h,!0,p,_)};function Kn(l,h,p,_){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var L=!0,M=0;M<h.length;++M){var q=h[M];if(q&&!q.da&&q.capture==p){var ke=q.listener,mt=q.ha||q.src;q.fa&&pt(l.i,q),L=ke.call(mt,_)!==!1&&L}}return L&&!_.defaultPrevented}function dl(l,h,p){if(typeof l=="function")p&&(l=g(l,p));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:c.setTimeout(l,h||0)}function gn(l){l.g=dl(()=>{l.g=null,l.i&&(l.i=!1,gn(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class hl extends he{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:gn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(l){he.call(this),this.h=l,this.g={}}S(_r,he);var vo=[];function fl(l){O(l.g,function(h,p){this.g.hasOwnProperty(p)&&go(h)},l),l.g={}}_r.prototype.N=function(){_r.aa.N.call(this),fl(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=c.JSON.stringify,is=c.JSON.parse,pl=class{stringify(l){return c.JSON.stringify(l,void 0)}parse(l){return c.JSON.parse(l,void 0)}};function di(){}di.prototype.h=null;function ml(l){return l.h||(l.h=l.i())}function yo(){}var hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ss(){_e.call(this,"d")}S(ss,_e);function _o(){_e.call(this,"c")}S(_o,_e);var R={},V=null;function F(){return V=V||new ze}R.La="serverreachability";function W(l){_e.call(this,R.La,l)}S(W,_e);function G(l){const h=F();ct(h,new W(h))}R.STAT_EVENT="statevent";function ce(l,h){_e.call(this,R.STAT_EVENT,l),this.stat=h}S(ce,_e);function Q(l){const h=F();ct(h,new ce(h,l))}R.Ma="timingevent";function Y(l,h){_e.call(this,R.Ma,l),this.size=h}S(Y,_e);function ae(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){l()},h)}function se(){this.g=!0}se.prototype.xa=function(){this.g=!1};function nt(l,h,p,_,L,M){l.info(function(){if(l.g)if(M)for(var q="",ke=M.split("&"),mt=0;mt<ke.length;mt++){var Te=ke[mt].split("=");if(1<Te.length){var Tt=Te[0];Te=Te[1];var St=Tt.split("_");q=2<=St.length&&St[1]=="type"?q+(Tt+"="+Te+"&"):q+(Tt+"=redacted&")}}else q=null;else q=M;return"XMLHTTP REQ ("+_+") [attempt "+L+"]: "+h+`
`+p+`
`+q})}function rt(l,h,p,_,L,M,q){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+L+"]: "+h+`
`+p+`
`+M+" "+q})}function re(l,h,p,_){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+Ze(l,p)+(_?" "+_:"")})}function Pe(l,h){l.info(function(){return"TIMEOUT: "+h})}se.prototype.info=function(){};function Ze(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var _=p[l];if(!(2>_.length)){var L=_[1];if(Array.isArray(L)&&!(1>L.length)){var M=L[0];if(M!="noop"&&M!="stop"&&M!="close")for(var q=1;q<L.length;q++)L[q]=""}}}}return rs(p)}catch{return h}}var Rn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dn;function yn(){}S(yn,di),yn.prototype.g=function(){return new XMLHttpRequest},yn.prototype.i=function(){return{}},Dn=new yn;function bt(l,h,p,_){this.j=l,this.i=h,this.l=p,this.R=_||1,this.U=new _r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qt}function Qt(){this.i=null,this.g="",this.h=!1}var fi={},wr={};function Er(l,h,p){l.L=1,l.v=yl(Gn(h)),l.m=p,l.P=!0,me(l,null)}function me(l,h){l.F=Date.now(),$e(l),l.A=Gn(l.v);var p=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),w2(p.i,"t",_),l.C=0,p=l.j.J,l.h=new Qt,l.g=O2(l.j,p?h:null,!l.m),0<l.O&&(l.M=new hl(g(l.Y,l,l.g),l.O)),h=l.U,p=l.g,_=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(vo[0]=L.toString()),L=vo);for(var M=0;M<L.length;M++){var q=An(p,L[M],_||h.handleEvent,!1,h.h||h);if(!q)break;h.g[q.key]=q}h=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),G(),nt(l.i,l.u,l.A,l.l,l.R,l.m)}bt.prototype.ca=function(l){l=l.target;const h=this.M;h&&Qn(l)==3?h.j():this.Y(l)},bt.prototype.Y=function(l){try{if(l==this.g)e:{const St=Qn(this.g);var h=this.g.Ba();const cs=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||k2(this.g)))){this.J||St!=4||h==7||(h==8||0>=cs?G(3):G(2)),os(this);var p=this.g.Z();this.X=p;t:if(ut(this)){var _=k2(this.g);l="";var L=_.length,M=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mi(this),pi(this);var q="";break t}this.h.i=new c.TextDecoder}for(h=0;h<L;h++)this.h.h=!0,l+=this.h.i.decode(_[h],{stream:!(M&&h==L-1)});_.length=0,this.h.g+=l,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=p==200,rt(this.i,this.u,this.A,this.l,this.R,St,p),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,mt=this.g;if((ke=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(ke)){var Te=ke;break t}}Te=null}if(p=Te)re(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qu(this,p);else{this.o=!1,this.s=3,Q(12),mi(this),pi(this);break e}}if(this.P){p=!0;let _n;for(;!this.J&&this.C<q.length;)if(_n=Bt(this,q),_n==wr){St==4&&(this.s=4,Q(14),p=!1),re(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==fi){this.s=4,Q(15),re(this.i,this.l,q,"[Invalid Chunk]"),p=!1;break}else re(this.i,this.l,_n,null),Qu(this,_n);if(ut(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||q.length!=0||this.h.h||(this.s=1,Q(16),p=!1),this.o=this.o&&p,!p)re(this.i,this.l,q,"[Invalid Chunked Response]"),mi(this),pi(this);else if(0<q.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),td(Tt),Tt.M=!0,Q(11))}}else re(this.i,this.l,q,null),Qu(this,q);St==4&&mi(this),this.o&&!this.J&&(St==4?L2(this.j,this):(this.o=!1,$e(this)))}else Y_(this.g),p==400&&0<q.indexOf("Unknown SID")?(this.s=3,Q(12)):(this.s=0,Q(13)),mi(this),pi(this)}}}catch{}finally{}};function ut(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Bt(l,h){var p=l.C,_=h.indexOf(`
`,p);return _==-1?wr:(p=Number(h.substring(p,_)),isNaN(p)?fi:(_+=1,_+p>h.length?wr:(h=h.slice(_,_+p),l.C=_+p,h)))}bt.prototype.cancel=function(){this.J=!0,mi(this)};function $e(l){l.S=Date.now()+l.I,xr(l,l.I)}function xr(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=ae(g(l.ba,l),h)}function os(l){l.B&&(c.clearTimeout(l.B),l.B=null)}bt.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Pe(this.i,this.A),this.L!=2&&(G(),Q(17)),mi(this),this.s=2,pi(this)):xr(this,this.S-l)};function pi(l){l.j.G==0||l.J||L2(l.j,l)}function mi(l){os(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,fl(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Qu(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||Yu(p.h,l))){if(!l.K&&Yu(p.h,l)&&p.G==3){try{var _=p.Da.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var L=_;if(L[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)Cl(p),El(p);else break e;ed(p),Q(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=ae(g(p.Za,p),6e3));if(1>=d2(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else vi(p,11)}else if((l.K||p.g==l)&&Cl(p),!x(h))for(L=p.Da.g.parse(h),h=0;h<L.length;h++){let Te=L[h];if(p.T=Te[0],Te=Te[1],p.G==2)if(Te[0]=="c"){p.K=Te[1],p.ia=Te[2];const Tt=Te[3];Tt!=null&&(p.la=Tt,p.j.info("VER="+p.la));const St=Te[4];St!=null&&(p.Aa=St,p.j.info("SVER="+p.Aa));const cs=Te[5];cs!=null&&typeof cs=="number"&&0<cs&&(_=1.5*cs,p.L=_,p.j.info("backChannelRequestTimeoutMs_="+_)),_=p;const _n=l.g;if(_n){const Sl=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sl){var M=_.h;M.g||Sl.indexOf("spdy")==-1&&Sl.indexOf("quic")==-1&&Sl.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Ju(M,M.h),M.h=null))}if(_.D){const nd=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;nd&&(_.ya=nd,Ae(_.I,_.D,nd))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),_=p;var q=l;if(_.qa=M2(_,_.J?_.ia:null,_.W),q.K){h2(_.h,q);var ke=q,mt=_.L;mt&&(ke.I=mt),ke.B&&(os(ke),$e(ke)),_.g=q}else R2(_);0<p.i.length&&xl(p)}else Te[0]!="stop"&&Te[0]!="close"||vi(p,7);else p.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?vi(p,7):Xu(p):Te[0]!="noop"&&p.l&&p.l.ta(Te),p.v=0)}}G(4)}catch{}}var L_=class{constructor(l,h){this.g=l,this.map=h}};function c2(l){this.l=l||10,c.PerformanceNavigationTiming?(l=c.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function u2(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function d2(l){return l.h?1:l.g?l.g.size:0}function Yu(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Ju(l,h){l.g?l.g.add(h):l.h=h}function h2(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}c2.prototype.cancel=function(){if(this.i=f2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function f2(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const p of l.g.values())h=h.concat(p.D);return h}return N(l.i)}function b_(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],p=l.length,_=0;_<p;_++)h.push(l[_]);return h}h=[],p=0;for(_ in l)h[p++]=l[_];return h}function V_(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(const _ in l)h[p++]=_;return h}}}function p2(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=V_(l),_=b_(l),L=_.length,M=0;M<L;M++)h.call(void 0,_[M],p&&p[M],l)}var m2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function M_(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var _=l[p].indexOf("="),L=null;if(0<=_){var M=l[p].substring(0,_);L=l[p].substring(_+1)}else M=l[p];h(M,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function gi(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof gi){this.h=l.h,gl(this,l.j),this.o=l.o,this.g=l.g,vl(this,l.s),this.l=l.l;var h=l.i,p=new xo;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),g2(this,p),this.m=l.m}else l&&(h=String(l).match(m2))?(this.h=!1,gl(this,h[1]||"",!0),this.o=wo(h[2]||""),this.g=wo(h[3]||"",!0),vl(this,h[4]),this.l=wo(h[5]||"",!0),g2(this,h[6]||"",!0),this.m=wo(h[7]||"")):(this.h=!1,this.i=new xo(null,this.h))}gi.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Eo(h,v2,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Eo(h,v2,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Eo(p,p.charAt(0)=="/"?U_:F_,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Eo(p,H_)),l.join("")};function Gn(l){return new gi(l)}function gl(l,h,p){l.j=p?wo(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function vl(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function g2(l,h,p){h instanceof xo?(l.i=h,z_(l.i,l.h)):(p||(h=Eo(h,B_)),l.i=new xo(h,l.h))}function Ae(l,h,p){l.i.set(h,p)}function yl(l){return Ae(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function wo(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Eo(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,O_),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function O_(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var v2=/[#\/\?@]/g,F_=/[#\?:]/g,U_=/[#\?]/g,B_=/[#\?@]/g,H_=/#/g;function xo(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Cr(l){l.g||(l.g=new Map,l.h=0,l.i&&M_(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=xo.prototype,t.add=function(l,h){Cr(this),this.i=null,l=as(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function y2(l,h){Cr(l),h=as(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function _2(l,h){return Cr(l),h=as(l,h),l.g.has(h)}t.forEach=function(l,h){Cr(this),this.g.forEach(function(p,_){p.forEach(function(L){l.call(h,L,_,this)},this)},this)},t.na=function(){Cr(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let _=0;_<h.length;_++){const L=l[_];for(let M=0;M<L.length;M++)p.push(h[_])}return p},t.V=function(l){Cr(this);let h=[];if(typeof l=="string")_2(this,l)&&(h=h.concat(this.g.get(as(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},t.set=function(l,h){return Cr(this),this.i=null,l=as(this,l),_2(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function w2(l,h,p){y2(l,h),0<p.length&&(l.i=null,l.g.set(as(l,h),N(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var _=h[p];const M=encodeURIComponent(String(_)),q=this.V(_);for(_=0;_<q.length;_++){var L=M;q[_]!==""&&(L+="="+encodeURIComponent(String(q[_]))),l.push(L)}}return this.i=l.join("&")};function as(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function z_(l,h){h&&!l.j&&(Cr(l),l.i=null,l.g.forEach(function(p,_){var L=_.toLowerCase();_!=L&&(y2(this,_),w2(this,L,p))},l)),l.j=h}function $_(l,h){const p=new se;if(c.Image){const _=new Image;_.onload=T(Tr,p,"TestLoadImage: loaded",!0,h,_),_.onerror=T(Tr,p,"TestLoadImage: error",!1,h,_),_.onabort=T(Tr,p,"TestLoadImage: abort",!1,h,_),_.ontimeout=T(Tr,p,"TestLoadImage: timeout",!1,h,_),c.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else h(!1)}function W_(l,h){const p=new se,_=new AbortController,L=setTimeout(()=>{_.abort(),Tr(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:_.signal}).then(M=>{clearTimeout(L),M.ok?Tr(p,"TestPingServer: ok",!0,h):Tr(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(L),Tr(p,"TestPingServer: error",!1,h)})}function Tr(l,h,p,_,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),_(p)}catch{}}function q_(){this.g=new pl}function K_(l,h,p){const _=p||"";try{p2(l,function(L,M){let q=L;d(L)&&(q=rs(L)),h.push(_+M+"="+encodeURIComponent(q))})}catch(L){throw h.push(_+"type="+encodeURIComponent("_badmap")),L}}function Co(l){this.l=l.Ub||null,this.j=l.eb||!1}S(Co,di),Co.prototype.g=function(){return new _l(this.l,this.j)},Co.prototype.i=function(l){return function(){return l}}({});function _l(l,h){ze.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(_l,ze),t=_l.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,So(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||c).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,To(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,So(this)),this.g&&(this.readyState=3,So(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;E2(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function E2(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?To(this):So(this),this.readyState==3&&E2(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,To(this))},t.Qa=function(l){this.g&&(this.response=l,To(this))},t.ga=function(){this.g&&To(this)};function To(l){l.readyState=4,l.l=null,l.j=null,l.v=null,So(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function So(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(_l.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function x2(l){let h="";return O(l,function(p,_){h+=_,h+=":",h+=p,h+=`\r
`}),h}function Zu(l,h,p){e:{for(_ in p){var _=!1;break e}_=!0}_||(p=x2(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):Ae(l,h,p))}function We(l){ze.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(We,ze);var G_=/^https?$/i,Q_=["POST","PUT"];t=We.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,p,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dn.g(),this.v=this.o?ml(this.o):ml(Dn),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(M){C2(this,M);return}if(l=p||"",p=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var L in _)p.set(L,_[L]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const M of _.keys())p.set(M,_.get(M));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(p.keys()).find(M=>M.toLowerCase()=="content-type"),L=c.FormData&&l instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Q_,h,void 0))||_||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,q]of p)this.g.setRequestHeader(M,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{I2(this),this.u=!0,this.g.send(l),this.u=!1}catch(M){C2(this,M)}};function C2(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,T2(l),wl(l)}function T2(l){l.A||(l.A=!0,ct(l,"complete"),ct(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ct(this,"complete"),ct(this,"abort"),wl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wl(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?S2(this):this.bb())},t.bb=function(){S2(this)};function S2(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Qn(l)!=4||l.Z()!=2)){if(l.u&&Qn(l)==4)dl(l.Ea,0,l);else if(ct(l,"readystatechange"),Qn(l)==4){l.h=!1;try{const q=l.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var _;if(_=q===0){var L=String(l.D).match(m2)[1]||null;!L&&c.self&&c.self.location&&(L=c.self.location.protocol.slice(0,-1)),_=!G_.test(L?L.toLowerCase():"")}p=_}if(p)ct(l,"complete"),ct(l,"success");else{l.m=6;try{var M=2<Qn(l)?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.Z()+"]",T2(l)}}finally{wl(l)}}}}function wl(l,h){if(l.g){I2(l);const p=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||ct(l,"ready");try{p.onreadystatechange=_}catch{}}}function I2(l){l.I&&(c.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Qn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),is(h)}};function k2(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Y_(l){const h={};l=(l.g&&2<=Qn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(x(l[_]))continue;var p=P(l[_]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const M=h[L]||[];h[L]=M,M.push(p)}v(h,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Io(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function P2(l){this.Aa=0,this.i=[],this.j=new se,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Io("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Io("baseRetryDelayMs",5e3,l),this.cb=Io("retryDelaySeedMs",1e4,l),this.Wa=Io("forwardChannelMaxRetries",2,l),this.wa=Io("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new c2(l&&l.concurrentRequestLimit),this.Da=new q_,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=P2.prototype,t.la=8,t.G=1,t.connect=function(l,h,p,_){Q(0),this.W=l,this.H=h||{},p&&_!==void 0&&(this.H.OSID=p,this.H.OAID=_),this.F=this.X,this.I=M2(this,null,this.W),xl(this)};function Xu(l){if(N2(l),l.G==3){var h=l.U++,p=Gn(l.I);if(Ae(p,"SID",l.K),Ae(p,"RID",h),Ae(p,"TYPE","terminate"),ko(l,p),h=new bt(l,l.j,h),h.L=2,h.v=yl(Gn(p)),p=!1,c.navigator&&c.navigator.sendBeacon)try{p=c.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&c.Image&&(new Image().src=h.v,p=!0),p||(h.g=O2(h.j,null),h.g.ea(h.v)),h.F=Date.now(),$e(h)}V2(l)}function El(l){l.g&&(td(l),l.g.cancel(),l.g=null)}function N2(l){El(l),l.u&&(c.clearTimeout(l.u),l.u=null),Cl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&c.clearTimeout(l.s),l.s=null)}function xl(l){if(!u2(l.h)&&!l.s){l.s=!0;var h=l.Ga;Je||ne(),U||(Je(),U=!0),ee.add(h,l),l.B=0}}function J_(l,h){return d2(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=ae(g(l.Ga,l,h),b2(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new bt(this,this.j,l);let M=this.o;if(this.S&&(M?(M=y(M),w(M,this.S)):M=this.S),this.m!==null||this.O||(L.H=M,M=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var _=this.i[p];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=A2(this,L,h),p=Gn(this.I),Ae(p,"RID",l),Ae(p,"CVER",22),this.D&&Ae(p,"X-HTTP-Session-Id",this.D),ko(this,p),M&&(this.O?h="headers="+encodeURIComponent(String(x2(M)))+"&"+h:this.m&&Zu(p,this.m,M)),Ju(this.h,L),this.Ua&&Ae(p,"TYPE","init"),this.P?(Ae(p,"$req",h),Ae(p,"SID","null"),L.T=!0,Er(L,p,null)):Er(L,p,h),this.G=2}}else this.G==3&&(l?j2(this,l):this.i.length==0||u2(this.h)||j2(this))};function j2(l,h){var p;h?p=h.l:p=l.U++;const _=Gn(l.I);Ae(_,"SID",l.K),Ae(_,"RID",p),Ae(_,"AID",l.T),ko(l,_),l.m&&l.o&&Zu(_,l.m,l.o),p=new bt(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=A2(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Ju(l.h,p),Er(p,_,h)}function ko(l,h){l.H&&O(l.H,function(p,_){Ae(h,_,p)}),l.l&&p2({},function(p,_){Ae(h,_,p)})}function A2(l,h,p){p=Math.min(l.i.length,p);var _=l.l?g(l.l.Na,l.l,l):null;e:{var L=l.i;let M=-1;for(;;){const q=["count="+p];M==-1?0<p?(M=L[0].g,q.push("ofs="+M)):M=0:q.push("ofs="+M);let ke=!0;for(let mt=0;mt<p;mt++){let Te=L[mt].g;const Tt=L[mt].map;if(Te-=M,0>Te)M=Math.max(0,L[mt].g-100),ke=!1;else try{K_(Tt,q,"req"+Te+"_")}catch{_&&_(Tt)}}if(ke){_=q.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,_}function R2(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;Je||ne(),U||(Je(),U=!0),ee.add(h,l),l.v=0}}function ed(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=ae(g(l.Fa,l),b2(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,D2(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=ae(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Q(10),El(this),D2(this))};function td(l){l.A!=null&&(c.clearTimeout(l.A),l.A=null)}function D2(l){l.g=new bt(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Gn(l.qa);Ae(h,"RID","rpc"),Ae(h,"SID",l.K),Ae(h,"AID",l.T),Ae(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ae(h,"TO",l.ja),Ae(h,"TYPE","xmlhttp"),ko(l,h),l.m&&l.o&&Zu(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=yl(Gn(h)),p.m=null,p.P=!0,me(p,l)}t.Za=function(){this.C!=null&&(this.C=null,El(this),ed(this),Q(19))};function Cl(l){l.C!=null&&(c.clearTimeout(l.C),l.C=null)}function L2(l,h){var p=null;if(l.g==h){Cl(l),td(l),l.g=null;var _=2}else if(Yu(l.h,h))p=h.D,h2(l.h,h),_=1;else return;if(l.G!=0){if(h.o)if(_==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var L=l.B;_=F(),ct(_,new Y(_,p)),xl(l)}else R2(l);else if(L=h.s,L==3||L==0&&0<h.X||!(_==1&&J_(l,h)||_==2&&ed(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),L){case 1:vi(l,5);break;case 4:vi(l,10);break;case 3:vi(l,6);break;default:vi(l,2)}}}function b2(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function vi(l,h){if(l.j.info("Error code "+h),h==2){var p=g(l.fb,l),_=l.Xa;const L=!_;_=new gi(_||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||gl(_,"https"),yl(_),L?$_(_.toString(),p):W_(_.toString(),p)}else Q(2);l.G=0,l.l&&l.l.sa(h),V2(l),N2(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Q(2)):(this.j.info("Failed to ping google.com"),Q(1))};function V2(l){if(l.G=0,l.ka=[],l.l){const h=f2(l.h);(h.length!=0||l.i.length!=0)&&(A(l.ka,h),A(l.ka,l.i),l.h.i.length=0,N(l.i),l.i.length=0),l.l.ra()}}function M2(l,h,p){var _=p instanceof gi?Gn(p):new gi(p);if(_.g!="")h&&(_.g=h+"."+_.g),vl(_,_.s);else{var L=c.location;_=L.protocol,h=h?h+"."+L.hostname:L.hostname,L=+L.port;var M=new gi(null);_&&gl(M,_),h&&(M.g=h),L&&vl(M,L),p&&(M.l=p),_=M}return p=l.D,h=l.ya,p&&h&&Ae(_,p,h),Ae(_,"VER",l.la),ko(l,_),_}function O2(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new We(new Co({eb:p})):new We(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function F2(){}t=F2.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Tl(){}Tl.prototype.g=function(l,h){return new Yt(l,h)};function Yt(l,h){ze.call(this),this.g=new P2(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!x(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!x(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new ls(this)}S(Yt,ze),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Xu(this.g)},Yt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=rs(l),l=p);h.i.push(new L_(h.Ya++,l)),h.G==3&&xl(h)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Xu(this.g),delete this.g,Yt.aa.N.call(this)};function U2(l){ss.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}S(U2,ss);function B2(){_o.call(this),this.status=1}S(B2,_o);function ls(l){this.g=l}S(ls,F2),ls.prototype.ua=function(){ct(this.g,"a")},ls.prototype.ta=function(l){ct(this.g,new U2(l))},ls.prototype.sa=function(l){ct(this.g,new B2)},ls.prototype.ra=function(){ct(this.g,"b")},Tl.prototype.createWebChannel=Tl.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,s3=function(){return new Tl},i3=function(){return F()},r3=R,Qh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rn.NO_ERROR=0,Rn.TIMEOUT=8,Rn.HTTP_ERROR=6,uc=Rn,vn.COMPLETE="complete",n3=vn,yo.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",ze.prototype.listen=ze.prototype.K,Go=yo,t3=Co,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,e3=We}).apply(typeof $l<"u"?$l:typeof self<"u"?self:typeof window<"u"?window:{});const Gm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uo="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new p0("@firebase/firestore");function Fo(){return Ui.logLevel}function Z(t,...e){if(Ui.logLevel<=Ee.DEBUG){const n=e.map(I0);Ui.debug(`Firestore (${uo}): ${t}`,...n)}}function hr(t,...e){if(Ui.logLevel<=Ee.ERROR){const n=e.map(I0);Ui.error(`Firestore (${uo}): ${t}`,...n)}}function Ys(t,...e){if(Ui.logLevel<=Ee.WARN){const n=e.map(I0);Ui.warn(`Firestore (${uo}): ${t}`,...n)}}function I0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: `+t;throw hr(e),new Error(e)}function je(t,e){t||le()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Z5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class X5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class eT{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new or;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new or,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new or)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new o3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new Nt(e)}}class tT{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class nT{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new tT(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iT{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new rT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=sT(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Se(t,e){return t<e?-1:t>e?1:0}function Js(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new at(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new at(0,0))}static max(){return new ue(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ba.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ba?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ve extends ba{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const oT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends ba{construct(e,n,r){return new _t(e,n,r)}static isValidIdentifier(e){return oT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _t(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new te(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new te(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new te(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(n)}static emptyPath(){return new _t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Ve.fromString(e))}static fromName(e){return new ie(Ve.fromString(e).popFirst(5))}static empty(){return new ie(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Ve(e.slice()))}}function aT(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new ei(i,ie.empty(),e)}function lT(t){return new ei(t.readTime,t.key,-1)}class ei{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ei(ue.min(),ie.empty(),-1)}static max(){return new ei(ue.max(),ie.empty(),-1)}}function cT(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==uT)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let c=0;for(let u=0;u<s;u++){const d=u;n(e[d]).next(f=>{o[d]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function hT(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}k0.oe=-1;function Pu(t){return t==null}function Gc(t){return t===0&&1/t==-1/0}function fT(t){return typeof t=="number"&&Number.isInteger(t)&&!Gc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function l3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||vt.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vt.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wl(this.root,e,this.comparator,!0)}}class Wl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??vt.RED,this.left=i??vt.EMPTY,this.right=s??vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new vt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return vt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}vt.EMPTY=null,vt.RED=!0,vt.BLACK=!1;vt.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,i,s){return this}insert(e,n,r){return new vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ym(this.data.getIterator())}getIteratorFrom(e){return new Ym(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class Ym{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new Xt([])}unionWith(e){let n=new Et(_t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Js(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new c3("Invalid base64 string: "+s):s}}(e);return new Lt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const pT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ti(t){if(je(!!t),typeof t=="string"){let e=0;const n=pT.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bi(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function N0(t){const e=t.mapValue.fields.__previous_value__;return P0(e)?N0(e):e}function Va(t){const e=ti(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n,r,i,s,o,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}}class Ma{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ma("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ma&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?P0(t)?4:gT(t)?9007199254740991:10:le()}function $n(t,e){if(t===e)return!0;const n=Hi(t);if(n!==Hi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Va(t).isEqual(Va(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ti(i.timestampValue),c=ti(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Bi(i.bytesValue).isEqual(Bi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return et(i.geoPointValue.latitude)===et(s.geoPointValue.latitude)&&et(i.geoPointValue.longitude)===et(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return et(i.integerValue)===et(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=et(i.doubleValue),c=et(s.doubleValue);return o===c?Gc(o)===Gc(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Js(t.arrayValue.values||[],e.arrayValue.values||[],$n);case 10:return function(i,s){const o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(Qm(o)!==Qm(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!$n(o[u],c[u])))return!1;return!0}(t,e);default:return le()}}function Oa(t,e){return(t.values||[]).find(n=>$n(n,e))!==void 0}function Zs(t,e){if(t===e)return 0;const n=Hi(t),r=Hi(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(s,o){const c=et(s.integerValue||s.doubleValue),u=et(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return Jm(t.timestampValue,e.timestampValue);case 4:return Jm(Va(t),Va(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(s,o){const c=Bi(s),u=Bi(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const c=s.split("/"),u=o.split("/");for(let d=0;d<c.length&&d<u.length;d++){const f=Se(c[d],u[d]);if(f!==0)return f}return Se(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const c=Se(et(s.latitude),et(o.latitude));return c!==0?c:Se(et(s.longitude),et(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const c=s.values||[],u=o.values||[];for(let d=0;d<c.length&&d<u.length;++d){const f=Zs(c[d],u[d]);if(f)return f}return Se(c.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ql.mapValue&&o===ql.mapValue)return 0;if(s===ql.mapValue)return 1;if(o===ql.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const g=Se(u[m],f[m]);if(g!==0)return g;const T=Zs(c[u[m]],d[f[m]]);if(T!==0)return T}return Se(u.length,f.length)}(t.mapValue,e.mapValue);default:throw le()}}function Jm(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=ti(t),r=ti(e),i=Se(n.seconds,r.seconds);return i!==0?i:Se(n.nanos,r.nanos)}function Xs(t){return Yh(t)}function Yh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ti(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Yh(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Yh(n.fields[o])}`;return i+"}"}(t.mapValue):le()}function Jh(t){return!!t&&"integerValue"in t}function j0(t){return!!t&&"arrayValue"in t}function Zm(t){return!!t&&"nullValue"in t}function Xm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dc(t){return!!t&&"mapValue"in t}function ca(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ca(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ca(t.arrayValue.values[n]);return e}return Object.assign({},t)}function gT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ca(n)}setAll(e){let n=_t.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=ca(o):i.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());dc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];dc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new $t(ca(this.value))}}function u3(t){const e=[];return Yi(t.fields,(n,r)=>{const i=new _t([n]);if(dc(r)){const s=u3(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Xt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new At(e,0,ue.min(),ue.min(),ue.min(),$t.empty(),0)}static newFoundDocument(e,n,r,i){return new At(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new At(e,2,n,ue.min(),ue.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new At(e,3,n,ue.min(),ue.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof At&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new At(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n){this.position=e,this.inclusive=n}}function eg(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=Zs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function tg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$n(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n="asc"){this.field=e,this.dir=n}}function vT(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{}class st extends d3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _T(e,n,r):n==="array-contains"?new xT(e,r):n==="in"?new CT(e,r):n==="not-in"?new TT(e,r):n==="array-contains-any"?new ST(e,r):new st(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new wT(e,r):new ET(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zs(n,this.value)):n!==null&&Hi(this.value)===Hi(n)&&this.matchesComparison(Zs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends d3{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Wn(e,n)}matches(e){return h3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function h3(t){return t.op==="and"}function f3(t){return yT(t)&&h3(t)}function yT(t){for(const e of t.filters)if(e instanceof Wn)return!1;return!0}function Zh(t){if(t instanceof st)return t.field.canonicalString()+t.op.toString()+Xs(t.value);if(f3(t))return t.filters.map(e=>Zh(e)).join(",");{const e=t.filters.map(n=>Zh(n)).join(",");return`${t.op}(${e})`}}function p3(t,e){return t instanceof st?function(r,i){return i instanceof st&&r.op===i.op&&r.field.isEqual(i.field)&&$n(r.value,i.value)}(t,e):t instanceof Wn?function(r,i){return i instanceof Wn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&p3(o,i.filters[c]),!0):!1}(t,e):void le()}function m3(t){return t instanceof st?function(n){return`${n.field.canonicalString()} ${n.op} ${Xs(n.value)}`}(t):t instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(m3).join(" ,")+"}"}(t):"Filter"}class _T extends st{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class wT extends st{constructor(e,n){super(e,"in",n),this.keys=g3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ET extends st{constructor(e,n){super(e,"not-in",n),this.keys=g3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function g3(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class xT extends st{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return j0(n)&&Oa(n.arrayValue,this.value)}}class CT extends st{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Oa(this.value.arrayValue,n)}}class TT extends st{constructor(e,n){super(e,"not-in",n)}matches(e){if(Oa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Oa(this.value.arrayValue,n)}}class ST extends st{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!j0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Oa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}}function ng(t,e=null,n=[],r=[],i=null,s=null,o=null){return new IT(t,e,n,r,i,s,o)}function A0(t){const e=de(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Zh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Pu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xs(r)).join(",")),e.ue=n}return e.ue}function R0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vT(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!p3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tg(t.startAt,e.startAt)&&tg(t.endAt,e.endAt)}function Xh(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function kT(t,e,n,r,i,s,o,c){return new Nu(t,e,n,r,i,s,o,c)}function ju(t){return new Nu(t)}function rg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PT(t){return t.collectionGroup!==null}function ua(t){const e=de(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Et(_t.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Yc(s,r))}),n.has(_t.keyField().canonicalString())||e.ce.push(new Yc(_t.keyField(),r))}return e.ce}function Hn(t){const e=de(t);return e.le||(e.le=NT(e,ua(t))),e.le}function NT(t,e){if(t.limitType==="F")return ng(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Yc(i.field,s)});const n=t.endAt?new Qc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qc(t.startAt.position,t.startAt.inclusive):null;return ng(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ef(t,e,n){return new Nu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Au(t,e){return R0(Hn(t),Hn(e))&&t.limitType===e.limitType}function v3(t){return`${A0(Hn(t))}|lt:${t.limitType}`}function hs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>m3(i)).join(", ")}]`),Pu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xs(i)).join(",")),`Target(${r})`}(Hn(t))}; limitType=${t.limitType})`}function Ru(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ua(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){const d=eg(o,c,u);return o.inclusive?d<=0:d<0}(r.startAt,ua(r),i)||r.endAt&&!function(o,c,u){const d=eg(o,c,u);return o.inclusive?d>=0:d>0}(r.endAt,ua(r),i))}(t,e)}function jT(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function y3(t){return(e,n)=>{let r=!1;for(const i of ua(t)){const s=AT(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function AT(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,o,c){const u=o.data.field(s),d=c.data.field(s);return u!==null&&d!==null?Zs(u,d):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return l3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=new He(ie.comparator);function fr(){return RT}const _3=new He(ie.comparator);function Qo(...t){let e=_3;for(const n of t)e=e.insert(n.key,n);return e}function w3(t){let e=_3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ii(){return da()}function E3(){return da()}function da(){return new ho(t=>t.toString(),(t,e)=>t.isEqual(e))}const DT=new He(ie.comparator),LT=new Et(ie.comparator);function ve(...t){let e=LT;for(const n of t)e=e.add(n);return e}const bT=new Et(Se);function VT(){return bT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function C3(t){return{integerValue:""+t}}function MT(t,e){return fT(e)?C3(e):x3(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(){this._=void 0}}function OT(t,e,n){return t instanceof Jc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&P0(s)&&(s=N0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Fa?S3(t,e):t instanceof Ua?I3(t,e):function(i,s){const o=T3(i,s),c=ig(o)+ig(i.Pe);return Jh(o)&&Jh(i.Pe)?C3(c):x3(i.serializer,c)}(t,e)}function FT(t,e,n){return t instanceof Fa?S3(t,e):t instanceof Ua?I3(t,e):n}function T3(t,e){return t instanceof Zc?function(r){return Jh(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Jc extends Du{}class Fa extends Du{constructor(e){super(),this.elements=e}}function S3(t,e){const n=k3(e);for(const r of t.elements)n.some(i=>$n(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ua extends Du{constructor(e){super(),this.elements=e}}function I3(t,e){let n=k3(e);for(const r of t.elements)n=n.filter(i=>!$n(i,r));return{arrayValue:{values:n}}}class Zc extends Du{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function ig(t){return et(t.integerValue||t.doubleValue)}function k3(t){return j0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function UT(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Fa&&i instanceof Fa||r instanceof Ua&&i instanceof Ua?Js(r.elements,i.elements,$n):r instanceof Zc&&i instanceof Zc?$n(r.Pe,i.Pe):r instanceof Jc&&i instanceof Jc}(t.transform,e.transform)}class BT{constructor(e,n){this.version=e,this.transformResults=n}}class kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lu{}function P3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new D0(t.key,kn.none()):new nl(t.key,t.data,kn.none());{const n=t.data,r=$t.empty();let i=new Et(_t.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new li(t.key,r,new Xt(i.toArray()),kn.none())}}function HT(t,e,n){t instanceof nl?function(i,s,o){const c=i.value.clone(),u=og(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof li?function(i,s,o){if(!hc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const c=og(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(N3(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ha(t,e,n,r){return t instanceof nl?function(s,o,c,u){if(!hc(s.precondition,o))return c;const d=s.value.clone(),f=ag(s.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof li?function(s,o,c,u){if(!hc(s.precondition,o))return c;const d=ag(s.fieldTransforms,u,o),f=o.data;return f.setAll(N3(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,c){return hc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function zT(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=T3(r.transform,i||null);s!=null&&(n===null&&(n=$t.empty()),n.set(r.field,s))}return n||null}function sg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Js(r,i,(s,o)=>UT(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nl extends Lu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class li extends Lu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function N3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function og(t,e,n){const r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,FT(o,c,n[i]))}return r}function ag(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,OT(s,o,e))}return r}class D0 extends Lu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $T extends Lu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&HT(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ha(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ha(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=E3();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;const u=P3(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&Js(this.mutations,e.mutations,(n,r)=>sg(n,r))&&Js(this.baseMutations,e.baseMutations,(n,r)=>sg(n,r))}}class L0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){je(e.mutations.length===r.length);let i=function(){return DT}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new L0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe,xe;function GT(t){switch(t){default:return le();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function j3(t){if(t===void 0)return hr("GRPC error has no .code"),H.UNKNOWN;switch(t){case Xe.OK:return H.OK;case Xe.CANCELLED:return H.CANCELLED;case Xe.UNKNOWN:return H.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return H.INTERNAL;case Xe.UNAVAILABLE:return H.UNAVAILABLE;case Xe.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Xe.NOT_FOUND:return H.NOT_FOUND;case Xe.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Xe.ABORTED:return H.ABORTED;case Xe.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Xe.DATA_LOSS:return H.DATA_LOSS;default:return le()}}(xe=Xe||(Xe={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=new Ni([4294967295,4294967295],0);function lg(t){const e=QT().encode(t),n=new Xy;return n.update(e),new Uint8Array(n.digest())}function cg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ni([n,r],0),new Ni([i,s],0)]}class b0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Yo(`Invalid padding: ${n}`);if(r<0)throw new Yo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Yo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ni.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ni.fromNumber(r)));return i.compare(YT)===1&&(i=new Ni([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=lg(e),[r,i]=cg(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new b0(s,i,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;const n=lg(e),[r,i]=cg(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,rl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bu(ue.min(),i,new He(Se),fr(),ve())}}class rl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new rl(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class A3{constructor(e,n){this.targetId=e,this.me=n}}class R3{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ug{constructor(){this.fe=0,this.ge=hg(),this.pe=Lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ve(),n=ve(),r=ve();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new rl(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=hg()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class JT{constructor(e){this.Le=e,this.Be=new Map,this.ke=fr(),this.qe=dg(),this.Qe=new He(Se)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Xh(s))if(r===0){const o=new ie(s.path);this.Ue(n,o,At.newNoDocument(o,ue.min()))}else je(r===1);else{const o=this.Ye(n);if(o!==r){const c=this.Ze(e),u=c?this.Xe(c,e,o):1;if(u!==0){this.je(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,c;try{o=Bi(r).toUint8Array()}catch(u){if(u instanceof c3)return Ys("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new b0(o,i,s)}catch(u){return Ys(u instanceof Yo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const c=this.Je(o);if(c){if(s.current&&Xh(c.target)){const u=new ie(c.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,At.newNoDocument(u,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=ve();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{const d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new bu(e,n,this.Qe,this.ke,r);return this.ke=fr(),this.qe=dg(),this.Qe=new He(Se),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new ug,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Et(Se),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ug),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function dg(){return new He(ie.comparator)}function hg(){return new He(ie.comparator)}const ZT={asc:"ASCENDING",desc:"DESCENDING"},XT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e9={and:"AND",or:"OR"};class t9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tf(t,e){return t.useProto3Json||Pu(e)?e:{value:e}}function Xc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function D3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function n9(t,e){return Xc(t,e.toTimestamp())}function zn(t){return je(!!t),ue.fromTimestamp(function(n){const r=ti(n);return new at(r.seconds,r.nanos)}(t))}function V0(t,e){return nf(t,e).canonicalString()}function nf(t,e){const n=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function L3(t){const e=Ve.fromString(t);return je(F3(e)),e}function rf(t,e){return V0(t.databaseId,e.path)}function Fd(t,e){const n=L3(e);if(n.get(1)!==t.databaseId.projectId)throw new te(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(V3(n))}function b3(t,e){return V0(t.databaseId,e)}function r9(t){const e=L3(t);return e.length===4?Ve.emptyPath():V3(e)}function sf(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function V3(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function fg(t,e,n){return{name:rf(t,e),fields:n.value.mapValue.fields}}function i9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,f){return d.useProto3Json?(je(f===void 0||typeof f=="string"),Lt.fromBase64String(f||"")):(je(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Lt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(d){const f=d.code===void 0?H.UNKNOWN:j3(d.code);return new te(f,d.message||"")}(o);n=new R3(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Fd(t,r.document.name),s=zn(r.document.updateTime),o=r.document.createTime?zn(r.document.createTime):ue.min(),c=new $t({mapValue:{fields:r.document.fields}}),u=At.newFoundDocument(i,s,o,c),d=r.targetIds||[],f=r.removedTargetIds||[];n=new fc(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Fd(t,r.document),s=r.readTime?zn(r.readTime):ue.min(),o=At.newNoDocument(i,s),c=r.removedTargetIds||[];n=new fc([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Fd(t,r.document),s=r.removedTargetIds||[];n=new fc([],s,i,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new KT(i,s),c=r.targetId;n=new A3(c,o)}}return n}function s9(t,e){let n;if(e instanceof nl)n={update:fg(t,e.key,e.value)};else if(e instanceof D0)n={delete:rf(t,e.key)};else if(e instanceof li)n={update:fg(t,e.key,e.data),updateMask:p9(e.fieldMask)};else{if(!(e instanceof $T))return le();n={verify:rf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const c=o.transform;if(c instanceof Jc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Fa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ua)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Zc)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:n9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:le()}(t,e.precondition)),n}function o9(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?zn(i.updateTime):zn(s);return o.isEqual(ue.min())&&(o=zn(s)),new BT(o,i.transformResults||[])}(n,e))):[]}function a9(t,e){return{documents:[b3(t,e.path)]}}function l9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=b3(t,i);const s=function(d){if(d.length!==0)return O3(Wn.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(f=>function(g){return{field:fs(g.field),direction:d9(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=tf(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:i}}function c9(t){let e=r9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){je(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(m){const g=M3(m);return g instanceof Wn&&f3(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(g=>function(S){return new Yc(ps(S.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(g))}(n.orderBy));let c=null;n.limit&&(c=function(m){let g;return g=typeof m=="object"?m.value:m,Pu(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(m){const g=!!m.before,T=m.values||[];return new Qc(T,g)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const g=!m.before,T=m.values||[];return new Qc(T,g)}(n.endAt)),kT(e,i,o,s,c,"F",u,d)}function u9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function M3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ps(n.unaryFilter.field);return st.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ps(n.unaryFilter.field);return st.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ps(n.unaryFilter.field);return st.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ps(n.unaryFilter.field);return st.create(o,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return st.create(ps(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(r=>M3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function d9(t){return ZT[t]}function h9(t){return XT[t]}function f9(t){return e9[t]}function fs(t){return{fieldPath:t.canonicalString()}}function ps(t){return _t.fromServerFormat(t.fieldPath)}function O3(t){return t instanceof st?function(n){if(n.op==="=="){if(Xm(n.value))return{unaryFilter:{field:fs(n.field),op:"IS_NAN"}};if(Zm(n.value))return{unaryFilter:{field:fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xm(n.value))return{unaryFilter:{field:fs(n.field),op:"IS_NOT_NAN"}};if(Zm(n.value))return{unaryFilter:{field:fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fs(n.field),op:h9(n.op),value:n.value}}}(t):t instanceof Wn?function(n){const r=n.getFilters().map(i=>O3(i));return r.length===1?r[0]:{compositeFilter:{op:f9(n.op),filters:r}}}(t):le()}function p9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function F3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n,r,i,s=ue.min(),o=ue.min(),c=Lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new Fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e){this.ct=e}}function g9(t){const e=c9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ef(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(){this._n=new y9}addToCollectionParentIndex(e,n){return this._n.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(ei.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(ei.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class y9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Et(Ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Et(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new eo(0)}static Ln(){return new eo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(){this.changes=new ho(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,At.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ha(r.mutation,i,Xt.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const i=Ii();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Qo();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ii();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=fr();const o=da(),c=function(){return da()}();return n.forEach((u,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof li)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),ha(f.mutation,d,f.mutation.getFieldMask(),at.now())):o.set(d.key,Xt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>{var m;return c.set(d,new w9(f,(m=o.get(d))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(e,n){const r=da();let i=new He((o,c)=>o-c),s=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const c of o)c.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let f=r.get(u)||Xt.empty();f=c.applyToLocalView(d,f),r.set(u,f);const m=(i.get(c.batchId)||ve()).add(u);i=i.insert(c.batchId,m)})}).next(()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),d=u.key,f=u.value,m=E3();f.forEach(g=>{if(!s.has(g)){const T=P3(n.get(g),r.get(g));T!==null&&m.set(g,T),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(Ii());let c=-1,u=s;return o.next(d=>z.forEach(d,(f,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),s.get(f)?z.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,ve())).next(f=>({batchId:c,changes:w3(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=Qo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Qo();return this.indexManager.getCollectionParents(e,s).next(c=>z.forEach(c,u=>{const d=function(m,g){return new Nu(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,At.newInvalidDocument(f)))});let c=Qo();return o.forEach((u,d)=>{const f=s.get(u);f!==void 0&&ha(f.mutation,d,Xt.empty(),at.now()),Ru(n,d)&&(c=c.insert(u,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return z.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:zn(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:g9(i.bundledQuery),readTime:zn(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(){this.overlays=new He(ie.comparator),this.hr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ii();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=Ii(),s=n.length+1,o=new ie(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new He((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=Ii(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const c=Ii(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=i)););return z.resolve(c)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new qT(n,r));let s=this.hr.get(n);s===void 0&&(s=ve(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this.Pr=new Et(dt.Ir),this.Tr=new Et(dt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new dt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new dt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ie(new Ve([])),r=new dt(n,e),i=new dt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ie(new Ve([])),r=new dt(n,e),i=new dt(n,e+1);let s=ve();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new dt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ie.comparator(e.key,n.key)||Se(e.pr,n.pr)}static Er(e,n){return Se(e.pr,n.pr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Et(dt.Ir)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new WT(s,n,r,i);this.mutationQueue.push(o);for(const c of i)this.wr=this.wr.add(new dt(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dt(n,0),i=new dt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const c=this.Sr(o.pr);s.push(c)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(Se);return n.forEach(i=>{const s=new dt(i,0),o=new dt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],c=>{r=r.add(c.pr)})}),z.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ie.isDocumentKey(s)||(s=s.child(""));const o=new dt(new ie(s),0);let c=new Et(Se);return this.wr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.pr)),!0)},o),z.resolve(this.Dr(c))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return z.forEach(n.mutations,i=>{const s=new dt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new dt(n,0),i=this.wr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e){this.vr=e,this.docs=function(){return new He(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():At.newInvalidDocument(n))}getEntries(e,n){let r=fr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():At.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=fr();const o=n.path,c=new ie(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||cT(lT(f),r)<=0||(i.has(f.key)||Ru(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){le()}Fr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new I9(this)}getSize(e){return z.resolve(this.size)}}class I9 extends _9{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e){this.persistence=e,this.Mr=new ho(n=>A0(n),R0),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Or=0,this.Nr=new M0,this.targetCount=0,this.Lr=eo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),z.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new eo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.qn(n),z.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e,n){this.Br={},this.overlays={},this.kr=new k0(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new k9(this),this.indexManager=new v9,this.remoteDocumentCache=function(i){return new S9(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new m9(n),this.$r=new x9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new C9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new T9(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const i=new N9(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return z.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class N9 extends dT{constructor(e){super(),this.currentSequenceNumber=e}}class O0{constructor(e){this.persistence=e,this.zr=new M0,this.jr=null}static Hr(e){return new O0(e)}get Jr(){if(this.jr)return this.jr;throw le()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),z.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Jr,r=>{const i=ie.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return z.or([()=>z.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ve(),i=ve();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new F0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return gx()?8:hT(Ct())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new j9;return this.Ji(e,n,o).next(c=>{if(s.result=c,this.Ui)return this.Yi(e,n,o,c.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Fo()<=Ee.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",hs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),z.resolve()):(Fo()<=Ee.DEBUG&&Z("QueryEngine","Query:",hs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Fo()<=Ee.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",hs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hn(n))):z.resolve())}ji(e,n){if(rg(n))return z.resolve(null);let r=Hn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ef(n,null,"F"),r=Hn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ve(...s);return this.zi.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.Zi(n,c);return this.Xi(n,d,o,u.readTime)?this.ji(e,ef(n,null,"F")):this.es(e,d,n,u)}))})))}Hi(e,n,r,i){return rg(n)||i.isEqual(ue.min())?z.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?z.resolve(null):(Fo()<=Ee.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hs(n)),this.es(e,o,n,aT(i,-1)).next(c=>c))})}Zi(e,n){let r=new Et(y3(e));return n.forEach((i,s)=>{Ru(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Fo()<=Ee.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",hs(n)),this.zi.getDocumentsMatchingQuery(e,n,ei.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new He(Se),this.rs=new ho(s=>A0(s),R0),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E9(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function D9(t,e,n,r){return new R9(t,e,n,r)}async function U3(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],c=[];let u=ve();for(const d of i){o.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of s){c.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(d=>({us:d,removedBatchIds:o,addedBatchIds:c}))})})}function L9(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(c,u,d,f){const m=d.batch,g=m.keys();let T=z.resolve();return g.forEach(S=>{T=T.next(()=>f.getEntry(u,S)).next(N=>{const A=d.docVersions.get(S);je(A!==null),N.version.compareTo(A)<0&&(m.applyToRemoteDocument(N,d),N.isValidDocument()&&(N.setReadTime(d.commitVersion),f.addEntry(N)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(u,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=ve();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function B3(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function b9(t,e){const n=de(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const c=[];e.targetChanges.forEach((f,m)=>{const g=i.get(m);if(!g)return;c.push(n.Qr.removeMatchingKeys(s,f.removedDocuments,m).next(()=>n.Qr.addMatchingKeys(s,f.addedDocuments,m)));let T=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?T=T.withResumeToken(Lt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):f.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(f.resumeToken,r)),i=i.insert(m,T),function(N,A,C){return N.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(g,T,f)&&c.push(n.Qr.updateTargetData(s,T))});let u=fr(),d=ve();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),c.push(V9(s,o,e.documentUpdates).next(f=>{u=f.cs,d=f.ls})),!r.isEqual(ue.min())){const f=n.Qr.getLastRemoteSnapshotVersion(s).next(m=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(f)}return z.waitFor(c).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(n.ns=i,s))}function V9(t,e,n){let r=ve(),i=ve();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=fr();return n.forEach((c,u)=>{const d=s.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ue.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):Z("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{cs:o,ls:i}})}function M9(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function O9(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Fr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function of(t,e,n){const r=de(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!tl(o))throw o;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function pg(t,e,n){const r=de(t);let i=ue.min(),s=ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,f){const m=de(u),g=m.rs.get(f);return g!==void 0?z.resolve(m.ns.get(g)):m.Qr.getTargetData(d,f)}(r,o,Hn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ue.min(),n?s:ve())).next(c=>(F9(r,jT(e),c),{documents:c,hs:s})))}function F9(t,e,n){let r=t.ss.get(e)||ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class mg{constructor(){this.activeTargetIds=VT()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U9{constructor(){this.no=new mg,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new mg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl=null;function Ud(){return Kl===null?Kl=function(){return 268435456+Math.round(2147483648*Math.random())}():Kl++,"0x"+Kl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt="WebChannelConnection";class $9 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const c=Ud(),u=this.vo(n,r.toUriEncodedString());Z("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);const d={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(d,s,o),this.Mo(n,u,d,i).then(f=>(Z("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw Ys("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}xo(n,r,i,s,o,c){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=H9[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=Ud();return new Promise((o,c)=>{const u=new e3;u.setWithCredentials(!0),u.listenOnce(n3.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case uc.NO_ERROR:const f=u.getResponseJson();Z(Pt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case uc.TIMEOUT:Z(Pt,`RPC '${e}' ${s} timed out`),c(new te(H.DEADLINE_EXCEEDED,"Request time out"));break;case uc.HTTP_ERROR:const m=u.getStatus();if(Z(Pt,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const T=g==null?void 0:g.error;if(T&&T.status&&T.message){const S=function(A){const C=A.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(C)>=0?C:H.UNKNOWN}(T.status);c(new te(S,T.message))}else c(new te(H.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new te(H.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{Z(Pt,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);Z(Pt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}Oo(e,n,r){const i=Ud(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=s3(),c=i3(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.xmlHttpFactory=new t3({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");Z(Pt,`Creating RPC '${e}' stream ${i}: ${f}`,u);const m=o.createWebChannel(f,u);let g=!1,T=!1;const S=new z9({lo:A=>{T?Z(Pt,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(g||(Z(Pt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),Z(Pt,`RPC '${e}' stream ${i} sending:`,A),m.send(A))},ho:()=>m.close()}),N=(A,C,x)=>{A.listen(C,k=>{try{x(k)}catch(b){setTimeout(()=>{throw b},0)}})};return N(m,Go.EventType.OPEN,()=>{T||(Z(Pt,`RPC '${e}' stream ${i} transport opened.`),S.mo())}),N(m,Go.EventType.CLOSE,()=>{T||(T=!0,Z(Pt,`RPC '${e}' stream ${i} transport closed`),S.po())}),N(m,Go.EventType.ERROR,A=>{T||(T=!0,Ys(Pt,`RPC '${e}' stream ${i} transport errored:`,A),S.po(new te(H.UNAVAILABLE,"The operation could not be completed")))}),N(m,Go.EventType.MESSAGE,A=>{var C;if(!T){const x=A.data[0];je(!!x);const k=x,b=k.error||((C=k[0])===null||C===void 0?void 0:C.error);if(b){Z(Pt,`RPC '${e}' stream ${i} received error:`,b);const B=b.status;let O=function(E){const w=Xe[E];if(w!==void 0)return j3(w)}(B),v=b.message;O===void 0&&(O=H.INTERNAL,v="Unknown error status: "+B+" with message "+b.message),T=!0,S.po(new te(O,v)),m.close()}else Z(Pt,`RPC '${e}' stream ${i} received:`,x),S.yo(x)}}),N(c,r3.STAT_EVENT,A=>{A.stat===Qh.PROXY?Z(Pt,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Qh.NOPROXY&&Z(Pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.fo()},0),S}}function Bd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){return new t9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,n,r,i,s,o,c,u){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new H3(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(hr(n.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new te(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class W9 extends z3{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=i9(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?zn(o.readTime):ue.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=sf(this.serializer),n.addTarget=function(s,o){let c;const u=o.target;if(c=Xh(u)?{documents:a9(s,u)}:{query:l9(s,u)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=D3(s,o.resumeToken);const d=tf(s,o.expectedCount);d!==null&&(c.expectedCount=d)}else if(o.snapshotVersion.compareTo(ue.min())>0){c.readTime=Xc(s,o.snapshotVersion.toTimestamp());const d=tf(s,o.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=u9(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=sf(this.serializer),n.removeTarget=e,this.i_(n)}}class q9 extends z3{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=o9(e.writeResults,e.commitTime),r=zn(e.commitTime);return this.listener.A_(r,n)}return je(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=sf(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>s9(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new te(H.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,nf(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(H.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.xo(e,nf(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(H.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class G9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(hr(n),this.y_=!1):Z("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{Ji(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(u){const d=de(u);d.M_.add(4),await il(d),d.N_.set("Unknown"),d.M_.delete(4),await Mu(d)}(this))})}),this.N_=new G9(r,i)}}async function Mu(t){if(Ji(t))for(const e of t.x_)await e(!0)}async function il(t){for(const e of t.x_)await e(!1)}function $3(t,e){const n=de(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),z0(n)?H0(n):fo(n).Xo()&&B0(n,e))}function U0(t,e){const n=de(t),r=fo(n);n.F_.delete(e),r.Xo()&&W3(n,e),n.F_.size===0&&(r.Xo()?r.n_():Ji(n)&&n.N_.set("Unknown"))}function B0(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fo(t).P_(e)}function W3(t,e){t.L_.xe(e),fo(t).I_(e)}function H0(t){t.L_=new JT({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),fo(t).start(),t.N_.w_()}function z0(t){return Ji(t)&&!fo(t).Zo()&&t.F_.size>0}function Ji(t){return de(t).M_.size===0}function q3(t){t.L_=void 0}async function Y9(t){t.N_.set("Online")}async function J9(t){t.F_.forEach((e,n)=>{B0(t,e)})}async function Z9(t,e){q3(t),z0(t)?(t.N_.D_(e),H0(t)):t.N_.set("Unknown")}async function X9(t,e,n){if(t.N_.set("Online"),e instanceof R3&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const c of s.targetIds)i.F_.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.F_.delete(c),i.L_.removeTarget(c))}(t,e)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await eu(t,r)}else if(e instanceof fc?t.L_.Ke(e):e instanceof A3?t.L_.He(e):t.L_.We(e),!n.isEqual(ue.min()))try{const r=await B3(t.localStore);n.compareTo(r)>=0&&await function(s,o){const c=s.L_.rt(o);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.F_.get(d);f&&s.F_.set(d,f.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,d)=>{const f=s.F_.get(u);if(!f)return;s.F_.set(u,f.withResumeToken(Lt.EMPTY_BYTE_STRING,f.snapshotVersion)),W3(s,u);const m=new Fr(f.target,u,d,f.sequenceNumber);B0(s,m)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await eu(t,r)}}async function eu(t,e,n){if(!tl(e))throw e;t.M_.add(1),await il(t),t.N_.set("Offline"),n||(n=()=>B3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Mu(t)})}function K3(t,e){return e().catch(n=>eu(t,n,e))}async function Ou(t){const e=de(t),n=ni(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;eS(e);)try{const i=await M9(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,tS(e,i)}catch(i){await eu(e,i)}G3(e)&&Q3(e)}function eS(t){return Ji(t)&&t.v_.length<10}function tS(t,e){t.v_.push(e);const n=ni(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function G3(t){return Ji(t)&&!ni(t).Zo()&&t.v_.length>0}function Q3(t){ni(t).start()}async function nS(t){ni(t).V_()}async function rS(t){const e=ni(t);for(const n of t.v_)e.d_(n.mutations)}async function iS(t,e,n){const r=t.v_.shift(),i=L0.from(r,e,n);await K3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ou(t)}async function sS(t,e){e&&ni(t).E_&&await async function(r,i){if(function(o){return GT(o)&&o!==H.ABORTED}(i.code)){const s=r.v_.shift();ni(r).t_(),await K3(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ou(r)}}(t,e),G3(t)&&Q3(t)}async function vg(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=Ji(n);n.M_.add(3),await il(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Mu(n)}async function oS(t,e){const n=de(t);e?(n.M_.delete(2),await Mu(n)):e||(n.M_.add(2),await il(n),n.N_.set("Unknown"))}function fo(t){return t.B_||(t.B_=function(n,r,i){const s=de(n);return s.f_(),new W9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Y9.bind(null,t),To:J9.bind(null,t),Ao:Z9.bind(null,t),h_:X9.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),z0(t)?H0(t):t.N_.set("Unknown")):(await t.B_.stop(),q3(t))})),t.B_}function ni(t){return t.k_||(t.k_=function(n,r,i){const s=de(n);return s.f_(),new q9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:nS.bind(null,t),Ao:sS.bind(null,t),R_:rS.bind(null,t),A_:iS.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Ou(t)):(await t.k_.stop(),t.v_.length>0&&(Z("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,c=new $0(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function W0(t,e){if(hr("AsyncQueue",`${e}: ${t}`),tl(t))return new te(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=Qo(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new Fs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.q_=new He(ie.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):le():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class to{constructor(e,n,r,i,s,o,c,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new to(e,n,Fs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Au(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class lS{constructor(){this.queries=new ho(e=>v3(e),Au),this.onlineState="Unknown",this.z_=new Set}}async function q0(t,e){const n=de(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new aS,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const c=W0(o,`Initialization of query '${hs(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&G0(n)}async function K0(t,e){const n=de(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cS(t,e){const n=de(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const c of o.U_)c.H_(i)&&(r=!0);o.K_=i}}r&&G0(n)}function uS(t,e,n){const r=de(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function G0(t){t.z_.forEach(e=>{e.next()})}var af,_g;(_g=af||(af={})).J_="default",_g.Cache="cache";class Q0{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new to(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=to.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==af.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e){this.key=e}}class J3{constructor(e){this.key=e}}class dS{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ve(),this.mutatedKeys=ve(),this.Ia=y3(e),this.Ta=new Fs(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new yg,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const g=i.get(f),T=Ru(this.query,m)?m:null,S=!!g&&this.mutatedKeys.has(g.key),N=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let A=!1;g&&T?g.data.isEqual(T.data)?S!==N&&(r.track({type:3,doc:T}),A=!0):this.Ra(g,T)||(r.track({type:2,doc:T}),A=!0,(u&&this.Ia(T,u)>0||d&&this.Ia(T,d)<0)&&(c=!0)):!g&&T?(r.track({type:0,doc:T}),A=!0):g&&!T&&(r.track({type:1,doc:g}),A=!0,(u||d)&&(c=!0)),A&&(T?(o=o.add(T),s=N?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ta:o,Aa:r,Xi:c,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((f,m)=>function(T,S){const N=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return N(T)-N(S)}(f.type,m.type)||this.Ia(f.doc,m.doc)),this.Va(r),i=i!=null&&i;const c=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,d=u!==this.ha;return this.ha=u,o.length!==0||d?{snapshot:new to(this.query,e.Ta,s,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:c}:{fa:c}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new yg,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=ve(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new J3(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new Y3(r))}),n}pa(e){this.la=e.hs,this.Pa=ve();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return to.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class hS{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fS{constructor(e){this.key=e,this.wa=!1}}class pS{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new ho(c=>v3(c),Au),this.Da=new Map,this.Ca=new Set,this.va=new He(ie.comparator),this.Fa=new Map,this.Ma=new M0,this.xa={},this.Oa=new Map,this.Na=eo.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function mS(t,e,n=!0){const r=r_(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await Z3(r,e,n,!0),i}async function gS(t,e){const n=r_(t);await Z3(n,e,!0,!1)}async function Z3(t,e,n,r){const i=await O9(t.localStore,Hn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let c;return r&&(c=await vS(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&$3(t.remoteStore,i),c}async function vS(t,e,n,r,i){t.Ba=(m,g,T)=>async function(N,A,C,x){let k=A.view.da(C);k.Xi&&(k=await pg(N.localStore,A.query,!1).then(({documents:v})=>A.view.da(v,k)));const b=x&&x.targetChanges.get(A.targetId),B=x&&x.targetMismatches.get(A.targetId)!=null,O=A.view.applyChanges(k,N.isPrimaryClient,b,B);return Eg(N,A.targetId,O.fa),O.snapshot}(t,m,g,T);const s=await pg(t.localStore,e,!0),o=new dS(e,s.hs),c=o.da(s.documents),u=rl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(c,t.isPrimaryClient,u);Eg(t,n,d.fa);const f=new hS(e,n,o);return t.ba.set(e,f),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),d.snapshot}async function yS(t,e,n){const r=de(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Au(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await of(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&U0(r.remoteStore,i.targetId),lf(r,i.targetId)}).catch(el)):(lf(r,i.targetId),await of(r.localStore,i.targetId,!0))}async function _S(t,e){const n=de(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),U0(n.remoteStore,r.targetId))}async function wS(t,e,n){const r=kS(t);try{const i=await function(o,c){const u=de(o),d=at.now(),f=c.reduce((T,S)=>T.add(S.key),ve());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",T=>{let S=fr(),N=ve();return u.os.getEntries(T,f).next(A=>{S=A,S.forEach((C,x)=>{x.isValidDocument()||(N=N.add(C))})}).next(()=>u.localDocuments.getOverlayedDocuments(T,S)).next(A=>{m=A;const C=[];for(const x of c){const k=zT(x,m.get(x.key).overlayedDocument);k!=null&&C.push(new li(x.key,k,u3(k.value.mapValue),kn.exists(!0)))}return u.mutationQueue.addMutationBatch(T,d,C,c)}).next(A=>{g=A;const C=A.applyToLocalDocumentSet(m,N);return u.documentOverlayCache.saveOverlays(T,A.batchId,C)})}).then(()=>({batchId:g.batchId,changes:w3(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let d=o.xa[o.currentUser.toKey()];d||(d=new He(Se)),d=d.insert(c,u),o.xa[o.currentUser.toKey()]=d}(r,i.batchId,n),await sl(r,i.changes),await Ou(r.remoteStore)}catch(i){const s=W0(i,"Failed to persist write");n.reject(s)}}async function X3(t,e){const n=de(t);try{const r=await b9(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?je(o.wa):i.removedDocuments.size>0&&(je(o.wa),o.wa=!1))}),await sl(n,r,e)}catch(r){await el(r)}}function wg(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const c=o.view.j_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){const u=de(o);u.onlineState=c;let d=!1;u.queries.forEach((f,m)=>{for(const g of m.U_)g.j_(c)&&(d=!0)}),d&&G0(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ES(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new He(ie.comparator);o=o.insert(s,At.newNoDocument(s,ue.min()));const c=ve().add(s),u=new bu(ue.min(),new Map,new He(Se),o,c);await X3(r,u),r.va=r.va.remove(s),r.Fa.delete(e),Y0(r)}else await of(r.localStore,e,!1).then(()=>lf(r,e,n)).catch(el)}async function xS(t,e){const n=de(t),r=e.batch.batchId;try{const i=await L9(n.localStore,e);t_(n,r,null),e_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sl(n,i)}catch(i){await el(i)}}async function CS(t,e,n){const r=de(t);try{const i=await function(o,c){const u=de(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next(m=>(je(m!==null),f=m.keys(),u.mutationQueue.removeMutationBatch(d,m))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(r.localStore,e);t_(r,e,n),e_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await sl(r,i)}catch(i){await el(i)}}function e_(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function t_(t,e,n){const r=de(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function lf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||n_(t,r)})}function n_(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(U0(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Y0(t))}function Eg(t,e,n){for(const r of n)r instanceof Y3?(t.Ma.addReference(r.key,e),TS(t,r)):r instanceof J3?(Z("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||n_(t,r.key)):le()}function TS(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(Z("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Y0(t))}function Y0(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new ie(Ve.fromString(e)),r=t.Na.next();t.Fa.set(r,new fS(n)),t.va=t.va.insert(n,r),$3(t.remoteStore,new Fr(Hn(ju(n.path)),r,"TargetPurposeLimboResolution",k0.oe))}}async function sl(t,e,n){const r=de(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((c,u)=>{o.push(r.Ba(u,e,n).then(d=>{if((d||n)&&r.isPrimaryClient){const f=d&&!d.fromCache;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(d){i.push(d);const f=F0.Ki(u.targetId,d);s.push(f)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(u,d){const f=de(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>z.forEach(d,g=>z.forEach(g.qi,T=>f.persistence.referenceDelegate.addReference(m,g.targetId,T)).next(()=>z.forEach(g.Qi,T=>f.persistence.referenceDelegate.removeReference(m,g.targetId,T)))))}catch(m){if(!tl(m))throw m;Z("LocalStore","Failed to update sequence numbers: "+m)}for(const m of d){const g=m.targetId;if(!m.fromCache){const T=f.ns.get(g),S=T.snapshotVersion,N=T.withLastLimboFreeSnapshotVersion(S);f.ns=f.ns.insert(g,N)}}}(r.localStore,s))}async function SS(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const r=await U3(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(c=>{c.forEach(u=>{u.reject(new te(H.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sl(n,r.us)}}function IS(t,e){const n=de(t),r=n.Fa.get(e);if(r&&r.wa)return ve().add(r.key);{let i=ve();const s=n.Da.get(e);if(!s)return i;for(const o of s){const c=n.ba.get(o);i=i.unionWith(c.view.Ea)}return i}}function r_(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=X3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ES.bind(null,e),e.Sa.h_=cS.bind(null,e.eventManager),e.Sa.ka=uS.bind(null,e.eventManager),e}function kS(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CS.bind(null,e),e}class xg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Vu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return D9(this.persistence,new A9,e.initialUser,this.serializer)}createPersistence(e){return new P9(O0.Hr,this.serializer)}createSharedClientState(e){return new U9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class PS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SS.bind(null,this.syncEngine),await oS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lS}()}createDatastore(e){const n=Vu(e.databaseInfo.databaseId),r=function(s){return new $9(s)}(e.databaseInfo);return function(s,o,c,u){return new K9(s,o,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,c){return new Q9(r,i,s,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>wg(this.syncEngine,n,0),function(){return gg.D()?new gg:new B9}())}createSyncEngine(e,n){return function(i,s,o,c,u,d,f){const m=new pS(i,s,o,c,u,d);return f&&(m.La=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=de(r);Z("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await il(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=a3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Z("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=W0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hd(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await U3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Cg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await AS(t);Z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>vg(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>vg(e.remoteStore,i)),t._onlineComponents=e}function jS(t){return t.name==="FirebaseError"?t.code===H.FAILED_PRECONDITION||t.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function AS(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!jS(n))throw n;Ys("Error using user provided cache. Falling back to memory cache: "+n),await Hd(t,new xg)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await Hd(t,new xg);return t._offlineComponents}async function i_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await Cg(t,t._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await Cg(t,new PS))),t._onlineComponents}function RS(t){return i_(t).then(e=>e.syncEngine)}async function tu(t){const e=await i_(t),n=e.eventManager;return n.onListen=mS.bind(null,e.syncEngine),n.onUnlisten=yS.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gS.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_S.bind(null,e.syncEngine),n}function DS(t,e,n={}){const r=new or;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,c,u,d){const f=new J0({next:g=>{o.enqueueAndForget(()=>K0(s,m));const T=g.docs.has(c);!T&&g.fromCache?d.reject(new te(H.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&g.fromCache&&u&&u.source==="server"?d.reject(new te(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),m=new Q0(ju(c.path),f,{includeMetadataChanges:!0,ra:!0});return q0(s,m)}(await tu(t),t.asyncQueue,e,n,r)),r.promise}function LS(t,e,n={}){const r=new or;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,c,u,d){const f=new J0({next:g=>{o.enqueueAndForget(()=>K0(s,m)),g.fromCache&&u.source==="server"?d.reject(new te(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),m=new Q0(c,f,{includeMetadataChanges:!0,ra:!0});return q0(s,m)}(await tu(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t,e,n){if(!n)throw new te(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bS(t,e,n,r){if(e===!0&&r===!0)throw new te(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Sg(t){if(!ie.isDocumentKey(t))throw new te(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ig(t){if(ie.isDocumentKey(t))throw new te(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Z0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function tn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Z0(t);throw new te(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Z5;switch(r.type){case"firstParty":return new nT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Tg.get(n);r&&(Z("ComponentProvider","Removing Datastore"),Tg.delete(n),r.terminate())}(this),Promise.resolve()}}function VS(t,e,n,r={}){var i;const s=(t=tn(t,Fu))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Nt.MOCK_USER;else{c=ux(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new te(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Nt(d)}t._authCredentials=new X5(new o3(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ol(this.firestore,e,this._query)}}class Ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}}class Jr extends ol{constructor(e,n,r){super(e,n,ju(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new ie(e))}withConverter(e){return new Jr(this.firestore,e,this._path)}}function zi(t,e,...n){if(t=Ye(t),o_("collection","path",e),t instanceof Fu){const r=Ve.fromString(e,...n);return Ig(r),new Jr(t,null,r)}{if(!(t instanceof Ot||t instanceof Jr))throw new te(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return Ig(r),new Jr(t.firestore,null,r)}}function jn(t,e,...n){if(t=Ye(t),arguments.length===1&&(e=a3.newId()),o_("doc","path",e),t instanceof Fu){const r=Ve.fromString(e,...n);return Sg(r),new Ot(t,null,new ie(r))}{if(!(t instanceof Ot||t instanceof Jr))throw new te(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return Sg(r),new Ot(t.firestore,t instanceof Jr?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new H3(this,"async_queue_retry"),this.hu=()=>{const n=Bd();n&&Z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Bd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Bd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new or;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!tl(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw hr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=$0.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&le()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function Pg(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ri extends Fu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new MS}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||a_(this),this._firestoreClient.terminate()}}function OS(t,e){const n=typeof t=="object"?t:my(),r=typeof t=="string"?t:e||"(default)",i=g0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=lx("firestore");s&&VS(i,...s)}return i}function Uu(t){return t._firestoreClient||a_(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function a_(t){var e,n,r;const i=t._freezeSettings(),s=function(c,u,d,f){return new mT(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,s_(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new NS(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this._byteString=e}static fromBase64String(e){try{return new no(Lt.fromBase64String(e))}catch(n){throw new te(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new no(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=/^__.*__$/;class US{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new li(e,this.data,this.fieldMask,n,this.fieldTransforms):new nl(e,this.data,n,this.fieldTransforms)}}class l_{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new li(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function c_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class t2{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return nu(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(c_(this.fu)&&FS.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class BS{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vu(e)}Fu(e,n,r,i=!1){return new t2({fu:e,methodName:n,vu:r,path:_t.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function u_(t){const e=t._freezeSettings(),n=Vu(t._databaseId);return new BS(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HS(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);n2("Data must be an object, but it was:",o,r);const c=d_(r,o);let u,d;if(s.merge)u=new Xt(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const g=cf(e,m,n);if(!o.contains(g))throw new te(H.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);f_(f,g)||f.push(g)}u=new Xt(f),d=o.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,d=o.fieldTransforms;return new US(new $t(c),u,d)}class Hu extends X0{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hu}}function zS(t,e,n,r){const i=t.Fu(1,e,n);n2("Data must be an object, but it was:",i,r);const s=[],o=$t.empty();Yi(r,(u,d)=>{const f=r2(e,u,n);d=Ye(d);const m=i.Su(f);if(d instanceof Hu)s.push(f);else{const g=zu(d,m);g!=null&&(s.push(f),o.set(f,g))}});const c=new Xt(s);return new l_(o,c,i.fieldTransforms)}function $S(t,e,n,r,i,s){const o=t.Fu(1,e,n),c=[cf(e,r,n)],u=[i];if(s.length%2!=0)throw new te(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)c.push(cf(e,s[g])),u.push(s[g+1]);const d=[],f=$t.empty();for(let g=c.length-1;g>=0;--g)if(!f_(d,c[g])){const T=c[g];let S=u[g];S=Ye(S);const N=o.Su(T);if(S instanceof Hu)d.push(T);else{const A=zu(S,N);A!=null&&(d.push(T),f.set(T,A))}}const m=new Xt(d);return new l_(f,m,o.fieldTransforms)}function zu(t,e){if(h_(t=Ye(t)))return n2("Unsupported field value:",e,t),d_(t,e);if(t instanceof X0)return function(r,i){if(!c_(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const c of r){let u=zu(c,i.bu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MT(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=at.fromDate(r);return{timestampValue:Xc(i.serializer,s)}}if(r instanceof at){const s=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xc(i.serializer,s)}}if(r instanceof e2)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof no)return{bytesValue:D3(i.serializer,r._byteString)};if(r instanceof Ot){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:V0(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Z0(r)}`)}(t,e)}function d_(t,e){const n={};return l3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yi(t,(r,i)=>{const s=zu(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function h_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof e2||t instanceof no||t instanceof Ot||t instanceof X0)}function n2(t,e,n){if(!h_(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Z0(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function cf(t,e,n){if((e=Ye(e))instanceof Bu)return e._internalPath;if(typeof e=="string")return r2(t,e);throw nu("Field path arguments must be of type string or ",t,!1,void 0,n)}const WS=new RegExp("[~\\*/\\[\\]]");function r2(t,e,n){if(e.search(WS)>=0)throw nu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bu(...e.split("."))._internalPath}catch{throw nu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new te(H.INVALID_ARGUMENT,c+t+u)}function f_(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(m_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qS extends p_{data(){return super.data()}}function m_(t,e){return typeof e=="string"?r2(t,e):e instanceof Bu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KS{convertValue(e,n="none"){switch(Hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new e2(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=N0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Va(e));default:return null}}convertTimestamp(e){const n=ti(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);je(F3(r));const i=new Ma(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(n)||hr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class v_ extends p_{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(m_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pc extends v_{data(e={}){return super.data(e)}}class y_{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Jo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pc(this._firestore,this._userDataWriter,r.key,r,new Jo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{const u=new pc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Jo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const u=new pc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Jo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return c.type!==0&&(d=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:QS(c.type),doc:u,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function QS(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(t){t=tn(t,Ot);const e=tn(t.firestore,ri);return DS(Uu(e),t._key).then(n=>w_(e,t,n))}class i2 extends KS{constructor(e){super(),this.firestore=e}convertBytes(e){return new no(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function Ba(t){t=tn(t,ol);const e=tn(t.firestore,ri),n=Uu(e),r=new i2(e);return g_(t._query),LS(n,t._query).then(i=>new y_(e,r,t,i))}function s2(t,e,n){t=tn(t,Ot);const r=tn(t.firestore,ri),i=GS(t.converter,e,n);return o2(r,[HS(u_(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,kn.none())])}function uf(t,e,n,...r){t=tn(t,Ot);const i=tn(t.firestore,ri),s=u_(i);let o;return o=typeof(e=Ye(e))=="string"||e instanceof Bu?$S(s,"updateDoc",t._key,e,n,r):zS(s,"updateDoc",t._key,e),o2(i,[o.toMutation(t._key,kn.exists(!0))])}function df(t){return o2(tn(t.firestore,ri),[new D0(t._key,kn.none())])}function YS(t,...e){var n,r,i;t=Ye(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Pg(e[o])||(s=e[o],o++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Pg(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let u,d,f;if(t instanceof Ot)d=tn(t.firestore,ri),f=ju(t._key.path),u={next:m=>{e[o]&&e[o](w_(d,t,m))},error:e[o+1],complete:e[o+2]};else{const m=tn(t,ol);d=tn(m.firestore,ri),f=m._query;const g=new i2(d);u={next:T=>{e[o]&&e[o](new y_(d,g,m,T))},error:e[o+1],complete:e[o+2]},g_(t._query)}return function(g,T,S,N){const A=new J0(N),C=new Q0(T,A,S);return g.asyncQueue.enqueueAndForget(async()=>q0(await tu(g),C)),()=>{A.$a(),g.asyncQueue.enqueueAndForget(async()=>K0(await tu(g),C))}}(Uu(d),f,c,u)}function o2(t,e){return function(r,i){const s=new or;return r.asyncQueue.enqueueAndForget(async()=>wS(await RS(r),i,s)),s.promise}(Uu(t),e)}function w_(t,e,n){const r=n.docs.get(e._key),i=new i2(t);return new v_(t,i,e._key,r,new Jo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){uo=i})(co),Gs(new Vi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),c=new ri(new eT(r.getProvider("auth-internal")),new iT(r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new te(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ma(d.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Yr(Gm,"4.6.3",e),Yr(Gm,"4.6.3","esm2017")})();const JS={apiKey:"AIzaSyB5lOfUgT4ySv9Ej9X5oAtKE6q4sajDLuc",authDomain:"tngaccounts.firebaseapp.com",projectId:"tngaccounts",storageBucket:"tngaccounts.appspot.com",messagingSenderId:"823789930712",appId:"1:823789930712:web:7f8ffcde3060b319d96fad"},E_=py(JS),yt=Y5(E_),Rt=OS(E_),x_="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M0.833365%204.98555C0.83323%204.99377%200.833216%205.00199%200.833323%205.01021V15C0.833323%2016.3769%201.95642%2017.5%203.33332%2017.5H16.6667C18.0436%2017.5%2019.1667%2016.3769%2019.1667%2015V5.0103C19.1668%205.00202%2019.1668%204.99372%2019.1666%204.98543C19.1587%203.61518%2018.0387%202.5%2016.6667%202.5H3.33332C1.96124%202.5%200.84119%203.61525%200.833365%204.98555ZM2.5888%204.62829C2.72662%204.35577%203.01002%204.16667%203.33332%204.16667H16.6667C16.99%204.16667%2017.2734%204.35577%2017.4112%204.62829L9.99999%209.81612L2.5888%204.62829ZM17.5%206.60055V15C17.5%2015.4564%2017.1231%2015.8333%2016.6667%2015.8333H3.33332C2.87689%2015.8333%202.49999%2015.4564%202.49999%2015V6.60055L9.52211%2011.516C9.80904%2011.7169%2010.1909%2011.7169%2010.4779%2011.516L17.5%206.60055Z'%20fill='%232D3648'/%3e%3c/svg%3e",ru="data:image/svg+xml,%3csvg%20width='24'%20height='25'%20viewBox='0%200%2024%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M12%202.5C9.23858%202.5%207%204.73858%207%207.5C7%2010.2614%209.23858%2012.5%2012%2012.5C14.7614%2012.5%2017%2010.2614%2017%207.5C17%204.73858%2014.7614%202.5%2012%202.5ZM9%207.5C9%205.84315%2010.3431%204.5%2012%204.5C13.6569%204.5%2015%205.84315%2015%207.5C15%209.15685%2013.6569%2010.5%2012%2010.5C10.3431%2010.5%209%209.15685%209%207.5Z'%20fill='%232D3648'/%3e%3cpath%20d='M8%2014.5C6.67392%2014.5%205.40215%2015.0268%204.46447%2015.9645C3.52678%2016.9021%203%2018.1739%203%2019.5V21.5C3%2022.0523%203.44772%2022.5%204%2022.5C4.55228%2022.5%205%2022.0523%205%2021.5V19.5C5%2018.7043%205.31607%2017.9413%205.87868%2017.3787C6.44129%2016.8161%207.20435%2016.5%208%2016.5H16C16.7956%2016.5%2017.5587%2016.8161%2018.1213%2017.3787C18.6839%2017.9413%2019%2018.7044%2019%2019.5V21.5C19%2022.0523%2019.4477%2022.5%2020%2022.5C20.5523%2022.5%2021%2022.0523%2021%2021.5V19.5C21%2018.1739%2020.4732%2016.9021%2019.5355%2015.9645C18.5979%2015.0268%2017.3261%2014.5%2016%2014.5H8Z'%20fill='%232D3648'/%3e%3c/svg%3e",iu="data:image/svg+xml,%3csvg%20width='17'%20height='17'%20viewBox='0%200%2017%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M4.25002%207.08333V4.95833C4.25002%203.83116%204.69779%202.75016%205.49482%201.95313C6.29185%201.1561%207.37285%200.708333%208.50002%200.708333C9.62719%200.708333%2010.7082%201.1561%2011.5052%201.95313C12.3023%202.75016%2012.75%203.83116%2012.75%204.95833V7.08333H13.4584C14.632%207.08333%2015.5834%208.03473%2015.5834%209.20833V14.1667C15.5834%2015.3403%2014.632%2016.2917%2013.4584%2016.2917H3.54169C2.36808%2016.2917%201.41669%2015.3403%201.41669%2014.1667V9.20833C1.41669%208.03473%202.36808%207.08333%203.54169%207.08333H4.25002ZM6.49655%202.95486C7.0279%202.42351%207.74857%202.125%208.50002%202.125C9.25147%202.125%209.97214%202.42351%2010.5035%202.95486C11.0348%203.48622%2011.3334%204.20689%2011.3334%204.95833V7.08333H5.66669V4.95833C5.66669%204.20689%205.9652%203.48622%206.49655%202.95486ZM3.54169%208.5C3.15049%208.5%202.83335%208.81713%202.83335%209.20833V14.1667C2.83335%2014.5579%203.15049%2014.875%203.54169%2014.875H13.4584C13.8496%2014.875%2014.1667%2014.5579%2014.1667%2014.1667V9.20833C14.1667%208.81713%2013.8496%208.5%2013.4584%208.5H3.54169Z'%20fill='%232D3648'/%3e%3c/svg%3e",ZS=()=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let e="";for(let n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},a2=({visible:t,toggleVisible:e,toggleLoginSignup:n})=>{const[r,i]=D.useState(""),[s,o]=D.useState(""),[c,u]=D.useState(""),[d,f]=D.useState(""),[m,g]=D.useState(null),[T,S]=D.useState(null),[N,A]=D.useState(!1),[C,x]=D.useState(!1),k=O=>O.length<8?(g("Password must be at least 8 characters long."),!1):!0,b=()=>{let O=null;return r?s?c?d||(O="Please enter your last name."):O="Please enter your first name.":O="Please enter a password.":O="Please enter your email address.",g(O),!O},B=async O=>{if(O.preventDefault(),!(!b()||!k(s)))try{await A7(yt,r,s);const y=yt.currentUser,E=ZS();console.log("User created successfully!"),S("Sign Up Successful! Redirecting to Login..."),y&&await s2(jn(Rt,"TNG Users",y.uid),{userId:E,email:y.email,firstName:c,lastName:d,username:""}),g(null),A(!0)}catch(y){let E;switch(y.code){case"auth/email-already-in-use":E="Email already exists. Please try signing in or using a different email.";break;case"auth/weak-password":E="Password is too weak. Please choose a stronger password.";break;default:E="An error occurred during sign up. Please try again."}g(E)}};return D.useEffect(()=>{if(N&&!C){const O=setTimeout(()=>{},0);clearTimeout(O);const v=setTimeout(()=>{n(),x(!0),g(null),S(null),i(""),o(""),u(""),f("")},3e3);return()=>{clearTimeout(O),clearTimeout(v)}}},[N,C,n]),t&&a.jsxs("div",{className:"overlay-container",children:[a.jsx("div",{className:"dimmed-background"}),a.jsx("div",{className:"overlay",children:a.jsxs("div",{className:"signup overlay",children:[a.jsx("h3",{children:"Sign up to Track N' Go"}),a.jsx("div",{className:"text-fields",children:a.jsxs("form",{onSubmit:B,children:[a.jsxs("section",{className:"email-wrapper",children:[a.jsx("p",{children:"Email"}),a.jsxs("div",{className:"input-field",children:[a.jsx("img",{src:x_,alt:"",className:"field-icon"}),a.jsx("input",{type:"email",placeholder:"john_doe@email.com",className:"text-field",value:r,onChange:O=>i(O.target.value)})]})]}),a.jsxs("section",{className:"first-name-wrapper",children:[a.jsx("p",{children:"First Name"}),a.jsxs("div",{className:"input-field",children:[a.jsx("img",{src:ru,class:"field-icon",alt:""}),a.jsx("input",{type:"text",placeholder:"John",class:"text-field",value:c,onChange:O=>u(O.target.value)})]})]}),a.jsxs("section",{className:"last-name-wrapper",children:[a.jsx("p",{children:"Last Name"}),a.jsxs("div",{className:"input-field",children:[a.jsx("img",{src:ru,class:"field-icon",alt:""}),a.jsx("input",{type:"text",placeholder:"Doe",class:"text-field",value:d,onChange:O=>f(O.target.value)})]})]}),a.jsxs("section",{className:"password-wrapper",children:[a.jsx("p",{children:"Password"}),a.jsxs("div",{className:"input-field",children:[a.jsx("img",{src:iu,className:"field-icon",alt:""}),a.jsx("input",{type:"password",placeholder:"Should be 8 characters and above",className:"text-field",value:s,onChange:O=>o(O.target.value)})]})]}),m&&a.jsx("div",{className:"error-message-container animate",children:m}),N&&a.jsx("div",{className:"success-message-container",children:T}),a.jsx("button",{type:"submit",className:"fbutton primary",children:"Create Account"})]})}),a.jsx("button",{className:"fbutton secondary",onClick:()=>{g(null),i(""),o(""),u(""),f(""),e()},children:"Cancel"}),a.jsxs("div",{className:"hyperlink",children:[a.jsx("p",{children:"Already have an account? "}),a.jsx("a",{href:"#",className:"hyperlink",onClick:n,children:"Log in."})]})]})})]})},$u=({visible:t,toggleVisible:e,toggleLoginSignup:n,loginType:r="user"})=>{const[i,s]=D.useState(""),[o,c]=D.useState(""),[u,d]=D.useState(null),f=f0(),m=async g=>{if(g.preventDefault(),d(null),r==="admin"&&i!=="admin@tng.com"){d("Unauthorized access. Admin only.");return}try{await R7(yt,i,o),console.log("User logged in successfully!"),f(i==="admin@tng.com"?"/track-n-go/AdminHomePage":"/track-n-go/DashboardPage"),e()}catch(T){let S;switch(T.code){case"auth/wrong-password":S="Incorrect email or password.";break;case"auth/user-not-found":S="Email not found. Please create an account.";break;case"auth/invalid-email":S="Please enter a valid email address.";break;default:S="An error occurred. Please enter the correct email or password"}d(S)}};return t&&a.jsxs("div",{className:"overlay-container",children:[a.jsx("div",{className:"dimmed-background"}),a.jsx("div",{className:"overlay",children:a.jsxs("div",{className:"login overlay",children:[a.jsx("h3",{children:r==="admin"?"Log in to Admin Panel":"Log in to Track N' Go"}),a.jsx("div",{className:"text-fields",children:a.jsxs("form",{onSubmit:m,children:[a.jsxs("section",{className:"email-wrapper",children:[a.jsx("p",{children:"Email"}),a.jsxs("div",{className:"input-field",children:[a.jsx("img",{src:x_,alt:"",className:"field-icon"}),a.jsx("input",{type:"email",placeholder:"john_doe@email.com",className:"text-field",value:i,onChange:g=>s(g.target.value)})]})]}),a.jsxs("section",{className:"password-wrapper",children:[a.jsx("p",{children:"Password"}),a.jsxs("div",{className:"input-field",children:[a.jsx("img",{src:iu,className:"field-icon",alt:""}),a.jsx("input",{type:"password",placeholder:"Should be 8 characters and above",className:"text-field",value:o,onChange:g=>c(g.target.value)})]})]}),u&&a.jsx("div",{className:"error-message-container animate",children:u}),a.jsx("button",{type:"submit",className:"fbutton primary",children:"Log in"})]})}),a.jsx("button",{className:"fbutton secondary",onClick:()=>{d(null),s(""),c(""),e()},children:"Cancel"}),a.jsxs("div",{className:"hyperlink",children:[a.jsx("p",{children:"Need an account? "}),a.jsx("a",{href:"#",className:"hyperlink",onClick:n,children:"Create an account."})]})]})})]})};function C_(){const[t,e]=D.useState(!1),[n,r]=D.useState(!1),i=()=>{e(!t)},s=()=>{r(!n)},o=()=>{e(!t),r(!n)};return a.jsxs("div",{className:"ButtonStack",children:[a.jsx("div",{className:"Login",onClick:i,children:"Log In"}),a.jsx("div",{className:"Signup",onClick:s,children:"Sign Up"}),a.jsx(a2,{visible:n,toggleVisible:s,toggleLoginSignup:o}),a.jsx($u,{visible:t,toggleVisible:i,toggleLoginSignup:o})]})}const al="/track-n-go/assets/TNG%20Logo%20V2-CdGKEjGb.png";function Uo(t){document.getElementById(t).scrollIntoView({behavior:"smooth"})}function XS(){const[t,e]=D.useState(!1);return a.jsxs("div",{className:"Header",children:[a.jsx("img",{src:al,alt:"Logo Text",className:"logo"}),a.jsxs("div",{className:"Nav",children:[a.jsxs("ul",{className:"NavBar",children:[a.jsx("li",{onClick:()=>Uo("home"),children:"Home"}),a.jsx("li",{onClick:()=>Uo("our-product"),children:"Our Product"}),a.jsx("li",{onClick:()=>Uo("partners"),children:"Partners"}),a.jsx("li",{onClick:()=>Uo("about-us"),children:"About Us"}),a.jsx("li",{onClick:()=>Uo("contact"),children:"Contact"})]}),a.jsx(C_,{}),a.jsx("hr",{})]}),t&&a.jsx($u,{visible:t,toggleVisible:()=>e(!1),loginType:"admin"})]})}const T_=()=>{let t="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";for(var n=0;n<=13;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},Zi=async()=>{try{return(await Ba(zi(Rt,"Parcels"))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error fetching parcels:",t),t}},eI=async t=>{try{const e=T_();return await s2(jn(Rt,"Parcels",e),{...t,id:e}),Zi()}catch(e){throw console.error("Error creating parcel:",e),e}},S_=async(t,e)=>{try{const n=jn(Rt,"Parcels",t);await uf(n,e);const r=await Ba(zi(Rt,"TNG Users"));for(const i of r.docs){const s=i.id,o=zi(Rt,"TNG Users",s,"Tracked Parcels"),c=jn(o,t);(await Ba(o)).docs.some(d=>d.id===t)&&await uf(c,e)}return Zi()}catch(n){throw console.error("Error updating parcel:",n),n}},I_=async t=>{try{const e=jn(Rt,"Parcels",t);await df(e);const n=await Ba(zi(Rt,"TNG Users"));for(const r of n.docs){const i=r.id,s=jn(Rt,"TNG Users",i,"Tracked Parcels",t);await df(s)}return Zi()}catch(e){throw console.error("Error deleting parcel:",e),e}},k_=async t=>{try{const e=zi(Rt,"TNG Users",t,"Tracked Parcels");return(await Ba(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching user parcels:",e),e}},tI=async(t,e)=>{try{const n=zi(Rt,"TNG Users",e,"Tracked Parcels");return await s2(jn(n,t.id),t),k_(e)}catch(n){throw console.error("Error creating user parcel:",n),n}},nI="/track-n-go/assets/Map%20With%20Pin-De_X7Tpt.png",Wu="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M4%2011C4%207.13401%207.13401%204%2011%204C14.866%204%2018%207.13401%2018%2011C18%2012.8858%2017.2543%2014.5974%2016.0417%2015.8561C16.0073%2015.8825%2015.9743%2015.9114%2015.9428%2015.9429C15.9113%2015.9744%2015.8824%2016.0074%2015.856%2016.0418C14.5973%2017.2543%2012.8857%2018%2011%2018C7.13401%2018%204%2014.866%204%2011ZM16.6176%2018.0319C15.078%2019.2635%2013.125%2020%2011%2020C6.02944%2020%202%2015.9706%202%2011C2%206.02944%206.02944%202%2011%202C15.9706%202%2020%206.02944%2020%2011C20%2013.125%2019.2635%2015.0781%2018.0319%2016.6177L21.707%2020.2929C22.0975%2020.6834%2022.0975%2021.3166%2021.707%2021.7071C21.3165%2022.0976%2020.6833%2022.0976%2020.2928%2021.7071L16.6176%2018.0319Z'%20fill='%232D3648'/%3e%3c/svg%3e";function rI(){var i;const[t,e]=D.useState([]),[n,r]=D.useState("");return D.useEffect(()=>{Zi().then(s=>e(s))},[]),a.jsxs("div",{className:"Container1",children:[a.jsxs("div",{className:"Text1",children:[a.jsx("h1",{children:"Effortlessly track your parcels"}),a.jsx("p",{className:"paragraph-text",children:"Stay connected with your shipments every step of the way with Track N' Go. Track your packages in real-time, receive timely updates on delivery status, and enjoy peace of mind knowing exactly where your parcels are."}),a.jsxs("div",{className:"Input",children:[a.jsx("div",{className:"InputTitle",children:"Track your parcel below!"}),a.jsxs("div",{className:"Wrapper",children:[a.jsx("img",{src:Wu,alt:"icon-search",className:"icon"}),a.jsx("input",{type:"text",className:"InputBox",placeholder:"Enter tracking number",onChange:s=>r(s.target.value)}),a.jsx(fn,{to:"/track-n-go/ParcelTrackerPage",state:t.find(s=>s.id===n),children:a.jsx("button",{className:t.find(s=>s.id===n)?"Search":"Search-Unselect",disabled:!t.find(s=>s.id===n),children:"Search"})},(i=t.find(s=>s.id===n))==null?void 0:i.id)]})]})]}),a.jsx("img",{src:nI,alt:"Map With Pin",className:"Resize-image1"})]})}const iI="/track-n-go/assets/Delivery%20Man-e0Bveuha.png";function sI(){return a.jsxs("div",{className:"Container2",children:[a.jsx("img",{src:iI,alt:"Delivery Man",id:"image",className:"Resize-image2"}),a.jsxs("div",{className:"Text2",children:[a.jsx("h1",{children:"Why use Track N' Go?"}),a.jsx("p",{className:"paragraph-text",children:"With our intuitive platform, you can stay updated on your parcels' whereabouts in real-time, ensuring you're always in the loop. Receive instant notifications and enjoy seamless navigation as you track your shipments effortlessly, saving time and eliminating stress. Bid farewell to lost packages and embrace hassle-free parcel management  explore our website now and experience the ease of staying in control."}),a.jsxs("div",{className:"LoginBox",children:[a.jsx("div",{className:"TitleLogin",children:"Sign in now and join the community!"}),a.jsx(C_,{})]})]})]})}const oI="/track-n-go/assets/SPX-XtkO_URi.png",aI="/track-n-go/assets/LZD-llslQXD7.png",lI="/track-n-go/assets/JNT-Ca8-dk2B.png",cI="/track-n-go/assets/DHL-CldUG1Ab.png",uI="/track-n-go/assets/GRB-n4yayV71.png",dI="/track-n-go/assets/NJV-CP6YM7Ok.png",hI="/track-n-go/assets/LMV-CLpJwO0H.png",fI="/track-n-go/assets/LBC-B_7bQCyP.png",pI="/track-n-go/assets/ENT-aXbSAEIH.png",mI="/track-n-go/assets/UPS-ChbElo5t.png",gI="/track-n-go/assets/JRS-BNq3V86c.png";function vI(){return a.jsxs("div",{className:"Container3",children:[a.jsx("div",{className:"Title3",children:"Our Partners"}),a.jsxs("div",{className:"ImagePartners",children:[a.jsx("img",{src:oI,alt:"SPX",className:"SPX"}),a.jsx("img",{src:aI,alt:"LZD",className:"LZD"}),a.jsx("img",{src:lI,alt:"JNT",className:"JNT"}),a.jsx("img",{src:cI,alt:"DHL",className:"DHL"}),a.jsx("img",{src:uI,alt:"GRB",className:"GRB"}),a.jsx("img",{src:dI,alt:"NJV",className:"NJV"}),a.jsx("img",{src:hI,alt:"LMV",className:"LMV"}),a.jsx("img",{src:fI,alt:"LBC",className:"LBC"}),a.jsx("img",{src:pI,alt:"ENT",className:"ENT"}),a.jsx("img",{src:mI,alt:"UPS",className:"UPS"}),a.jsx("img",{src:gI,alt:"JRS",className:"JRS"})]})]})}const yI="/track-n-go/assets/Bunzel%20Building-xDHaURe1.png";function _I(){return a.jsxs("div",{className:"Container4",children:[a.jsxs("div",{className:"text",children:[a.jsx("h1",{className:"c4-header",children:"Driven Students, Transforming Parcel Tracking in the Philippines"}),a.jsx("p",{className:"c4-description",children:"Welcome to our parcel tracking platform, crafted by a passionate team of four college students in the Philippines. Fueled by frustration with existing tracking solutions, we've dedicated ourselves to simplifying parcel management across our country. With a focus on innovation and customer satisfaction, we've developed a user-friendly platform offering seamless tracking and real-time updates. Join us in our mission to redefine parcel tracking in the Philippines and make logistics hassle-free for all."})]}),a.jsx("img",{src:yI,alt:"Bunzel Building",className:"image"})]})}function wI(){return a.jsxs("div",{className:"Footer",children:[a.jsx("img",{src:al,alt:"Logo Text",className:"logo"}),a.jsxs("p",{children:["Gov. M. Cuenco Ave., Talamban, Talamban,",a.jsx("br",{}),"Cebu City 6000, Cebu, Philippines |",a.jsx("br",{}),"www.tngexpress.ph"]}),a.jsxs("p",{children:["(+63) 322 300 100 204",a.jsx("br",{}),"(+63) 322 547 742",a.jsx("br",{}),"Fax (+63) 322 547 742"]}),a.jsxs("p",{children:[a.jsx("a",{href:"#",children:"Privacy Policy"}),a.jsx("br",{}),"2024 TNG Express All Rights Reserved"]})]})}function EI(){return a.jsxs("div",{className:"Landing",children:[a.jsxs("div",{className:"HeaderPage",children:[a.jsx(XS,{}),a.jsx("hr",{})]}),a.jsx("div",{className:"HeaderEmptySpace",id:"home"}),a.jsx("section",{className:"home",children:a.jsx(rI,{})}),a.jsx("section",{className:"our-product",id:"our-product",children:a.jsx(sI,{})}),a.jsx("section",{className:"partners",id:"partners",children:a.jsx(vI,{})}),a.jsx("section",{className:"about-us",id:"about-us",children:a.jsx(_I,{})}),a.jsx("section",{className:"contact",id:"contact",children:a.jsx(wI,{})}),a.jsx($u,{}),a.jsx(a2,{})]})}function xI(){return a.jsx("div",{className:"LandingPage",children:a.jsx(EI,{})})}function CI(){return a.jsxs("div",{className:"App",children:[a.jsx(xI,{}),a.jsx($u,{}),a.jsx(a2,{})]})}const TI="data:image/svg+xml,%3csvg%20width='82'%20height='26'%20viewBox='0%200%2082%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='82'%20height='26'%20rx='6'%20fill='%2375C768'/%3e%3cpath%20d='M10.9694%206.5C10.8367%206.5%2010.7041%206.565%2010.5714%206.63L5.33163%209.49C5.13265%209.62%205%209.815%205%2010.075V15.925C5%2016.185%205.13265%2016.38%205.33163%2016.51L10.5714%2019.37C10.7041%2019.435%2010.8367%2019.5%2010.9694%2019.5C11.102%2019.5%2011.2347%2019.435%2011.3673%2019.37L11.9643%2019.045C11.7653%2018.655%2011.699%2018.2%2011.6327%2017.745V13.39L15.6122%2011.18V13.65C16.0765%2013.65%2016.5408%2013.715%2016.9388%2013.845V10.075C16.9388%209.815%2016.8061%209.62%2016.6071%209.49L11.3673%206.63C11.2347%206.565%2011.102%206.5%2010.9694%206.5ZM10.9694%207.93L14.949%2010.075L13.6224%2010.79L9.70918%208.58L10.9694%207.93ZM8.38265%209.295L12.2959%2011.57L10.9694%2012.285L6.9898%2010.075L8.38265%209.295ZM6.32653%2011.18L10.3061%2013.39V17.745L6.32653%2015.535V11.18ZM17.1378%2015.47L14.75%2017.81L13.6888%2016.77L12.9592%2017.55L14.8163%2019.5L18%2016.38L17.1378%2015.47Z'%20fill='%23FEFEFE'/%3e%3cpath%20d='M25.2102%2017H22.6321V9.72727H25.2315C25.9631%209.72727%2026.5928%209.87287%2027.1207%2010.1641C27.6487%2010.4529%2028.0547%2010.8684%2028.3388%2011.4105C28.6252%2011.9527%2028.7685%2012.6013%2028.7685%2013.3565C28.7685%2014.1141%2028.6252%2014.7652%2028.3388%2015.3097C28.0547%2015.8542%2027.6463%2016.272%2027.1136%2016.5632C26.5833%2016.8544%2025.9489%2017%2025.2102%2017ZM24.1697%2015.6825H25.1463C25.6009%2015.6825%2025.9832%2015.602%2026.2933%2015.4411C26.6058%2015.2777%2026.8402%2015.0256%2026.9964%2014.6847C27.1551%2014.3414%2027.2344%2013.8987%2027.2344%2013.3565C27.2344%2012.8191%2027.1551%2012.38%2026.9964%2012.0391C26.8402%2011.6982%2026.607%2011.4472%2026.2969%2011.2862C25.9867%2011.1252%2025.6044%2011.0447%2025.1499%2011.0447H24.1697V15.6825ZM29.8075%2017V9.72727H34.7081V10.995H31.3451V12.728H34.4559V13.9957H31.3451V15.7322H34.7223V17H29.8075ZM35.8305%2017V9.72727H37.3682V15.7322H40.4861V17H35.8305ZM42.942%209.72727V17H41.4044V9.72727H42.942ZM45.421%209.72727L47.1788%2015.2528H47.2463L49.0077%209.72727H50.7122L48.2051%2017H46.2236L43.7129%209.72727H45.421ZM51.4876%2017V9.72727H56.3881V10.995H53.0252V12.728H56.136V13.9957H53.0252V15.7322H56.4023V17H51.4876ZM57.5106%2017V9.72727H60.3799C60.9292%209.72727%2061.3979%209.82552%2061.7862%2010.022C62.1768%2010.2161%2062.4739%2010.492%2062.6775%2010.8494C62.8835%2011.2045%2062.9865%2011.6224%2062.9865%2012.103C62.9865%2012.5859%2062.8823%2013.0014%2062.674%2013.3494C62.4656%2013.6951%2062.1638%2013.9602%2061.7684%2014.1449C61.3754%2014.3295%2060.8996%2014.4219%2060.3409%2014.4219H58.4197V13.1861H60.0923C60.3859%2013.1861%2060.6297%2013.1458%2060.8238%2013.0653C61.018%2012.9848%2061.1624%2012.8641%2061.2571%2012.7031C61.3541%2012.5421%2061.4027%2012.3421%2061.4027%2012.103C61.4027%2011.8615%2061.3541%2011.6579%2061.2571%2011.4922C61.1624%2011.3265%2061.0168%2011.201%2060.8203%2011.1158C60.6261%2011.0282%2060.3811%2010.9844%2060.0852%2010.9844H59.0483V17H57.5106ZM61.4382%2013.6903L63.2457%2017H61.5483L59.7798%2013.6903H61.4382ZM63.9731%2017V9.72727H68.8737V10.995H65.5108V12.728H68.6216V13.9957H65.5108V15.7322H68.8879V17H63.9731ZM72.5743%2017H69.9962V9.72727H72.5956C73.3271%209.72727%2073.9569%209.87287%2074.4848%2010.1641C75.0127%2010.4529%2075.4188%2010.8684%2075.7028%2011.4105C75.9893%2011.9527%2076.1325%2012.6013%2076.1325%2013.3565C76.1325%2014.1141%2075.9893%2014.7652%2075.7028%2015.3097C75.4188%2015.8542%2075.0104%2016.272%2074.4777%2016.5632C73.9474%2016.8544%2073.3129%2017%2072.5743%2017ZM71.5338%2015.6825H72.5104C72.9649%2015.6825%2073.3473%2015.602%2073.6574%2015.4411C73.9699%2015.2777%2074.2043%2015.0256%2074.3605%2014.6847C74.5191%2014.3414%2074.5984%2013.8987%2074.5984%2013.3565C74.5984%2012.8191%2074.5191%2012.38%2074.3605%2012.0391C74.2043%2011.6982%2073.9711%2011.4472%2073.6609%2011.2862C73.3508%2011.1252%2072.9685%2011.0447%2072.5139%2011.0447H71.5338V15.6825Z'%20fill='%23FEFEFE'/%3e%3c/svg%3e",SI="/track-n-go/assets/box-in-transit-DRUBZs2u.svg";function II({parcel:t}){return a.jsxs("div",{className:"ParcelTransit",children:[a.jsxs("div",{className:"information",children:[a.jsx("div",{className:t.status==="[5] Delivered"?"status-delivered":"status-in-transit",children:a.jsx("img",{src:t.status==="[5] Delivered"?TI:SI,alt:t.status==="[5] Delivered"?"box-delivered.svg":"box-in-transit.svg"})}),a.jsxs("div",{className:"refnumber",children:["#",t.id]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"details",children:[a.jsxs("div",{className:"weight",children:[a.jsxs("p",{className:"detail-number",children:[t.weight," kg"]}),a.jsx("p",{className:"detail-name",children:"Weight"})]}),a.jsxs("div",{className:"size",children:[a.jsxs("p",{className:"detail-number",children:[t.length," x ",t.width," x ",t.height," cm"]}),a.jsx("p",{className:"detail-name",children:"Size"})]}),a.jsxs("div",{className:"price",children:[a.jsxs("p",{className:"detail-number",children:["",t.price]}),a.jsx("p",{className:"detail-name",children:"Price"})]})]})]})}function kI({parcel:t}){return a.jsxs("div",{className:"TrackedParcel",children:[a.jsx("p",{className:"font-20 font-semibold",children:"Tracked Parcel"}),a.jsx(II,{parcel:t})]})}const Bo="data:image/svg+xml,%3csvg%20width='23'%20height='22'%20viewBox='0%200%2023%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Shape'%3e%3cpath%20d='M9.54819%202.22128C11.4413%201.79357%2013.4219%201.98926%2015.1946%202.77915C15.6991%203.00393%2016.2903%202.7772%2016.5151%202.27272C16.7398%201.76825%2016.5131%201.17708%2016.0086%200.952297C13.8419%20-0.0131332%2011.4212%20-0.252303%209.10742%200.270457C6.79368%200.793217%204.7109%202.0499%203.16972%203.85308C1.62854%205.65625%200.711535%207.90932%200.555461%2010.2762C0.399387%2012.6432%201.01261%2014.9971%202.30367%2016.9871C3.59474%2018.977%205.49447%2020.4963%207.71953%2021.3183C9.9446%2022.1404%2012.3758%2022.2211%2014.6505%2021.5486C16.9252%2020.876%2018.9216%2019.4862%2020.3419%2017.5863C21.7622%2015.6864%2022.5303%2013.3784%2022.5316%2011.0063V10.0857C22.5316%209.53344%2022.0839%209.08572%2021.5316%209.08572C20.9793%209.08572%2020.5316%209.53344%2020.5316%2010.0857V11.0052C20.5305%2012.9459%2019.9021%2014.8344%2018.74%2016.3888C17.578%2017.9432%2015.9446%2019.0804%2014.0834%2019.6307C12.2223%2020.1809%2010.2332%2020.1149%208.41264%2019.4423C6.59213%2018.7697%205.03781%2017.5266%203.98148%2015.8985C2.92516%2014.2704%202.42343%2012.3444%202.55113%2010.4078C2.67882%208.47126%203.4291%206.62785%204.69007%205.15252C5.95104%203.67719%207.65512%202.649%209.54819%202.22128Z'%20fill='%232D3648'/%3e%3cpath%20d='M22.2391%203.71249C22.6294%203.32177%2022.6291%202.68861%2022.2384%202.29828C21.8477%201.90795%2021.2145%201.90827%2020.8242%202.29898L11.5313%2011.6012L9.23872%209.30863C8.8482%208.91811%208.21503%208.91811%207.82451%209.30863C7.43399%209.69916%207.43399%2010.3323%207.82451%2010.7228L10.8245%2013.7228C11.0121%2013.9104%2011.2666%2014.0158%2011.5319%2014.0157C11.7972%2014.0157%2012.0516%2013.9102%2012.2391%2013.7225L22.2391%203.71249Z'%20fill='%232D3648'/%3e%3c/g%3e%3c/svg%3e",kr="data:image/svg+xml,%3csvg%20width='23'%20height='22'%20viewBox='0%200%2023%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Shape'%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.5316%200C5.45648%200%200.531616%204.92487%200.531616%2011C0.531616%2017.0751%205.45648%2022%2011.5316%2022C17.6067%2022%2022.5316%2017.0751%2022.5316%2011C22.5316%205.13737%2017.9453%200.34594%2012.1647%200.0179155C12.1224%200.00623786%2012.0777%200%2012.0316%200C12.0018%200%2011.9727%200.00260448%2011.9443%200.00759816C11.8074%200.0025475%2011.6698%200%2011.5316%200ZM2.53162%2011C2.53162%206.02944%206.56105%202%2011.5316%202C16.5022%202%2020.5316%206.02944%2020.5316%2011C20.5316%2015.9706%2016.5022%2020%2011.5316%2020C6.56105%2020%202.53162%2015.9706%202.53162%2011Z'%20fill='%239FAAC0'/%3e%3c/svg%3e",PI="data:image/svg+xml,%3csvg%20width='24'%20height='25'%20viewBox='0%200%2024%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.2929%204.79289C11.6834%204.40237%2012.3166%204.40237%2012.7071%204.79289L19.7071%2011.7929C20.0976%2012.1834%2020.0976%2012.8166%2019.7071%2013.2071L12.7071%2020.2071C12.3166%2020.5976%2011.6834%2020.5976%2011.2929%2020.2071C10.9024%2019.8166%2010.9024%2019.1834%2011.2929%2018.7929L16.5858%2013.5H5C4.44772%2013.5%204%2013.0523%204%2012.5C4%2011.9477%204.44772%2011.5%205%2011.5H16.5858L11.2929%206.20711C10.9024%205.81658%2010.9024%205.18342%2011.2929%204.79289Z'%20fill='%232D3648'/%3e%3c/svg%3e",NI="data:image/svg+xml,%3csvg%20width='52'%20height='52'%20viewBox='0%200%2052%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='52'%20height='52'%20rx='26'%20fill='%2375C768'/%3e%3cpath%20d='M35.0357%2012.5H18.3393C16.495%2012.5%2015%2013.8431%2015%2015.5V35C15%2036.6569%2016.495%2038%2018.3393%2038H35.0357C36.8799%2038%2038.375%2036.6569%2038.375%2035V15.5C38.375%2013.8431%2036.8799%2012.5%2035.0357%2012.5Z'%20stroke='%23FEFEFE'%20stroke-width='3'/%3e%3cpath%20d='M20.5%2020H32.875M20.5%2026H32.875M20.5%2032H28.75'%20stroke='%23FEFEFE'%20stroke-width='3'%20stroke-linecap='round'/%3e%3c/svg%3e",jI="data:image/svg+xml,%3csvg%20width='52'%20height='52'%20viewBox='0%200%2052%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='52'%20height='52'%20rx='26'%20fill='%2375C768'/%3e%3cpath%20d='M32.6733%2036.1111L36.6888%2032.1244L35.4755%2030.9111L32.6733%2033.6555L31.5466%2032.5288L30.3333%2033.7711L32.6733%2036.1111ZM19.6444%2023.1111H33.5111V20.8H19.6444V23.1111ZM33.5111%2039.2888C31.9125%2039.2888%2030.5502%2038.7253%2029.4239%2037.5983C28.2976%2036.4712%2027.7341%2035.1088%2027.7333%2033.5111C27.7325%2031.9133%2028.296%2030.5509%2029.4239%2029.4239C30.5517%2028.2968%2031.9141%2027.7333%2033.5111%2027.7333C35.108%2027.7333%2036.4708%2028.2968%2037.5994%2029.4239C38.728%2030.5509%2039.2912%2031.9133%2039.2888%2033.5111C39.2865%2035.1088%2038.723%2036.4716%2037.5983%2037.5994C36.4735%2038.7272%2035.1111%2039.2904%2033.5111%2039.2888ZM16.1777%2038.1333V18.4888C16.1777%2017.8533%2016.4042%2017.3094%2016.8572%2016.8572C17.3102%2016.405%2017.8541%2016.1785%2018.4888%2016.1777H34.6666C35.3022%2016.1777%2035.8464%2016.4042%2036.2994%2016.8572C36.7524%2017.3102%2036.9785%2017.8541%2036.9777%2018.4888V26.2022C36.6118%2026.0288%2036.2363%2025.8844%2035.8511%2025.7688C35.4659%2025.6533%2035.0711%2025.5666%2034.6666%2025.5088V18.4888H18.4888V34.7244H25.5088C25.6051%2035.3214%2025.7546%2035.8896%2025.9572%2036.4288C26.1598%2036.9681%2026.4244%2037.4785%2026.7511%2037.96L26.5777%2038.1333L24.8444%2036.4L23.1111%2038.1333L21.3777%2036.4L19.6444%2038.1333L17.9111%2036.4L16.1777%2038.1333ZM19.6444%2032.3555H25.5088C25.5666%2031.9511%2025.6533%2031.5563%2025.7688%2031.1711C25.8844%2030.7859%2026.0288%2030.4103%2026.2022%2030.0444H19.6444V32.3555ZM19.6444%2027.7333H27.8488C28.5807%2027.0207%2029.4331%2026.4572%2030.4061%2026.0427C31.3791%2025.6283%2032.4141%2025.4214%2033.5111%2025.4222H19.6444V27.7333Z'%20fill='%23FEFEFE'/%3e%3c/svg%3e",AI="data:image/svg+xml,%3csvg%20width='52'%20height='52'%20viewBox='0%200%2052%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='52'%20height='52'%20rx='26'%20fill='%23EDF0F7'/%3e%3cpath%20d='M32.6733%2036.1111L36.6888%2032.1244L35.4755%2030.9111L32.6733%2033.6555L31.5466%2032.5288L30.3333%2033.7711L32.6733%2036.1111ZM19.6444%2023.1111H33.5111V20.8H19.6444V23.1111ZM33.5111%2039.2888C31.9125%2039.2888%2030.5502%2038.7253%2029.4239%2037.5983C28.2976%2036.4712%2027.7341%2035.1088%2027.7333%2033.5111C27.7325%2031.9133%2028.296%2030.5509%2029.4239%2029.4239C30.5517%2028.2968%2031.9141%2027.7333%2033.5111%2027.7333C35.108%2027.7333%2036.4708%2028.2968%2037.5994%2029.4239C38.728%2030.5509%2039.2912%2031.9133%2039.2888%2033.5111C39.2865%2035.1088%2038.723%2036.4716%2037.5983%2037.5994C36.4735%2038.7272%2035.1111%2039.2904%2033.5111%2039.2888ZM16.1777%2038.1333V18.4888C16.1777%2017.8533%2016.4042%2017.3094%2016.8572%2016.8572C17.3102%2016.405%2017.8541%2016.1785%2018.4888%2016.1777H34.6666C35.3022%2016.1777%2035.8464%2016.4042%2036.2994%2016.8572C36.7524%2017.3102%2036.9785%2017.8541%2036.9777%2018.4888V26.2022C36.6118%2026.0288%2036.2363%2025.8844%2035.8511%2025.7688C35.4659%2025.6533%2035.0711%2025.5666%2034.6666%2025.5088V18.4888H18.4888V34.7244H25.5088C25.6051%2035.3214%2025.7546%2035.8896%2025.9572%2036.4288C26.1598%2036.9681%2026.4244%2037.4785%2026.7511%2037.96L26.5777%2038.1333L24.8444%2036.4L23.1111%2038.1333L21.3777%2036.4L19.6444%2038.1333L17.9111%2036.4L16.1777%2038.1333ZM19.6444%2032.3555H25.5088C25.5666%2031.9511%2025.6533%2031.5563%2025.7688%2031.1711C25.8844%2030.7859%2026.0288%2030.4103%2026.2022%2030.0444H19.6444V32.3555ZM19.6444%2027.7333H27.8488C28.5807%2027.0207%2029.4331%2026.4572%2030.4061%2026.0427C31.3791%2025.6283%2032.4141%2025.4214%2033.5111%2025.4222H19.6444V27.7333Z'%20fill='%23717D96'/%3e%3c/svg%3e",RI="data:image/svg+xml,%3csvg%20width='52'%20height='52'%20viewBox='0%200%2052%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='52'%20height='52'%20rx='26'%20fill='%2375C768'/%3e%3cpath%20d='M24.2666%2023.9777L26.5777%2022.8222L28.8888%2023.9777V18.4888H24.2666V23.9777ZM20.8%2032.3555V30.0444H26.5777V32.3555H20.8ZM18.4888%2036.9777C17.8533%2036.9777%2017.3094%2036.7516%2016.8572%2036.2994C16.405%2035.8472%2016.1785%2035.3029%2016.1777%2034.6666V18.4888C16.1777%2017.8533%2016.4042%2017.3094%2016.8572%2016.8572C17.3102%2016.405%2017.8541%2016.1785%2018.4888%2016.1777H34.6666C35.3022%2016.1777%2035.8464%2016.4042%2036.2994%2016.8572C36.7524%2017.3102%2036.9785%2017.8541%2036.9777%2018.4888V34.6666C36.9777%2035.3022%2036.7516%2035.8464%2036.2994%2036.2994C35.8472%2036.7524%2035.3029%2036.9785%2034.6666%2036.9777H18.4888ZM18.4888%2034.6666H34.6666V18.4888H31.2V27.7333L26.5777%2025.4222L21.9555%2027.7333V18.4888H18.4888V34.6666Z'%20fill='%23FEFEFE'/%3e%3c/svg%3e",DI="data:image/svg+xml,%3csvg%20width='52'%20height='52'%20viewBox='0%200%2052%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='52'%20height='52'%20rx='26'%20fill='%23EDF0F7'/%3e%3cpath%20d='M24.2666%2023.9777L26.5777%2022.8222L28.8888%2023.9777V18.4888H24.2666V23.9777ZM20.8%2032.3555V30.0444H26.5777V32.3555H20.8ZM18.4888%2036.9777C17.8533%2036.9777%2017.3094%2036.7516%2016.8572%2036.2994C16.405%2035.8472%2016.1785%2035.3029%2016.1777%2034.6666V18.4888C16.1777%2017.8533%2016.4042%2017.3094%2016.8572%2016.8572C17.3102%2016.405%2017.8541%2016.1785%2018.4888%2016.1777H34.6666C35.3022%2016.1777%2035.8464%2016.4042%2036.2994%2016.8572C36.7524%2017.3102%2036.9785%2017.8541%2036.9777%2018.4888V34.6666C36.9777%2035.3022%2036.7516%2035.8464%2036.2994%2036.2994C35.8472%2036.7524%2035.3029%2036.9785%2034.6666%2036.9777H18.4888ZM18.4888%2034.6666H34.6666V18.4888H31.2V27.7333L26.5777%2025.4222L21.9555%2027.7333V18.4888H18.4888V34.6666Z'%20fill='%23717D96'/%3e%3c/svg%3e",LI="data:image/svg+xml,%3csvg%20width='52'%20height='52'%20viewBox='0%200%2052%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='52'%20height='52'%20rx='26'%20fill='%2375C768'/%3e%3cpath%20d='M33.5111%2034.0889C34.4703%2034.0889%2035.2445%2033.3147%2035.2445%2032.3556C35.2445%2031.3965%2034.4703%2030.6223%2033.5111%2030.6223C32.552%2030.6223%2031.7778%2031.3965%2031.7778%2032.3556C31.7778%2033.3147%2032.552%2034.0889%2033.5111%2034.0889ZM35.2445%2023.6889H32.3556V26.5778H37.5094L35.2445%2023.6889ZM19.6445%2034.0889C20.6036%2034.0889%2021.3778%2033.3147%2021.3778%2032.3556C21.3778%2031.3965%2020.6036%2030.6223%2019.6445%2030.6223C18.6854%2030.6223%2017.9111%2031.3965%2017.9111%2032.3556C17.9111%2033.3147%2018.6854%2034.0889%2019.6445%2034.0889ZM35.8223%2021.9556L39.2889%2026.5778V32.3556H36.9778C36.9778%2034.2738%2035.4294%2035.8223%2033.5111%2035.8223C31.5929%2035.8223%2030.0445%2034.2738%2030.0445%2032.3556H23.1111C23.1111%2034.2738%2021.5627%2035.8223%2019.6445%2035.8223C17.7263%2035.8223%2016.1778%2034.2738%2016.1778%2032.3556H13.8667V19.6445C13.8667%2018.3618%2014.8951%2017.3334%2016.1778%2017.3334H32.3556V21.9556H35.8223ZM16.1778%2019.6445V30.0445H17.056C17.6916%2029.3396%2018.616%2028.8889%2019.6445%2028.8889C20.6729%2028.8889%2021.5974%2029.3396%2022.2329%2030.0445H30.0445V19.6445H16.1778ZM24.2667%2020.8L28.3111%2024.8445L24.2667%2028.8889V26H18.4889V23.6889H24.2667V20.8Z'%20fill='%23FEFEFE'/%3e%3c/svg%3e",bI="data:image/svg+xml,%3csvg%20width='52'%20height='52'%20viewBox='0%200%2052%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='52'%20height='52'%20rx='26'%20fill='%23EDF0F7'/%3e%3cpath%20d='M33.5111%2034.0889C34.4703%2034.0889%2035.2445%2033.3147%2035.2445%2032.3556C35.2445%2031.3965%2034.4703%2030.6223%2033.5111%2030.6223C32.552%2030.6223%2031.7778%2031.3965%2031.7778%2032.3556C31.7778%2033.3147%2032.552%2034.0889%2033.5111%2034.0889ZM35.2445%2023.6889H32.3556V26.5778H37.5094L35.2445%2023.6889ZM19.6445%2034.0889C20.6036%2034.0889%2021.3778%2033.3147%2021.3778%2032.3556C21.3778%2031.3965%2020.6036%2030.6223%2019.6445%2030.6223C18.6854%2030.6223%2017.9111%2031.3965%2017.9111%2032.3556C17.9111%2033.3147%2018.6854%2034.0889%2019.6445%2034.0889ZM35.8223%2021.9556L39.2889%2026.5778V32.3556H36.9778C36.9778%2034.2738%2035.4294%2035.8223%2033.5111%2035.8223C31.5929%2035.8223%2030.0445%2034.2738%2030.0445%2032.3556H23.1111C23.1111%2034.2738%2021.5627%2035.8223%2019.6445%2035.8223C17.7263%2035.8223%2016.1778%2034.2738%2016.1778%2032.3556H13.8667V19.6445C13.8667%2018.3618%2014.8951%2017.3334%2016.1778%2017.3334H32.3556V21.9556H35.8223ZM16.1778%2019.6445V30.0445H17.056C17.6916%2029.3396%2018.616%2028.8889%2019.6445%2028.8889C20.6729%2028.8889%2021.5974%2029.3396%2022.2329%2030.0445H30.0445V19.6445H16.1778ZM24.2667%2020.8L28.3111%2024.8445L24.2667%2028.8889V26H18.4889V23.6889H24.2667V20.8Z'%20fill='%23717D96'/%3e%3c/svg%3e",VI="data:image/svg+xml,%3csvg%20width='52'%20height='52'%20viewBox='0%200%2052%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='52'%20height='52'%20rx='26'%20fill='%2375C768'/%3e%3cpath%20d='M25.7288%2016.1777C25.5165%2016.1777%2025.3043%2016.2817%2025.092%2016.3857L16.7083%2020.9617C16.39%2021.1697%2016.1777%2021.4817%2016.1777%2021.8977V31.2577C16.1777%2031.6737%2016.39%2031.9857%2016.7083%2032.1937L25.092%2036.7697C25.3043%2036.8737%2025.5165%2036.9777%2025.7288%2036.9777C25.941%2036.9777%2026.1532%2036.8737%2026.3655%2036.7697L27.3206%2036.2497C27.0022%2035.6257%2026.8961%2034.8977%2026.79%2034.1697V27.2017L33.1573%2023.6657V27.6177C33.9002%2027.6177%2034.643%2027.7217%2035.2798%2027.9297V21.8977C35.2798%2021.4817%2035.0675%2021.1697%2034.7492%2020.9617L26.3655%2016.3857C26.1532%2016.2817%2025.941%2016.1777%2025.7288%2016.1777ZM25.7288%2018.4657L32.0961%2021.8977L29.9737%2023.0417L23.7124%2019.5057L25.7288%2018.4657ZM21.59%2020.6497L27.8512%2024.2897L25.7288%2025.4337L19.3614%2021.8977L21.59%2020.6497ZM18.3002%2023.6657L24.6675%2027.2017V34.1697L18.3002%2030.6337V23.6657ZM35.5981%2030.5297L31.7777%2034.2737L30.0798%2032.6097L28.9124%2033.8577L31.8839%2036.9777L36.9777%2031.9857L35.5981%2030.5297Z'%20fill='%23FEFEFE'/%3e%3c/svg%3e",MI="data:image/svg+xml,%3csvg%20width='52'%20height='52'%20viewBox='0%200%2052%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='52'%20height='52'%20rx='26'%20fill='%23EDF0F7'/%3e%3cpath%20d='M25.7288%2016.1777C25.5165%2016.1777%2025.3043%2016.2817%2025.092%2016.3857L16.7083%2020.9617C16.39%2021.1697%2016.1777%2021.4817%2016.1777%2021.8977V31.2577C16.1777%2031.6737%2016.39%2031.9857%2016.7083%2032.1937L25.092%2036.7697C25.3043%2036.8737%2025.5165%2036.9777%2025.7288%2036.9777C25.941%2036.9777%2026.1532%2036.8737%2026.3655%2036.7697L27.3206%2036.2497C27.0022%2035.6257%2026.8961%2034.8977%2026.79%2034.1697V27.2017L33.1573%2023.6657V27.6177C33.9002%2027.6177%2034.643%2027.7217%2035.2798%2027.9297V21.8977C35.2798%2021.4817%2035.0675%2021.1697%2034.7492%2020.9617L26.3655%2016.3857C26.1532%2016.2817%2025.941%2016.1777%2025.7288%2016.1777ZM25.7288%2018.4657L32.0961%2021.8977L29.9737%2023.0417L23.7124%2019.5057L25.7288%2018.4657ZM21.59%2020.6497L27.8512%2024.2897L25.7288%2025.4337L19.3614%2021.8977L21.59%2020.6497ZM18.3002%2023.6657L24.6675%2027.2017V34.1697L18.3002%2030.6337V23.6657ZM35.5981%2030.5297L31.7777%2034.2737L30.0798%2032.6097L28.9124%2033.8577L31.8839%2036.9777L36.9777%2031.9857L35.5981%2030.5297Z'%20fill='%23717D96'/%3e%3c/svg%3e";function OI({parcel:t}){const e=(f,m,g)=>{const T={January:1,February:2,March:3,April:4,May:5,June:6,July:7,August:8,September:9,October:10,November:11,December:12};let S=f.charAt(0).toUpperCase()+f.slice(1).toLowerCase(),N=T[S];if(N===void 0)throw new Error("Invalid month string provided.");let A=parseInt(m),C=parseInt(g);const x={1:31,2:28,3:31,4:30,5:31,6:30,7:31,8:31,9:30,10:31,11:30,12:31};N===2&&C%4===0&&(C%100!==0||C%400===0)&&(x[2]=29),A>x[N]&&(A-=x[N],N+=1,N===13&&(N=1,C+=1));const k=Object.keys(T).find(b=>T[b]===N);return`${A.toString().padStart(2,"0")} ${k} ${C}`},n=()=>a.jsxs("div",{className:"container",children:[a.jsx("div",{className:"left",children:a.jsx("div",{className:"date",children:e(t.shippedMonth,parseInt(t.shippedDay)+8,t.shippedYear)})}),a.jsxs("div",{className:"middle",children:[a.jsx("img",{src:Bo,alt:"icon-circle-check"}),a.jsx("div",{className:"vertical-line"})]}),a.jsx("div",{className:"right",children:a.jsx("div",{className:"description",children:"Your parcel has been delivered."})})]}),r=()=>a.jsxs("div",{className:"container",children:[a.jsx("div",{className:"left",children:a.jsx("div",{className:"date",children:e(t.shippedMonth,parseInt(t.shippedDay)+8,t.shippedYear)})}),a.jsxs("div",{className:"middle",children:[a.jsx("img",{src:kr,alt:"icon-circle"}),a.jsx("div",{className:"vertical-line"})]}),a.jsx("div",{className:"right",children:a.jsxs("div",{className:"description",children:["[",t.deliveredTo," DC] Your parcel out for delivery."]})})]}),i=()=>a.jsxs("div",{className:"container",children:[a.jsx("div",{className:"left",children:a.jsx("div",{className:"date",children:e(t.shippedMonth,parseInt(t.shippedDay)+6,t.shippedYear)})}),a.jsxs("div",{className:"middle",children:[a.jsx("img",{src:t.status!=="[1] Order Created"&&t.status!=="[2] Picked Up"&&t.status!=="[3] Sorting"&&t.status==="[4] Courier Delivery"?Bo:kr,alt:"icon-circle-check"}),a.jsx("div",{className:"vertical-line"})]}),a.jsx("div",{className:"right",children:a.jsxs("div",{className:"description",children:["[SOC 5] Your parcel is in transit to [",t.deliveredTo," DC]"]})})]}),s=()=>a.jsxs("div",{className:"container",children:[a.jsx("div",{className:"left",children:a.jsx("div",{className:"date",children:e(t.shippedMonth,parseInt(t.shippedDay)+6,t.shippedYear)})}),a.jsxs("div",{className:"middle",children:[a.jsx("img",{src:kr,alt:"icon-circle"}),a.jsx("div",{className:"vertical-line"})]}),a.jsx("div",{className:"right",children:a.jsx("div",{className:"description",children:"[SOC 5] The parcel has been dispatched from our sorting center."})})]}),o=()=>a.jsxs("div",{className:"container",children:[a.jsx("div",{className:"left",children:a.jsx("div",{className:"date",children:e(t.shippedMonth,parseInt(t.shippedDay)+4,t.shippedYear)})}),a.jsxs("div",{className:"middle",children:[a.jsx("img",{src:t.status!=="[1] Order Created"&&t.status!=="[2] Picked Up"&&t.status==="[3] Sorting"?Bo:kr,alt:"icon-circle-check"}),a.jsx("div",{className:"vertical-line"})]}),a.jsx("div",{className:"right",children:a.jsx("div",{className:"description",children:"[SOC 4] Your parcel is being transported to [SOC 5]"})})]}),c=()=>a.jsxs("div",{className:"container",children:[a.jsx("div",{className:"left",children:a.jsx("div",{className:"date",children:e(t.shippedMonth,parseInt(t.shippedDay)+4,t.shippedYear)})}),a.jsxs("div",{className:"middle",children:[a.jsx("img",{src:kr,alt:"icon-circle"}),a.jsx("div",{className:"vertical-line"})]}),a.jsx("div",{className:"right",children:a.jsx("div",{className:"description",children:"[SOC 4] Your parcel has been received by sorting center to determine the route for delivery."})})]}),u=()=>a.jsxs("div",{className:"container",children:[a.jsx("div",{className:"left",children:a.jsx("div",{className:"date",children:e(t.shippedMonth,parseInt(t.shippedDay)+2,t.shippedYear)})}),a.jsxs("div",{className:"middle",children:[a.jsx("img",{src:t.status!=="[1] Order Created"&&t.status==="[2] Picked Up"?Bo:kr,alt:"icon-circle-check"}),a.jsx("div",{className:"vertical-line"})]}),a.jsx("div",{className:"right",children:a.jsxs("div",{className:"description",children:["[",t.deliveredFrom," DC] Your parcel is on its way to the sorting center."]})})]}),d=()=>a.jsxs("div",{className:"container",children:[a.jsx("div",{className:"left",children:a.jsx("div",{className:"date",children:e(t.shippedMonth,parseInt(t.shippedDay)+2,t.shippedYear)})}),a.jsxs("div",{className:"middle",children:[a.jsx("img",{src:kr,alt:"icon-circle"}),a.jsx("div",{className:"vertical-line"})]}),a.jsx("div",{className:"right",children:a.jsx("div",{className:"description",children:"Your parcel has been picked up by our courier. The package has been collected by our designated courier."})})]});return a.jsxs("div",{className:"ParcelTrackerBody",children:[a.jsxs("div",{className:"frame1",children:[a.jsxs("div",{className:"city",children:[a.jsx("p",{children:t.deliveredFrom}),a.jsx("img",{src:PI,alt:"Arrow"}),a.jsx("p",{children:t.deliveredTo})]}),a.jsx("div",{className:"refNumber",children:t.id})]}),a.jsxs("div",{className:"frame2",children:[a.jsxs("div",{className:"order",children:[a.jsx("img",{src:NI,alt:"circle-active-order-created",className:"iconstatus"}),a.jsx("p",{className:"active",children:"Order Created"})]}),a.jsx("hr",{className:t.status!=="[1] Order Created"?"line-status-active":"line-status-idle"}),a.jsxs("div",{className:"pickup",children:[a.jsx("img",{src:t.status!=="[1] Order Created"?jI:AI,alt:"circle-idle-order-created",className:"iconstatus"}),a.jsx("p",{className:t.status!=="[1] Order Created"?"active":"idle",children:"Picked Up"})]}),a.jsx("hr",{className:t.status!=="[1] Order Created"&&t.status!=="[2] Picked Up"?"line-status-active":"line-status-idle"}),a.jsxs("div",{className:"sorting",children:[a.jsx("img",{src:t.status!=="[1] Order Created"&&t.status!=="[2] Picked Up"?RI:DI,alt:"circle-active-order-created",className:"iconstatus"}),a.jsx("p",{className:t.status!=="[1] Order Created"&&t.status!=="[2] Picked Up"?"active":"idle",children:"Sorting"})]}),a.jsx("hr",{className:t.status!=="[1] Order Created"&&t.status!=="[2] Picked Up"&&t.status!=="[3] Sorting"?"line-status-active":"line-status-idle"}),a.jsxs("div",{className:"courier",children:[a.jsx("img",{src:t.status!=="[1] Order Created"&&t.status!=="[2] Picked Up"&&t.status!=="[3] Sorting"?LI:bI,alt:"circle-active-order-created",className:"iconstatus"}),a.jsx("p",{className:t.status!=="[1] Order Created"&&t.status!=="[2] Picked Up"&&t.status!=="[3] Sorting"?"active":"idle",children:"Courier Delivery"})]}),a.jsx("hr",{className:t.status!=="[1] Order Created"&&t.status!=="[2] Picked Up"&&t.status!=="[3] Sorting"&&t.status!=="[4] Courier Delivery"?"line-status-active":"line-status-idle"}),a.jsxs("div",{className:"delivered",children:[a.jsx("img",{src:t.status!=="[1] Order Created"&&t.status!=="[2] Picked Up"&&t.status!=="[3] Sorting"&&t.status!=="[4] Courier Delivery"?VI:MI,alt:"circle-active-order-created",className:"iconstatus"}),a.jsx("p",{className:t.status!=="[1] Order Created"&&t.status!=="[2] Picked Up"&&t.status!=="[3] Sorting"&&t.status!=="[4] Courier Delivery"?"active":"idle",children:"Delivered"})]})]}),a.jsxs("div",{className:"frame3",children:[t.status!=="[1] Order Created"&&t.status!=="[2] Picked Up"&&t.status!=="[3] Sorting"&&t.status!=="[4] Courier Delivery"&&a.jsx("div",{className:"container",children:n()}),t.status!=="[1] Order Created"&&t.status!=="[2] Picked Up"&&t.status!=="[3] Sorting"&&t.status!=="[4] Courier Delivery"&&a.jsx("div",{className:"container",children:r()}),t.status!=="[1] Order Created"&&t.status!=="[2] Picked Up"&&t.status!=="[3] Sorting"&&a.jsx("div",{className:"container",children:i()}),t.status!=="[1] Order Created"&&t.status!=="[2] Picked Up"&&t.status!=="[3] Sorting"&&a.jsx("div",{className:"container",children:s()}),t.status!=="[1] Order Created"&&t.status!=="[2] Picked Up"&&a.jsx("div",{className:"container",children:o()}),t.status!=="[1] Order Created"&&t.status!=="[2] Picked Up"&&a.jsx("div",{className:"container",children:c()}),t.status!=="[1] Order Created"&&a.jsx("div",{className:"container",children:u()}),t.status!=="[1] Order Created"&&a.jsx("div",{className:"container",children:d()}),a.jsxs("div",{className:"container",children:[a.jsx("div",{className:"left",children:a.jsxs("div",{className:"date",children:[t.shippedDay.padStart(2,"0")," ",t.shippedMonth," ",t.shippedYear]})}),a.jsx("div",{className:"middle",children:a.jsx("img",{src:t.status!=="[1] Order Created"?kr:Bo,alt:"icon-circle-check"})}),a.jsx("div",{className:"right",children:a.jsx("div",{className:"description",children:"Order created successfully."})})]})]})]})}function FI({parcel:t}){return a.jsxs("div",{className:"ParcelTracker",children:[a.jsx(kI,{parcel:t}),a.jsx(OI,{parcel:t})]})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function UI(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{d(r.next(f))}catch(m){o(m)}}function u(f){try{d(r.throw(f))}catch(m){o(m)}}function d(f){f.done?s(f.value):i(f.value).then(c,u)}d((r=r.apply(t,e||[])).next())})}function BI(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(f){return u([d,f])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(f){d=[6,f],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ns=function(){return Ns=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ns.apply(this,arguments)},P_=function(t){return{loading:t==null,value:t}},HI=function(){return function(t,e){switch(e.type){case"error":return Ns(Ns({},t),{error:e.error,loading:!1,value:void 0});case"reset":return P_(e.defaultValue);case"value":return Ns(Ns({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},zI=function(t){var e=t?t():void 0,n=D.useReducer(HI(),P_(e)),r=n[0],i=n[1],s=D.useCallback(function(){var u=t?t():void 0;i({type:"reset",defaultValue:u})},[t]),o=D.useCallback(function(u){i({type:"error",error:u})},[]),c=D.useCallback(function(u){i({type:"value",value:u})},[]);return D.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:c,value:r.value}},[r.error,r.loading,s,o,c,r.value])},$I=function(t,e){var n=zI(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,c=n.value;return D.useEffect(function(){var u=Hy(t,function(d){return UI(void 0,void 0,void 0,function(){var f;return BI(this,function(m){switch(m.label){case 0:if(!(e!=null&&e.onUserChanged))return[3,4];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,e.onUserChanged(d)];case 2:return m.sent(),[3,4];case 3:return f=m.sent(),s(f),[3,4];case 4:return o(d),[2]}})})},s);return function(){u()}},[t]),[c,i,r]};function WI(){const[t]=$I(yt);return a.jsx("div",{className:"ParcelTrackerHeader",children:a.jsx(fn,{to:t?"/track-n-go/DashboardPage":"/track-n-go/",children:a.jsx("img",{src:al,alt:"Logo Text",className:"ParcelTrackerLogo"})})})}function qI(){const e=lo().state;return a.jsxs("div",{className:"ParcelTrackerPage",children:[a.jsx(WI,{}),a.jsx("hr",{}),a.jsx(FI,{parcel:e})]})}function KI(){return a.jsx("div",{className:"DashboardTitle",children:a.jsx("p",{className:"t-font-semibold",children:"Dashboard"})})}const GI="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6%207C6%206.44772%206.44772%206%207%206H10C10.5523%206%2011%206.44772%2011%207V16C11%2016.5523%2010.5523%2017%2010%2017H7C6.44772%2017%206%2016.5523%206%2016V7ZM8%208V15H9V8H8Z'%20fill='%232D3648'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M14%206C13.4477%206%2013%206.44772%2013%207V12C13%2012.5523%2013.4477%2013%2014%2013H17C17.5523%2013%2018%2012.5523%2018%2012V7C18%206.44772%2017.5523%206%2017%206H14ZM15%2011V8H16V11H15Z'%20fill='%232D3648'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2%205C2%203.34315%203.34315%202%205%202H19C20.6569%202%2022%203.34315%2022%205V19C22%2020.6569%2020.6569%2022%2019%2022H5C3.34315%2022%202%2020.6569%202%2019V5ZM5%204C4.44772%204%204%204.44772%204%205V19C4%2019.5523%204.44772%2020%205%2020H19C19.5523%2020%2020%2019.5523%2020%2019V5C20%204.44772%2019.5523%204%2019%204H5Z'%20fill='%232D3648'/%3e%3c/svg%3e",QI="/track-n-go/assets/icon-settings-cZrXodiC.svg",N_="data:image/svg+xml,%3csvg%20width='51'%20height='51'%20viewBox='0%200%2051%2051'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='1.75'%20y='1.75'%20width='47.5'%20height='47.5'%20rx='23.75'%20fill='%23EDF0F7'/%3e%3crect%20x='1.75'%20y='1.75'%20width='47.5'%20height='47.5'%20rx='23.75'%20stroke='%23717D96'%20stroke-width='3.5'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M25.5%209.30566C21.2812%209.30566%2017.8611%2012.7257%2017.8611%2016.9446C17.8611%2021.1634%2021.2812%2024.5834%2025.5%2024.5834C29.7188%2024.5834%2033.1389%2021.1634%2033.1389%2016.9446C33.1389%2012.7257%2029.7188%209.30566%2025.5%209.30566ZM20.9167%2016.9446C20.9167%2014.4132%2022.9687%2012.3612%2025.5%2012.3612C28.0313%2012.3612%2030.0833%2014.4132%2030.0833%2016.9446C30.0833%2019.4759%2028.0313%2021.5279%2025.5%2021.5279C22.9687%2021.5279%2020.9167%2019.4759%2020.9167%2016.9446Z'%20fill='%23717D96'/%3e%3cpath%20d='M19.3889%2027.639C17.3629%2027.639%2015.4199%2028.4438%2013.9874%2029.8764C12.5548%2031.3089%2011.75%2033.2519%2011.75%2035.2779V38.3334C11.75%2039.1772%2012.434%2039.8612%2013.2778%2039.8612C14.1215%2039.8612%2014.8056%2039.1772%2014.8056%2038.3334V35.2779C14.8056%2034.0623%2015.2884%2032.8965%2016.148%2032.037C17.0075%2031.1774%2018.1733%2030.6945%2019.3889%2030.6945H31.6111C32.8267%2030.6945%2033.9925%2031.1774%2034.852%2032.037C35.7116%2032.8965%2036.1944%2034.0623%2036.1944%2035.2779V38.3334C36.1944%2039.1772%2036.8785%2039.8612%2037.7222%2039.8612C38.566%2039.8612%2039.25%2039.1772%2039.25%2038.3334V35.2779C39.25%2033.2519%2038.4452%2031.3089%2037.0126%2029.8764C35.58%2028.4438%2033.6371%2027.639%2031.6111%2027.639H19.3889Z'%20fill='%23717D96'/%3e%3c/svg%3e";function qu(){const[t,e]=D.useState({}),[n,r]=D.useState(!0),i=async()=>{yt.onAuthStateChanged(async s=>{console.log(s);const o=jn(Rt,"TNG Users",s.uid),c=await __(o);c.exists()&&e(c.data()),r(!1)})};return D.useEffect(()=>{i()},[]),a.jsx("div",{className:"SideNavigation",children:n?a.jsx("p",{className:"loading-text",children:"Loading..."}):a.jsxs(a.Fragment,{children:[a.jsx("img",{src:al,alt:"Logo Text",className:"logo"}),a.jsx("hr",{className:"hr1"}),a.jsxs("div",{className:"Frames",children:[a.jsx(fn,{to:"/track-n-go/DashboardPage",children:a.jsxs("div",{className:"Frame1",children:[a.jsx("img",{src:GI,alt:"Dashboard Icon",className:"icon1"}),a.jsx("p",{className:"font-16",children:"Dashboard"})]})}),a.jsx(fn,{to:"/track-n-go/ProfilePage",children:a.jsxs("div",{className:"Frame2",children:[a.jsx("img",{src:ru,alt:"Profile Icon",className:"icon2"}),a.jsx("p",{className:"font-16",children:"Profile"})]})}),a.jsx(fn,{to:"/track-n-go/SettingsPage",children:a.jsxs("div",{className:"Frame3",children:[a.jsx("img",{src:QI,alt:"Settings Icon",className:"icon3"}),a.jsx("p",{className:"font-16",children:"Settings"})]})})]}),a.jsx("hr",{className:"hr2"}),a.jsxs("div",{className:"Frame4",children:[a.jsx("img",{src:N_,alt:"Profile Placeholder Icon",className:"icon4"}),a.jsxs("div",{className:"profile-display",children:[a.jsxs("p",{className:"font-18 font-semibold",children:[t.firstName," ",t.lastName]}),a.jsx("p",{className:"font-15 font-extralight",children:t.username?`@${t.username}`:""}),a.jsx("p",{className:"font-15 font-extralight",children:"Basic Account"})]})]})]})})}const YI="data:image/svg+xml,%3csvg%20width='113'%20height='85'%20viewBox='0%200%20113%2085'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M113%2059.6388C113%2062.9688%20111.677%2066.1623%20109.323%2068.517C106.968%2070.8716%20103.774%2072.1944%20100.444%2072.1944H12.5556C9.22561%2072.1944%206.03206%2070.8716%203.67744%2068.517C1.32281%2066.1623%200%2062.9688%200%2059.6388V50.2222C0%2046.8922%201.32281%2043.6987%203.67744%2041.3441C6.03206%2038.9894%209.22561%2037.6666%2012.5556%2037.6666H100.444C103.774%2037.6666%20106.968%2038.9894%20109.323%2041.3441C111.677%2043.6987%20113%2046.8922%20113%2050.2222V59.6388Z'%20fill='%23DE5654'/%3e%3cpath%20d='M59.6389%2015.6946L56.5659%2012.5557H22.4305C12.5556%2012.5557%209.41667%2018.8334%209.41667%2018.8334L0%2037.5381V53.3612H59.6389V15.6946Z'%20fill='%23FBD063'/%3e%3cpath%20d='M28.2501%2037.6666H6.27783L12.5556%2025.111C12.5556%2025.111%2015.6945%2018.8333%2021.9723%2018.8333H28.2501V37.6666Z'%20fill='%232D4EA2'/%3e%3cpath%20d='M28.2499%2084.75C35.1841%2084.75%2040.8054%2079.1287%2040.8054%2072.1945C40.8054%2065.2602%2035.1841%2059.6389%2028.2499%2059.6389C21.3156%2059.6389%2015.6943%2065.2602%2015.6943%2072.1945C15.6943%2079.1287%2021.3156%2084.75%2028.2499%2084.75Z'%20fill='%232D3648'/%3e%3cpath%20d='M28.2499%2078.4723C31.7171%2078.4723%2034.5277%2075.6616%2034.5277%2072.1945C34.5277%2068.7274%2031.7171%2065.9167%2028.2499%2065.9167C24.7828%2065.9167%2021.9722%2068.7274%2021.9722%2072.1945C21.9722%2075.6616%2024.7828%2078.4723%2028.2499%2078.4723Z'%20fill='%23CBD2E0'/%3e%3cpath%20d='M84.7499%2084.75C91.6841%2084.75%2097.3054%2079.1287%2097.3054%2072.1945C97.3054%2065.2602%2091.6841%2059.6389%2084.7499%2059.6389C77.8156%2059.6389%2072.1943%2065.2602%2072.1943%2072.1945C72.1943%2079.1287%2077.8156%2084.75%2084.7499%2084.75Z'%20fill='%232D3648'/%3e%3cpath%20d='M84.7499%2078.4723C88.2171%2078.4723%2091.0277%2075.6616%2091.0277%2072.1945C91.0277%2068.7274%2088.2171%2065.9167%2084.7499%2065.9167C81.2828%2065.9167%2078.4722%2068.7274%2078.4722%2072.1945C78.4722%2075.6616%2081.2828%2078.4723%2084.7499%2078.4723Z'%20fill='%23CBD2E0'/%3e%3cpath%20d='M100.445%200H53.3612C50.0313%200%2046.8377%201.32281%2044.4831%203.67744C42.1285%206.03206%2040.8057%209.22561%2040.8057%2012.5556V53.3611H113V12.5556C113%209.22561%20111.677%206.03206%20109.323%203.67744C106.968%201.32281%20103.774%200%20100.445%200Z'%20fill='%23CBD2E0'/%3e%3c/svg%3e";function JI({trackedParcels:t}){const e=()=>{let n=0;return t.map(r=>{r.status!=="[5] Delivered"&&n++}),n};return a.jsxs("div",{className:"DashboardDeliveryDetails",children:[a.jsxs("div",{className:"Frame6",children:[a.jsxs("div",{className:"Frame8",children:[a.jsx("p",{className:"font-bold",children:e()}),a.jsx("p",{className:"delivery",children:"in delivery today"})]}),a.jsx("img",{src:YI,alt:"Delivery Truck",className:"truck"})]}),a.jsx("div",{className:"Frame7",children:a.jsxs("p",{className:"DeliveryNumber",children:["There are currently ",e()," parcels out for delivery today."]})}),a.jsxs("div",{className:"Frame9",children:[a.jsx(fn,{to:"/track-n-go/ParcelHistoryPage",state:t,children:a.jsx("button",{className:"SeeHistory",children:"See History"})}),a.jsx(fn,{to:"/track-n-go/SettingsPage",children:a.jsx("button",{className:"ManageSettings",children:"Manage Settings"})})]})]})}const ZI="/track-n-go/assets/SearchParcelBackground-BxDY1HDn.png";function XI({parcels:t,addTrackedParcels:e,trackedParcels:n}){const[r,i]=D.useState(""),s={background:`url(${ZI}) lightgray 50% / cover no-repeat`},o=()=>{let c=!0,u=!1;n.map(d=>{r===d.id&&(alert("Parcel Already Existed"),u=!0)}),u!==!0&&(t.map(d=>{d.id===r&&(e(d),i(""),c=!1)}),c===!0&&(alert("No Available Parcel ID"),i("")))};return a.jsxs("div",{className:"DashboardTracker",style:s,children:[a.jsx("p",{className:"tracknum",children:"Enter your parcel number to track your deliveries"}),a.jsxs("div",{className:"SearchBar",children:[a.jsx("input",{type:"text",className:"InputTrackNum",placeholder:"Enter parcel number",onChange:c=>{i(c.target.value)},id:"inputBar"}),a.jsx("button",{className:"Submit",onClick:()=>{o(),document.getElementById("inputBar").value=""},children:"Submit"})]})]})}function e8({trackedParcels:t}){const e=i=>i!=="[5] Delivered"?"IN TRANSIT":"DELIVERED",n=i=>i<10?"0"+i:i.toString(),r=i=>({january:"01",february:"02",march:"03",april:"04",may:"05",june:"06",july:"07",august:"08",september:"09",october:"10",november:"11",december:"12"})[i.toLowerCase()]||i;return a.jsxs("div",{className:"DashboardHistory",children:[a.jsx("p",{className:"history",children:"Your recent deliveries"}),a.jsxs("div",{className:"DeliveryInfo",children:[a.jsxs("div",{className:"Frame11",children:[a.jsx("p",{className:"deliverydate",children:"Delivery Date"}),a.jsx("p",{className:"shipper1",children:"Shipper"}),a.jsx("p",{className:"courier1",children:"Courier"}),a.jsx("p",{className:"parcelnum",children:"Parcel Number"}),a.jsx("p",{className:"status1",children:"Status"})]}),t.length!==0?a.jsx(a.Fragment,{children:t.map(i=>a.jsxs(a.Fragment,{children:[a.jsx("hr",{className:"hr11"}),a.jsxs("div",{className:"Frame12",children:[a.jsxs("p",{className:"deliverydate2",children:[i.shippedYear,"/",r(i.shippedMonth),"/",n(i.shippedDay)]}),a.jsx("p",{className:"shipper2",children:i.shipper}),a.jsx("p",{className:"courier2",children:i.courier}),a.jsx("p",{className:"parcelnum2",children:i.id}),a.jsx("div",{className:e(i.status)==="DELIVERED"?"Frame14":"Frame13",children:a.jsx("p",{className:e(i.status)==="DELIVERED"?"status3":"status2",children:e(i.status)})}),a.jsx(fn,{to:"/track-n-go/ParcelTrackerPage",state:i,children:a.jsx("p",{className:"details2",children:"View Details >"})})]},i.id)]}))}):a.jsx("div",{className:"Frame12",children:a.jsx("p",{className:"deliverydate2",children:"No Tracked Parcels"})})]})]})}function t8(){const[t,e]=D.useState([]),[n,r]=D.useState([]),[i,s]=D.useState(null);D.useEffect(()=>{const c=Hy(yt,u=>{u?(s(u),k_(u.uid).then(d=>r(d))):s(null)});return()=>c()},[]),D.useEffect(()=>{Zi().then(c=>e(c))},[]);const o=c=>{i?(r([...n,c]),tI(c,i.uid)):console.error("No user is logged in.")};return a.jsxs("div",{className:"Dashboard",children:[a.jsxs("div",{className:"Dashboard1",children:[a.jsx("div",{className:"SideNavSpace"}),a.jsx(qu,{})]}),a.jsxs("div",{className:"Dashboard2",children:[a.jsx(KI,{}),a.jsxs("div",{className:"Dashboard4",children:[a.jsxs("div",{className:"Dashboard3",children:[a.jsx(JI,{parcels:t,trackedParcels:n}),a.jsx(XI,{parcels:t,addTrackedParcels:o,trackedParcels:n})]}),a.jsx(e8,{trackedParcels:n})]})]})]})}function n8(){return a.jsx("div",{className:"DashboardPage",children:a.jsx(t8,{})})}function r8(){return a.jsx("div",{className:"SettingsTitle",children:a.jsx("p",{className:"t-font-semibold",children:"Settings"})})}function i8(){const[t,e]=D.useState(""),[n,r]=D.useState(""),[i,s]=D.useState(null),[o,c]=D.useState(null);D.useEffect(()=>{if(o){const f=setTimeout(()=>{c(null)},3e3);return()=>clearTimeout(f)}},[o]);const u=async f=>{var m,g;if(f.preventDefault(),!t||!n){s("Please fill in all fields");return}if(console.log("User logged in:",!!yt.currentUser,(m=yt.currentUser)==null?void 0:m.uid,(g=yt.currentUser)==null?void 0:g.email),console.log(t,n),yt.currentUser)try{const T=Qi.credential(yt.currentUser.email,t);await j7(yt.currentUser,T),console.log(T),await D7(yt.currentUser,n),c("Password changed successfully!"),e(""),r(""),s(null)}catch(T){console.error("Error changing password:",T),s("Failed to change password"),c(null)}else s("You must be signed in to change your password"),c(null)},d=async()=>{try{await yt.signOut(),console.log("User signed out successfully"),window.location.href="/track-n-go/"}catch(f){console.error("Error signing out:",f)}};return a.jsxs("div",{className:"settings-body",children:[a.jsxs("section",{className:"account-settings",children:[a.jsx("p",{className:"account-title font-30 font-medium",children:"Account Settings"}),a.jsxs("section",{className:"account-fields",children:[a.jsx("p",{className:"settings-text-label",children:"Change password"}),a.jsxs("div",{className:"settings-text-field",children:[a.jsx("p",{children:"Enter current password"}),a.jsxs("form",{onSubmit:u,children:[a.jsx("img",{src:iu,alt:"",className:"settings-password-icon"}),a.jsx("input",{type:"password",placeholder:"Current Password",className:"settings-password-field",value:t,onChange:f=>e(f.target.value)})]})]}),a.jsxs("div",{className:"settings-text-field",children:[a.jsx("p",{children:"Enter new password"}),a.jsxs("form",{onSubmit:u,children:[a.jsx("img",{src:iu,alt:"",className:"settings-password-icon"}),a.jsx("input",{type:"password",placeholder:"Should be 8 characters and above",className:"settings-password-field",value:n,onChange:f=>r(f.target.value)})]})]}),i&&a.jsx("div",{className:"error-message",children:i}),o&&a.jsx("div",{className:"success-message",children:o}),a.jsx("button",{className:"settings-fbutton",onClick:u,children:"Save changes"})]})]}),a.jsxs("section",{className:"faq-section",children:[a.jsx("div",{className:"faq-title",children:a.jsx("p",{className:"font-30 font-medium",children:"FAQs (Frequently Asked Questions)"})}),a.jsxs("p",{className:"font-16 faq-paragraph",children:[a.jsx("p",{className:"faq-question",children:"How does parcel tracking work?"}),a.jsx("br",{}),"Parcel tracking lets you monitor your package's location and status in real-time by entering your tracking number on our website.",a.jsx("br",{}),a.jsx("br",{}),a.jsx("p",{className:"faq-question",children:"Is parcel tracking free?"}),a.jsx("br",{}),"Yes, our parcel tracking service is completely free to use  no hidden fees.",a.jsx("br",{}),a.jsx("br",{}),a.jsx("p",{className:"faq-question",children:"Can I track without a tracking number?"}),a.jsx("br",{}),"No, you'll need a unique tracking number provided by the sender or carrier.",a.jsx("br",{}),a.jsx("br",{}),a.jsx("p",{className:"faq-question",children:"What if there's a delivery issue?"}),a.jsx("br",{}),"Contact our customer support for assistance with any delivery problems.",a.jsx("br",{}),a.jsx("br",{}),a.jsx("p",{className:"faq-question",children:"Can I track multiple parcels?"}),a.jsx("br",{}),"Yes, you can track multiple packages simultaneously by entering each tracking number separately.",a.jsx("br",{}),a.jsx("br",{}),a.jsx("p",{className:"faq-question",children:"How long for updates?"}),a.jsx("br",{}),"Tracking updates are usually real-time but may vary by carrier and location."]})]}),a.jsxs("section",{className:"about-us",children:[a.jsx("div",{className:"about-us-title",children:a.jsx("p",{className:"font-30 font-medium",children:"About Us"})}),a.jsx("div",{className:"about-us-description",children:a.jsx("p",{className:"about-us-description",children:"Welcome to our parcel tracking platform, crafted by a passionate team of four college students in the Philippines. Fueled by frustration with existing tracking solutions, we've dedicated ourselves to simplifying parcel management across our country. With a focus on innovation and customer satisfaction, we've developed a user-friendly platform offering seamless tracking and real-time updates. Join us in our mission to redefine parcel tracking in the Philippines and make logistics hassle-free for all."})}),a.jsxs("div",{className:"about-us-icon-label",children:[a.jsx("span",{className:"about-us-icon fb-label"}),a.jsx("span",{className:"about-us-label",children:"Track N' Go"})]}),a.jsxs("div",{className:"about-us-icon-label",children:[a.jsx("span",{className:"about-us-icon insta-label"}),a.jsx("span",{className:"about-us-label",children:"@tng_TrackAndGo"})]}),a.jsxs("div",{className:"about-us-icon-label",children:[a.jsx("span",{className:"about-us-icon linkedin-label"}),a.jsx("span",{className:"about-us-label",children:"BNC Wayfinders"})]})]}),a.jsxs("section",{className:"about-us-settings",children:[a.jsx("div",{className:"about-us-title",children:a.jsx("p",{className:"font-30 font-medium",children:"Sign Out"})}),a.jsx("div",{className:"sign-out-description",children:a.jsx("p",{className:"sign-out-description",children:"Clicking the sign out button will securely log you out of your account, ensuring your privacy and security. Ready to sign out? Just one click and you're done!"})}),a.jsx("div",{className:"logout-button",children:a.jsx("button",{className:"settings-fbutton logout-button",onClick:d,children:"Sign Out"})})]})]})}function s8(){return a.jsx("div",{className:"Settings",children:a.jsxs("div",{className:"side-navigation",children:[a.jsx("div",{className:"SideNavSpace3"}),a.jsx(qu,{}),a.jsxs("div",{className:"settings-pane",children:[a.jsx("div",{className:"settings-title",children:a.jsx(r8,{})}),a.jsx("div",{className:"settings-body",children:a.jsx(i8,{})})]})]})})}function o8(){return a.jsx("div",{className:"SettingsPage",children:a.jsx(s8,{})})}function a8(){return a.jsx("div",{className:"ProfileTitle",children:a.jsx("p",{className:"t-font-semibold",children:"Profile"})})}const l8="data:image/svg+xml,%3csvg%20width='51'%20height='51'%20viewBox='0%200%2051%2051'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='51'%20height='51'%20rx='25.5'%20fill='%23DE5654'/%3e%3cg%20clip-path='url(%23clip0_169_1137)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M26.1376%2019.975C22.7635%2019.975%2020.0282%2022.7103%2020.0282%2026.0844C20.0282%2029.4585%2022.7635%2032.1937%2026.1376%2032.1937C29.5117%2032.1937%2032.247%2029.4585%2032.247%2026.0844C32.247%2022.7103%2029.5117%2019.975%2026.1376%2019.975ZM22.472%2026.0844C22.472%2024.0599%2024.1131%2022.4187%2026.1376%2022.4187C28.1621%2022.4187%2029.8032%2024.0599%2029.8032%2026.0844C29.8032%2028.1088%2028.1621%2029.75%2026.1376%2029.75C24.1131%2029.75%2022.472%2028.1088%2022.472%2026.0844Z'%20fill='%23FEFEFE'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M22.472%2012.6437C22.0634%2012.6437%2021.6819%2012.8479%2021.4553%2013.1878L19.3743%2016.3094H15.1407C14.1685%2016.3094%2013.2362%2016.6956%2012.5487%2017.383C11.8613%2018.0704%2011.4751%2019.0028%2011.4751%2019.975V33.4156C11.4751%2034.3878%2011.8613%2035.3202%2012.5487%2036.0076C13.2362%2036.695%2014.1685%2037.0812%2015.1407%2037.0812H37.1345C38.1067%2037.0812%2039.039%2036.695%2039.7265%2036.0076C40.4139%2035.3202%2040.8001%2034.3878%2040.8001%2033.4156V19.975C40.8001%2019.0028%2040.4139%2018.0704%2039.7265%2017.383C39.039%2016.6956%2038.1067%2016.3094%2037.1345%2016.3094H32.9009L30.8199%2013.1878C30.5933%2012.8479%2030.2118%2012.6437%2029.8032%2012.6437H22.472ZM21.0449%2018.209L23.1259%2015.0875H29.1493L31.2303%2018.209C31.4569%2018.5489%2031.8384%2018.7531%2032.247%2018.7531H37.1345C37.4585%2018.7531%2037.7693%2018.8819%2037.9985%2019.111C38.2276%2019.3401%2038.3563%2019.6509%2038.3563%2019.975V33.4156C38.3563%2033.7397%2038.2276%2034.0505%2037.9985%2034.2796C37.7693%2034.5088%2037.4585%2034.6375%2037.1345%2034.6375H15.1407C14.8167%2034.6375%2014.5059%2034.5088%2014.2767%2034.2796C14.0476%2034.0505%2013.9188%2033.7397%2013.9188%2033.4156V19.975C13.9188%2019.6509%2014.0476%2019.3401%2014.2767%2019.111C14.5059%2018.8819%2014.8167%2018.7531%2015.1407%2018.7531H20.0282C20.4368%2018.7531%2020.8183%2018.5489%2021.0449%2018.209Z'%20fill='%23FEFEFE'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_169_1137'%3e%3crect%20width='29.325'%20height='29.325'%20fill='white'%20transform='translate(11.4751%2010.2)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";function c8({user:t,updateUser:e}){const[n,r]=D.useState(""),[i,s]=D.useState(""),[o,c]=D.useState(""),[u,d]=D.useState(null),[f,m]=D.useState(null);D.useEffect(()=>{if(f){const S=setTimeout(()=>{m(null)},3e3);return()=>clearTimeout(S)}},[f]);const g=async S=>{S.preventDefault();const N={firstName:n||t.firstName,lastName:i||t.lastName,username:o||t.username};if(!n&&!i&&!o){d("Please input changes"),m(null);return}else if(t.firstName===n&&t.lastName===i&&t.username===o){d("Names already in use!"),m(null);return}try{const A=yt.currentUser;if(A){const C=jn(Rt,"TNG Users",A.uid);await uf(C,{firstName:n||t.firstName,lastName:i||t.lastName,username:o||t.username}),r(""),s(""),c(""),e(N),m("Profile Updated Successfully!"),d(null)}}catch(A){console.error("Error updating profile: ",A),d("Error updating profile"),m(null)}},T=S=>{S.preventDefault(),r(""),s(""),c("")};return a.jsx("div",{className:"PublicProfile",children:a.jsxs("div",{className:"profile-frame",children:[a.jsx("div",{className:"title",children:"Public profile"}),a.jsxs("div",{className:"profile-picture",children:[a.jsx("img",{src:N_,alt:"profile-placeholder",className:"profile-placeholder"}),a.jsx("img",{src:l8,alt:"button-camera",className:"button-camera"})]}),a.jsxs("div",{className:"input-fields",children:[a.jsxs("div",{className:"first-name",children:[a.jsx("div",{className:"input-title",children:"First Name"}),a.jsx("input",{type:"text",value:n,placeholder:t.firstName,onChange:S=>r(S.target.value),className:"input-box"})]}),a.jsxs("div",{className:"last-name",children:[a.jsx("div",{className:"input-title",children:"Last Name"}),a.jsx("input",{type:"text",value:i,placeholder:t.lastName,onChange:S=>s(S.target.value),className:"input-box"}),a.jsxs("div",{className:"username",children:[a.jsx("div",{className:"input-title",children:"Username"}),a.jsx("input",{type:"text",value:o,placeholder:`@${t.username}`,onChange:S=>c(S.target.value),className:"input-box"})]})]})]}),a.jsxs("div",{className:"profile-buttons",children:[u&&a.jsx("div",{className:"error-message",children:u}),f&&a.jsx("div",{className:"success-message",children:f}),a.jsx("button",{className:"save-changes-profile",onClick:g,children:"Save changes"}),a.jsx("button",{className:"cancel-profile",onClick:T,children:"Cancel"})]})]})})}const u8={firstName:"",lastName:""};function d8(){const[t,e]=D.useState(u8);D.useEffect(()=>{(async()=>{const i=yt.currentUser;if(i){const s=jn(Rt,"TNG Users",i.uid),o=await __(s);o.exists()&&e(o.data())}})()},[]);const n=r=>{e(i=>({...i,...r}))};return a.jsxs("div",{className:"Profile",children:[a.jsxs("div",{className:"Profile1",children:[a.jsx("div",{className:"SideNavSpace2"}),a.jsx(qu,{})]}),a.jsxs("div",{className:"Profile2",children:[a.jsx(a8,{}),a.jsx("div",{className:"profile-header"})," ",a.jsx("div",{className:"Profile3",children:a.jsx(c8,{updateUser:n,user:t})})]})]})}function h8(){return a.jsx("div",{className:"ProfilePage",children:a.jsx(d8,{})})}function f8(){return a.jsx("div",{className:"ParcelHistoryTitle",children:a.jsx("p",{className:"t-font-semibold",children:"Parcel History"})})}function p8({parcels:t}){const e=i=>i!=="[5] Delivered"?"IN TRANSIT":"DELIVERED",n=i=>i<10?"0"+i:i.toString(),r=i=>({january:"01",february:"02",march:"03",april:"04",may:"05",june:"06",july:"07",august:"08",september:"09",october:"10",november:"11",december:"12"})[i.toLowerCase()]||i;return a.jsx("div",{className:"ParcelHistoryInfo",children:a.jsxs("div",{className:"ParcelHistoryBody",children:[a.jsxs("div",{className:"InfoFrame",children:[a.jsx("p",{className:"historydate",children:"Delivery Date"}),a.jsx("p",{className:"historyshipper",children:"Shipper"}),a.jsx("p",{className:"historycourier",children:"Courier"}),a.jsx("p",{className:"historyparcelnum",children:"Parcel Number"}),a.jsx("p",{className:"historystatus",children:"Status"})]}),t?a.jsx(a.Fragment,{children:t.map(i=>a.jsxs(a.Fragment,{children:[a.jsx("hr",{className:"hr11"}),a.jsxs("div",{className:"Frame12",children:[a.jsxs("p",{className:"deliverydate2",children:[i.shippedYear,"/",r(i.shippedMonth),"/",n(i.shippedDay)]}),a.jsx("p",{className:"shipper2",children:i.shipper}),a.jsx("p",{className:"courier2",children:i.courier}),a.jsx("p",{className:"parcelnum2",children:i.id}),a.jsx("div",{className:e(i.status)==="DELIVERED"?"Frame14":"Frame13",children:a.jsx("p",{className:e(i.status)==="DELIVERED"?"status3":"status2",children:e(i.status)})}),a.jsx(fn,{to:"/track-n-go/ParcelTrackerPage",state:i,children:a.jsx("p",{className:"details2",children:"View Details >"})})]},i.id)]}))}):a.jsx("div",{className:"Frame12",children:a.jsx("p",{className:"deliverydate2",children:"No Tracked Parcels"})})]})})}function m8({parcels:t}){return a.jsxs("div",{className:"ParcelHistory",children:[a.jsx("div",{className:"ParcelHistory1",children:a.jsx(qu,{})}),a.jsxs("div",{className:"ParcelHistory2",children:[a.jsx(f8,{}),a.jsx(p8,{parcels:t})]})]})}function g8(){const e=lo().state;return a.jsx("div",{className:"ParcelHistoryPage",children:a.jsx(m8,{parcels:e})})}const v8="data:image/svg+xml,%3csvg%20width='23'%20height='24'%20viewBox='0%200%2023%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M21.0678%2010.0833C21.0324%208.82692%2020.9135%208.02575%2020.511%207.34246C19.938%206.36975%2018.9068%205.82829%2016.8454%204.74729L14.9288%203.74104C13.2459%202.85842%2012.4045%202.41663%2011.4998%202.41663C10.5952%202.41663%209.75375%202.85746%208.07092%203.74104L6.15425%204.74729C4.09288%205.82829%203.06171%206.36975%202.48863%207.34246C1.9165%208.31421%201.9165%209.52458%201.9165%2011.9444V12.0565C1.9165%2014.4753%201.9165%2015.6857%202.48863%2016.6575C3.06171%2017.6302%204.09288%2018.1716%206.15425%2019.2536L8.07092%2020.2589C9.75375%2021.1415%2010.5952%2021.5833%2011.4998%2021.5833C12.4045%2021.5833%2013.2459%2021.1425%2014.9288%2020.2589L16.8454%2019.2526C18.9068%2018.1707%2019.938%2017.6302%2020.511%2016.6575C20.9135%2015.9742%2021.0324%2015.173%2021.0678%2013.9166M20.1248%207.68746L16.2915%209.60413M16.2915%209.60413L15.8123%209.84371L11.4998%2012M16.2915%209.60413V12.9583M16.2915%209.60413L7.18734%204.81246M11.4998%2012L2.87484%207.68746M11.4998%2012V21.1041'%20stroke='%232D3648'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c/svg%3e",y8="data:image/svg+xml,%3csvg%20width='23'%20height='24'%20viewBox='0%200%2023%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.3333%201C8.87407%200.999879%206.51413%201.95652%204.76645%203.662C3.01877%205.36748%202.02459%207.68396%202%2010.108C2%2016.41%2010.225%2023.4249%2010.575%2023.7239C10.7863%2023.9021%2011.0553%2024%2011.3333%2024C11.6114%2024%2011.8803%2023.9021%2012.0917%2023.7239C12.5%2023.4249%2020.6667%2016.41%2020.6667%2010.108C20.6421%207.68396%2019.6479%205.36748%2017.9002%203.662C16.1525%201.95652%2013.7926%200.999879%2011.3333%201ZM11.3333%2021.2974C9.385%2019.4689%204.33333%2014.3975%204.33333%2010.108C4.33333%208.27798%205.07083%206.52295%206.38359%205.22895C7.69634%203.93495%209.47682%203.20799%2011.3333%203.20799C13.1898%203.20799%2014.9703%203.93495%2016.2831%205.22895C17.5958%206.52295%2018.3333%208.27798%2018.3333%2010.108C18.3333%2014.363%2013.2817%2019.4689%2011.3333%2021.2974Z'%20fill='%232D3648'/%3e%3cpath%20d='M11.3333%205.6001C10.5257%205.6001%209.73626%205.83616%209.06476%206.27843C8.39326%206.7207%207.86988%207.34932%207.56083%208.08479C7.25177%208.82026%207.17091%209.62955%207.32846%2010.4103C7.48602%2011.1911%207.87492%2011.9083%208.44598%2012.4712C9.01705%2013.0341%209.74463%2013.4174%2010.5367%2013.5727C11.3288%2013.728%2012.1498%2013.6483%2012.896%2013.3437C13.6421%2013.039%2014.2798%2012.5232%2014.7285%2011.8612C15.1772%2011.1993%2015.4167%2010.4212%2015.4167%209.62508C15.4167%208.55759%2014.9865%207.53382%2014.2207%206.77899C13.4549%206.02416%2012.4163%205.6001%2011.3333%205.6001ZM11.3333%2011.3501C10.9872%2011.3501%2010.6489%2011.2489%2010.3611%2011.0594C10.0733%2010.8698%209.849%2010.6004%209.71655%2010.2852C9.58409%209.97001%209.54944%209.62317%209.61696%209.28855C9.68449%208.95394%209.85116%208.64657%2010.0959%208.40533C10.3406%208.16408%2010.6525%207.99979%2010.9919%207.93324C11.3314%207.86668%2011.6833%207.90084%2012.003%208.0314C12.3228%208.16196%2012.5961%208.38306%2012.7884%208.66673C12.9807%208.9504%2013.0833%209.28391%2013.0833%209.62508C13.0833%2010.0826%2012.899%2010.5213%2012.5708%2010.8448C12.2426%2011.1683%2011.7975%2011.3501%2011.3333%2011.3501Z'%20fill='%232D3648'/%3e%3c/svg%3e";function l2(){const t=f0(),e=async()=>{try{await M7(yt),console.log("Admin logged out successfully!"),t("/track-n-go/")}catch(n){console.error("Error logging out:",n)}};return a.jsxs("div",{className:"a-side-navigation",children:[a.jsx("img",{src:al,alt:"",className:"a-tng-logo"}),a.jsxs("div",{className:"a-navigation",children:[a.jsx(fn,{to:"/track-n-go/AdminHomePage",children:a.jsxs("div",{className:"sidenav-frame1",children:[a.jsx("img",{src:ru,alt:"User Icon",className:"a-icon-user"}),a.jsx("p",{className:"font-16 font-semibold",children:"Users"})]})}),a.jsx(fn,{to:"/track-n-go/ParcelsAdmin",children:a.jsxs("div",{className:"sidenav-frame2",children:[a.jsx("img",{src:v8,alt:"Parcel Icon",className:"a-icon-parcel"}),a.jsx("p",{className:"font-16 font-semibold",children:"Parcels"})]})}),a.jsx(fn,{to:"/track-n-go/TrackingAdmin",children:a.jsxs("div",{className:"sidenav-frame3",children:[a.jsx("img",{src:y8,alt:"Tracking Icon",className:"a-icon-tracking"}),a.jsx("p",{className:"font-16 font-semibold",children:"Tracking"})]})})]}),a.jsx("button",{className:"a-logout a-navigation-item",onClick:e,children:"Log Out"})]})}const ro="data:image/svg+xml,%3csvg%20width='16'%20height='15'%20viewBox='0%200%2016%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.3584%204.19194C12.6025%203.94786%2012.6025%203.55214%2012.3584%203.30806C12.1144%203.06398%2011.7186%203.06398%2011.4746%203.30806L8.1665%206.61612L4.85845%203.30806C4.61437%203.06398%204.21864%203.06398%203.97456%203.30806C3.73048%203.55214%203.73048%203.94786%203.97456%204.19194L7.28262%207.5L3.97456%2010.8081C3.73048%2011.0521%203.73048%2011.4479%203.97456%2011.6919C4.21864%2011.936%204.61437%2011.936%204.85845%2011.6919L8.1665%208.38388L11.4746%2011.6919C11.7186%2011.936%2012.1144%2011.936%2012.3584%2011.6919C12.6025%2011.4479%2012.6025%2011.0521%2012.3584%2010.8081L9.05039%207.5L12.3584%204.19194Z'%20fill='%232D3648'/%3e%3c/svg%3e",Ht="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.70711%208.29289C6.31658%207.90237%205.68342%207.90237%205.29289%208.29289C4.90237%208.68342%204.90237%209.31658%205.29289%209.70711L11.2929%2015.7071C11.6834%2016.0976%2012.3166%2016.0976%2012.7071%2015.7071L18.7071%209.70711C19.0976%209.31658%2019.0976%208.68342%2018.7071%208.29289C18.3166%207.90237%2017.6834%207.90237%2017.2929%208.29289L12%2013.5858L6.70711%208.29289Z'%20fill='%232D3648'/%3e%3c/svg%3e";function j_({visible:t,toggleVisible:e,addParcel:n,generateID:r}){let i=r;const[s,o]=D.useState(),[c,u]=D.useState("-"),[d,f]=D.useState(),[m,g]=D.useState(),[T,S]=D.useState(),[N,A]=D.useState(""),[C,x]=D.useState(""),[k,b]=D.useState("-"),[B,O]=D.useState("-"),[v,y]=D.useState("-"),[E,w]=D.useState("-"),[P,j]=D.useState("-"),[I,K]=D.useState("-"),[Me,X]=D.useState("-"),[Je,U]=D.useState(""),[ee,ne]=D.useState(""),fe=()=>{if(!m||!T||!d||!s){u("-");return}const ge=m*T*d/s;u(ge.toFixed(2).toString())},he=()=>{if(!(!m||!T||!d||!s||!c||!N||!C||!Je||!ee)){if(k=="-"||v=="-"||B=="-"||E=="-"){alert("Please select from dropdown options.");return}n({id:i,weight:s,length:d,width:m,height:T,price:c,shipper:N,courier:C,status:k,shippedMonth:B,shippedYear:E,shippedDay:v,deliveryYear:Me,deliveryMonth:P,deliveryDay:I,deliveredFrom:Je,deliveredTo:ee}),o(),f(),g(),S(),u("-"),A(""),x(""),b("-"),w("-"),y("-"),O("-"),X("-"),K("-"),j("-"),U(""),ne(""),e()}},_e=()=>{o(),f(),g(),S(),u("-"),A(""),x(""),b("-"),w("-"),y("-"),O("-"),X("-"),K("-"),j("-"),U(""),ne("")};return t&&a.jsxs("div",{className:"admin-overlay","data-simplebar":!0,children:[a.jsx("div",{className:"a-dimmed-background"}),a.jsxs("div",{className:"a-overlay",children:[a.jsx("p",{className:"a-overlay-title",children:"Add new parcel"}),a.jsxs("form",{className:"o-form",action:"#",children:[a.jsxs("div",{className:"o-input-fields",children:[a.jsxs("div",{className:"o-left-fields",children:[a.jsxs("div",{className:"o-tracking-id-field o-field",children:[a.jsx("p",{className:"o-form-label",children:"Tracking ID"}),a.jsx("input",{type:"text",placeholder:i,className:"o-text-field",disabled:!0})]}),a.jsxs("div",{className:"o-weight-price-field o-field",children:[a.jsxs("div",{className:"o-weight-field",children:[a.jsx("p",{className:"o-form-label",children:"Weight"}),a.jsx("input",{type:"number",placeholder:"2.1",className:"o-text-field",onChange:ge=>{o(ge.target.value),fe()},required:!0})]}),a.jsxs("div",{className:"o-price-field",children:[a.jsx("p",{className:"o-form-label",children:"Price"}),a.jsx("input",{type:"number",placeholder:c,className:"o-text-field",disabled:!0})]})]}),a.jsxs("div",{className:"o-size-field o-field",children:[a.jsx("p",{className:"o-form-label",children:"Size"}),a.jsxs("div",{className:"o-size-individual-field",children:[a.jsx("input",{type:"number",placeholder:"Length",className:"o-text-field",onChange:ge=>{f(ge.target.value),fe()},required:!0}),a.jsx("img",{src:ro,className:"o-x-icon",alt:""}),a.jsx("input",{type:"number",placeholder:"Width",className:"o-text-field",onChange:ge=>{g(ge.target.value),fe()},required:!0}),a.jsx("img",{src:ro,className:"o-x-icon",alt:""}),a.jsx("input",{type:"number",placeholder:"Height",className:"o-text-field",onChange:ge=>{S(ge.target.value),fe()},required:!0})]})]}),a.jsxs("div",{className:"o-shipper-field o-field",children:[a.jsx("p",{className:"o-form-label",children:"Shipper"}),a.jsx("input",{type:"text",placeholder:"Nat'l Bookstore",className:"o-text-field",onChange:ge=>A(ge.target.value),required:!0})]}),a.jsxs("div",{className:"o-courier-field",children:[a.jsx("p",{className:"o-form-label",children:"Courier"}),a.jsx("input",{type:"text",placeholder:"J&T",className:"o-text-field",onChange:ge=>x(ge.target.value),required:!0})]})]}),a.jsxs("div",{className:"o-right-fields",children:[a.jsxs("div",{className:"o-shipped-out-field",children:[a.jsx("p",{className:"o-form-label",children:"Shipped out"}),a.jsxs("div",{className:"o-dropdown-fields",children:[a.jsxs("div",{className:"o-month-dropdown o-dropdown",children:[a.jsxs("ul",{className:"o-month-dropdown-content o-dropdown-content",children:[a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>O("January"),children:"January"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>O("February"),children:"February"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>O("March"),children:"March"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>O("April"),children:"April"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>O("May"),children:"May"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>O("June"),children:"June"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>O("July"),children:"July"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>O("August"),children:"August"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>O("September"),children:"September"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>O("October"),children:"October"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>O("November"),children:"November"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>O("December"),children:"December"})})]}),a.jsx("p",{className:"o-dropdown-placeholder",children:B}),a.jsx("button",{className:"o-dropdown-button",children:a.jsx("img",{src:Ht,alt:""})})]}),a.jsxs("div",{className:"o-day-dropdown o-dropdown",children:[a.jsxs("ul",{className:"o-day-dropdown-content o-dropdown-content overflow",children:[a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("1"),children:"1"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("2"),children:"2"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("3"),children:"3"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("4"),children:"4"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("5"),children:"5"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("6"),children:"6"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("7"),children:"7"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("8"),children:"8"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("9"),children:"9"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("10"),children:"10"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("11"),children:"11"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("12"),children:"12"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("13"),children:"13"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("14"),children:"14"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("15"),children:"15"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("16"),children:"16"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("17"),children:"17"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("18"),children:"18"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("19"),children:"19"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("20"),children:"20"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("21"),children:"21"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("22"),children:"22"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("23"),children:"23"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("24"),children:"24"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("25"),children:"25"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("26"),children:"26"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("27"),children:"27"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("28"),children:"28"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("29"),children:"29"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("30"),children:"30"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("31"),children:"31"})})]}),a.jsx("p",{className:"o-dropdown-placeholder",children:v}),a.jsx("button",{className:"o-dropdown-button",children:a.jsx("img",{src:Ht,alt:""})})]}),a.jsxs("div",{className:"o-year-dropdown o-dropdown",children:[a.jsxs("ul",{className:"o-year-dropdown-content o-dropdown-content overflow",children:[a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("2015"),children:"2015"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("2016"),children:"2016"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("2017"),children:"2017"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("2018"),children:"2018"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("2019"),children:"2019"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("2020"),children:"2020"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("2021"),children:"2021"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("2022"),children:"2022"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("2023"),children:"2023"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("2024"),children:"2024"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("2025"),children:"2025"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("2026"),children:"2026"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("2027"),children:"2027"})})]}),a.jsx("p",{className:"o-dropdown-placeholder",children:E}),a.jsx("button",{className:"o-dropdown-button",children:a.jsx("img",{src:Ht,alt:""})})]})]})]}),a.jsxs("div",{className:"o-delivery-date-field",children:[a.jsx("p",{className:"o-form-label",children:"Delivery Date"}),a.jsxs("div",{className:"o-dropdown-fields",children:[a.jsxs("div",{className:"o-month-dropdown o-dropdown",children:[a.jsxs("ul",{className:"o-month-dropdown-content o-dropdown-content",children:[a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("-"),children:"-"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("January"),children:"January"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("February"),children:"February"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("March"),children:"March"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("April"),children:"April"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("May"),children:"May"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("June"),children:"June"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("July"),children:"July"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("August"),children:"August"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("September"),children:"September"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("October"),children:"October"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("November"),children:"November"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("December"),children:"December"})})]}),a.jsx("p",{className:"o-dropdown-placeholder",children:P}),a.jsx("button",{className:"o-dropdown-button",children:a.jsx("img",{src:Ht,alt:""})})]}),a.jsxs("div",{className:"o-day-dropdown o-dropdown",children:[a.jsxs("ul",{className:"o-day-dropdown-content o-dropdown-content overflow",children:[a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("-"),children:"-"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("1"),children:"1"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("2"),children:"2"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("3"),children:"3"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("4"),children:"4"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("5"),children:"5"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("6"),children:"6"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("7"),children:"7"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("8"),children:"8"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("9"),children:"9"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("10"),children:"10"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("11"),children:"11"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("12"),children:"12"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("13"),children:"13"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("14"),children:"14"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("15"),children:"15"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("16"),children:"16"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("17"),children:"17"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("18"),children:"18"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("19"),children:"19"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("20"),children:"20"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("21"),children:"21"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("22"),children:"22"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("23"),children:"23"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("24"),children:"24"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("25"),children:"25"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("26"),children:"26"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("27"),children:"27"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("28"),children:"28"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("29"),children:"29"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("30"),children:"30"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("31"),children:"31"})})]}),a.jsx("p",{className:"o-dropdown-placeholder",children:I}),a.jsx("button",{className:"o-dropdown-button",children:a.jsx("img",{src:Ht,alt:""})})]}),a.jsxs("div",{className:"o-year-dropdown o-dropdown",children:[a.jsxs("ul",{className:"o-year-dropdown-content o-dropdown-content overflow",children:[a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("-"),children:"-"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("2015"),children:"2015"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("2016"),children:"2016"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("2017"),children:"2017"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("2018"),children:"2018"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("2019"),children:"2019"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("2020"),children:"2020"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("2021"),children:"2021"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("2022"),children:"2022"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("2023"),children:"2023"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("2024"),children:"2024"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("2025"),children:"2025"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("2026"),children:"2026"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("2027"),children:"2027"})})]}),a.jsx("p",{className:"o-dropdown-placeholder",children:Me}),a.jsx("button",{className:"o-dropdown-button",children:a.jsx("img",{src:Ht,alt:""})})]})]})]}),a.jsxs("div",{className:"o-delivered-from-field o-field",children:[a.jsx("p",{className:"o-form-label",children:"Delivered From"}),a.jsx("input",{type:"text",placeholder:"Laguna Del Norte, PH",className:"o-text-field",onChange:ge=>U(ge.target.value),required:!0})]}),a.jsxs("div",{className:"o-delivered-to-field o-field",children:[a.jsx("p",{className:"o-form-label",children:"Delivered To"}),a.jsx("input",{type:"text",placeholder:"Cebu City, PH",className:"o-text-field",onChange:ge=>ne(ge.target.value),required:!0})]}),a.jsxs("div",{className:"o-status-field",children:[a.jsx("p",{className:"o-form-label",children:"Status"}),a.jsxs("div",{className:"o-status-dropdown o-dropdown",children:[a.jsxs("ul",{className:"o-month-dropdown-content o-dropdown-content",children:[a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>b("[1] Order Created"),children:"[1] Order Created"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>b("[2] Picked Up"),children:"[2] Picked Up"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>b("[3] Sorting"),children:"[3] Sorting"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>b("[4] Courier Delivery"),children:"[4] Courier Delivery"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>b("[5] Delivered"),children:"[5] Delivered"})})]}),a.jsx("p",{className:"o-dropdown-placeholder",children:k}),a.jsx("button",{className:"o-status-dropdown-trigger o-dropdown-button",children:a.jsx("img",{src:Ht,alt:""})})]})]})]})]}),a.jsx("div",{className:"o-input-fields",children:a.jsxs("div",{className:"o-buttons",children:[a.jsx("button",{type:"submit",className:"o-add-parcel-confirm o-button",onClick:ge=>{he()},children:"Add new parcel"}),a.jsx("button",{className:"o-cancel-button o-button",onClick:()=>{e(),_e()},children:"Cancel"})]})})]})]})]})}const A_="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.33317%208.33337C8.79341%208.33337%209.1665%208.70647%209.1665%209.16671V14.1667C9.1665%2014.6269%208.79341%2015%208.33317%2015C7.87293%2015%207.49984%2014.6269%207.49984%2014.1667V9.16671C7.49984%208.70647%207.87293%208.33337%208.33317%208.33337Z'%20fill='%232D3648'/%3e%3cpath%20d='M12.4998%2014.1667V9.16671C12.4998%208.70647%2012.1267%208.33337%2011.6665%208.33337C11.2063%208.33337%2010.8332%208.70647%2010.8332%209.16671V14.1667C10.8332%2014.6269%2011.2063%2015%2011.6665%2015C12.1267%2015%2012.4998%2014.6269%2012.4998%2014.1667Z'%20fill='%232D3648'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M5.83317%204.16671V3.33337C5.83317%202.67033%206.09656%202.03445%206.5654%201.56561C7.03425%201.09677%207.67013%200.833374%208.33317%200.833374H11.6665C12.3295%200.833374%2012.9654%201.09677%2013.4343%201.56561C13.9031%202.03445%2014.1665%202.67033%2014.1665%203.33337V4.16671H17.4998C17.9601%204.16671%2018.3332%204.5398%2018.3332%205.00004C18.3332%205.46028%2017.9601%205.83337%2017.4998%205.83337H16.6665V16.6667C16.6665%2017.3297%2016.4031%2017.9656%2015.9343%2018.4345C15.4654%2018.9033%2014.8295%2019.1667%2014.1665%2019.1667H5.83317C5.17013%2019.1667%204.53424%2018.9033%204.0654%2018.4345C3.59656%2017.9656%203.33317%2017.3297%203.33317%2016.6667V5.83337H2.49984C2.0396%205.83337%201.6665%205.46028%201.6665%205.00004C1.6665%204.5398%202.0396%204.16671%202.49984%204.16671H5.83317ZM7.74392%202.74412C7.9002%202.58784%208.11216%202.50004%208.33317%202.50004H11.6665C11.8875%202.50004%2012.0995%202.58784%2012.2558%202.74412C12.412%202.9004%2012.4998%203.11236%2012.4998%203.33337V4.16671H7.49984V3.33337C7.49984%203.11236%207.58763%202.9004%207.74392%202.74412ZM4.99984%205.83337V16.6667C4.99984%2016.8877%205.08763%2017.0997%205.24392%2017.256C5.4002%2017.4122%205.61216%2017.5%205.83317%2017.5H14.1665C14.3875%2017.5%2014.5995%2017.4122%2014.7558%2017.256C14.912%2017.0997%2014.9998%2016.8877%2014.9998%2016.6667V5.83337H4.99984Z'%20fill='%232D3648'/%3e%3c/svg%3e";function _8(){const[t,e]=D.useState([]);D.useState(""),D.useEffect(()=>{const r=YS(zi(Rt,"TNG Users"),i=>{const s=i.docs.map(o=>({id:o.id,...o.data()}));console.log("Fetched users:",s),e(s)},i=>{console.error("Error fetching users:",i)});return()=>r()},[]);const n=async r=>{try{const i=t.find(s=>s.id===r);if(i){await df(jn(Rt,"TNG Users",r));const o=await getAuth().getUser(i.uid);o&&(await O7(o),console.log(`User ${r} deleted successfully`))}}catch(i){console.error("Error deleting user:",i)}};return a.jsxs("div",{className:"admin-body",children:[a.jsxs("div",{className:"a-text-field",children:[a.jsx("img",{src:Wu,alt:"",className:"a-search-icon"}),a.jsx("input",{type:"text",placeholder:"Search users",className:"a-search-field"}),a.jsx("button",{className:"a-search-button",children:a.jsx("p",{className:"a-search-label",children:"Search"})})]}),a.jsx("div",{className:"a-user-table",children:a.jsxs("table",{className:"a-user-table-content",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"a-user-table-header",children:[a.jsx("th",{}),a.jsx("th",{children:"ID"}),a.jsx("th",{children:"USERNAME"}),a.jsx("th",{children:"FIRST NAME"}),a.jsx("th",{children:"LAST NAME"}),a.jsx("th",{children:"EMAIL ADDRESS"}),a.jsx("th",{children:"PASSWORD"}),a.jsx("th",{})]})}),a.jsx("tbody",{children:t.map(r=>a.jsxs("tr",{children:[a.jsx("td",{}),a.jsx("td",{children:r.userId}),a.jsx("td",{children:r.username}),a.jsx("td",{children:r.firstName}),a.jsx("td",{children:r.lastName}),a.jsx("td",{children:r.email}),a.jsx("td",{children:"*******"})," ",a.jsx("td",{children:a.jsx("button",{onClick:()=>n(r.id),children:a.jsx("img",{src:A_,alt:"",className:"a-icon-trash"})})})]},r.id))})]})})]})}function w8(){return a.jsxs("div",{className:"admin-homepage",children:[a.jsxs("div",{className:"admin-side-navigation",children:[a.jsx(l2,{}),a.jsx(j_,{})]}),a.jsxs("div",{className:"admin-right",children:[a.jsx("p",{className:"a-user-title",children:"Users - Admin View"}),a.jsx(_8,{})]})]})}function E8(){return a.jsx("div",{className:"AdminHomePage",children:a.jsx(w8,{})})}function R_({visible:t,toggleVisible:e,parcelDetails:n,editParcel:r,deleteParcel:i}){const[s,o]=D.useState(n.id),[c,u]=D.useState(n.weight),[d,f]=D.useState(n.price),[m,g]=D.useState(n.length),[T,S]=D.useState(n.width),[N,A]=D.useState(n.height),[C,x]=D.useState(n.shipper),[k,b]=D.useState(n.courier),[B,O]=D.useState(n.status),[v,y]=D.useState(n.shippedMonth),[E,w]=D.useState(n.shippedDay),[P,j]=D.useState(n.shippedYear),[I,K]=D.useState(n.deliveryMonth),[Me,X]=D.useState(n.deliveryDay),[Je,U]=D.useState(n.deliveryYear),[ee,ne]=D.useState(n.deliveredFrom),[fe,he]=D.useState(n.deliveredTo),_e=()=>{if(!T||!N||!m||!c){f("-");return}const we=T*N*m/c;f(we.toFixed(2).toString())},ge=()=>{if(!(!T||!N||!m||!c||!d||!C||!k||!ee||!fe)){if(B=="-"||E=="-"||v=="-"||P=="-"){alert("Please select from dropdown options.");return}r(s,{id:s,weight:c,length:m,width:T,height:N,price:d,shipper:C,courier:k,status:B,shippedMonth:v,shippedYear:P,shippedDay:E,deliveryYear:Je,deliveryMonth:I,deliveryDay:Me,deliveredFrom:ee,deliveredTo:fe}),e()}},Ke=()=>{i(s),e()};return t&&a.jsxs("div",{className:"admin-overlay",children:[a.jsx("div",{className:"a-dimmed-background-edit"}),a.jsxs("div",{className:"a-overlay",children:[a.jsxs("div",{className:"o-title-block",children:[a.jsx("p",{className:"a-overlay-title",children:"Edit parcel"}),a.jsxs("button",{className:"o-delete-parcel-button",onClick:()=>Ke(),style:{cursor:"pointer"},children:[a.jsx("img",{src:A_,className:"o-trash-icon"}),a.jsx("p",{className:"font-medium",children:"Delete parcel"})]})]}),a.jsxs("div",{className:"o-input-fields",children:[a.jsxs("div",{className:"o-left-fields",children:[a.jsxs("div",{className:"o-tracking-id-field o-field",children:[a.jsx("p",{className:"o-form-label",children:"Tracking ID"}),a.jsx("form",{className:"o-form",action:"#",children:a.jsx("input",{type:"text",placeholder:s,className:"o-text-field",disabled:!0})})]}),a.jsxs("div",{className:"o-weight-price-field o-field",children:[a.jsxs("div",{className:"o-weight-field",children:[a.jsx("p",{className:"o-form-label",children:"Weight"}),a.jsx("form",{className:"o-form",action:"#",children:a.jsx("input",{type:"number",placeholder:"2.1",value:c,className:"o-text-field",onChange:we=>{u(we.target.value),_e()}})})]}),a.jsxs("div",{className:"o-price-field",children:[a.jsx("p",{className:"o-form-label",children:"Price"}),a.jsx("form",{className:"o-form",action:"#",children:a.jsx("input",{type:"number",placeholder:d,className:"o-text-field",disabled:!0})})]})]}),a.jsxs("div",{className:"o-size-field o-field",children:[a.jsx("p",{className:"o-form-label",children:"Size"}),a.jsxs("div",{className:"o-size-individual-field",children:[a.jsx("form",{className:"o-form",action:"#",children:a.jsx("input",{type:"number",placeholder:"Length",className:"o-text-field",value:m,onChange:we=>{g(we.target.value),_e()}})}),a.jsx("img",{src:ro,className:"o-x-icon",alt:""}),a.jsx("form",{className:"o-form",action:"#",children:a.jsx("input",{type:"number",placeholder:"Width",className:"o-text-field",value:T,onChange:we=>{S(we.target.value),_e()}})}),a.jsx("img",{src:ro,className:"o-x-icon",alt:""}),a.jsx("form",{className:"o-form",action:"#",children:a.jsx("input",{type:"number",placeholder:"Height",className:"o-text-field",value:N,onChange:we=>{A(we.target.value),_e()}})})]})]}),a.jsxs("div",{className:"o-shipper-field o-field",children:[a.jsx("p",{className:"o-form-label",children:"Shipper"}),a.jsx("form",{className:"o-form",action:"#",children:a.jsx("input",{type:"text",placeholder:"Nat'l Bookstore",className:"o-text-field",value:C,onChange:we=>x(we.target.value)})})]}),a.jsxs("div",{className:"o-courier-field",children:[a.jsx("p",{className:"o-form-label",children:"Courier"}),a.jsx("form",{className:"o-form",action:"#",children:a.jsx("input",{type:"text",placeholder:"J&T",className:"o-text-field",value:k,onChange:we=>b(we.target.value)})})]})]}),a.jsxs("div",{className:"o-right-fields",children:[a.jsxs("div",{className:"o-shipped-out-field",children:[a.jsx("p",{className:"o-form-label",children:"Shipped out"}),a.jsxs("div",{className:"o-dropdown-fields",children:[a.jsxs("div",{className:"o-month-dropdown o-dropdown",children:[a.jsxs("ul",{className:"o-month-dropdown-content o-dropdown-content",children:[a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("January"),children:"January"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("February"),children:"February"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("March"),children:"March"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("April"),children:"April"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("May"),children:"May"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("June"),children:"June"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("July"),children:"July"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("August"),children:"August"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("September"),children:"September"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("October"),children:"October"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("November"),children:"November"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>y("December"),children:"December"})})]}),a.jsx("p",{className:"o-dropdown-placeholder",children:v}),a.jsx("button",{className:"o-dropdown-button",children:a.jsx("img",{src:Ht,alt:""})})]}),a.jsxs("div",{className:"o-day-dropdown o-dropdown",children:[a.jsxs("ul",{className:"o-day-dropdown-content o-dropdown-content overflow",children:[a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("1"),children:"1"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("2"),children:"2"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("3"),children:"3"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("4"),children:"4"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("5"),children:"5"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("6"),children:"6"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("7"),children:"7"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("8"),children:"8"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("9"),children:"9"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("10"),children:"10"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("11"),children:"11"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("12"),children:"12"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("13"),children:"13"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("14"),children:"14"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("15"),children:"15"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("16"),children:"16"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("17"),children:"17"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("18"),children:"18"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("19"),children:"19"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("20"),children:"20"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("21"),children:"21"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("22"),children:"22"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("23"),children:"23"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("24"),children:"24"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("25"),children:"25"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("26"),children:"26"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("27"),children:"27"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("28"),children:"28"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("29"),children:"29"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("30"),children:"30"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>w("31"),children:"31"})})]}),a.jsx("p",{className:"o-dropdown-placeholder",children:E}),a.jsx("button",{className:"o-dropdown-button",children:a.jsx("img",{src:Ht,alt:""})})]}),a.jsxs("div",{className:"o-year-dropdown o-dropdown",children:[a.jsxs("ul",{className:"o-year-dropdown-content o-dropdown-content overflow",children:[a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("2015"),children:"2015"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("2016"),children:"2016"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("2017"),children:"2017"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("2018"),children:"2018"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("2019"),children:"2019"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("2020"),children:"2020"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("2021"),children:"2021"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("2022"),children:"2022"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("2023"),children:"2023"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("2024"),children:"2024"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("2025"),children:"2025"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("2026"),children:"2026"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>j("2027"),children:"2027"})})]}),a.jsx("p",{className:"o-dropdown-placeholder",children:P}),a.jsx("button",{className:"o-dropdown-button",children:a.jsx("img",{src:Ht,alt:""})})]})]})]}),a.jsxs("div",{className:"o-delivery-date-field",children:[a.jsx("p",{className:"o-form-label",children:"Delivery Date"}),a.jsxs("div",{className:"o-dropdown-fields",children:[a.jsxs("div",{className:"o-month-dropdown o-dropdown",children:[a.jsxs("ul",{className:"o-month-dropdown-content o-dropdown-content",children:[a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("-"),children:"-"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("January"),children:"January"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("February"),children:"February"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("March"),children:"March"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("April"),children:"April"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("May"),children:"May"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("June"),children:"June"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("July"),children:"July"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("August"),children:"August"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("September"),children:"September"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("October"),children:"October"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("November"),children:"November"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>K("December"),children:"December"})})]}),a.jsx("p",{className:"o-dropdown-placeholder",children:I}),a.jsx("button",{className:"o-dropdown-button",children:a.jsx("img",{src:Ht,alt:""})})]}),a.jsxs("div",{className:"o-day-dropdown o-dropdown",children:[a.jsxs("ul",{className:"o-day-dropdown-content o-dropdown-content overflow",children:[a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("-"),children:"-"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("1"),children:"1"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("2"),children:"2"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("3"),children:"3"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("4"),children:"4"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("5"),children:"5"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("6"),children:"6"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("7"),children:"7"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("8"),children:"8"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("9"),children:"9"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("10"),children:"10"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("11"),children:"11"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("12"),children:"12"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("13"),children:"13"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("14"),children:"14"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("15"),children:"15"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("16"),children:"16"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("17"),children:"17"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("18"),children:"18"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("19"),children:"19"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("20"),children:"20"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("21"),children:"21"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("22"),children:"22"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("23"),children:"23"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("24"),children:"24"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("25"),children:"25"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("26"),children:"26"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("27"),children:"27"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("28"),children:"28"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("29"),children:"29"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("30"),children:"30"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>X("31"),children:"31"})})]}),a.jsx("p",{className:"o-dropdown-placeholder",children:Me}),a.jsx("button",{className:"o-dropdown-button",children:a.jsx("img",{src:Ht,alt:""})})]}),a.jsxs("div",{className:"o-year-dropdown o-dropdown",children:[a.jsxs("ul",{className:"o-year-dropdown-content o-dropdown-content overflow",children:[a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>U("-"),children:"-"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>U("2015"),children:"2015"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>U("2016"),children:"2016"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>U("2017"),children:"2017"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>U("2018"),children:"2018"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>U("2019"),children:"2019"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>U("2020"),children:"2020"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>U("2021"),children:"2021"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>U("2022"),children:"2022"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>U("2023"),children:"2023"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>U("2024"),children:"2024"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>U("2025"),children:"2025"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>U("2026"),children:"2026"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>U("2027"),children:"2027"})})]}),a.jsx("p",{className:"o-dropdown-placeholder",children:Je}),a.jsx("button",{className:"o-dropdown-button",children:a.jsx("img",{src:Ht,alt:""})})]})]})]}),a.jsxs("div",{className:"o-delivered-from-field o-field",children:[a.jsx("p",{className:"o-form-label",children:"Delivered From"}),a.jsx("input",{type:"text",placeholder:"Laguna Del Norte, PH",className:"o-text-field",value:ee,onChange:we=>ne(we.target.value),required:!0})]}),a.jsxs("div",{className:"o-delivered-to-field o-field",children:[a.jsx("p",{className:"o-form-label",children:"Delivered To"}),a.jsx("input",{type:"text",placeholder:"Cebu City, PH",value:fe,className:"o-text-field",onChange:we=>he(we.target.value),required:!0})]}),a.jsxs("div",{className:"o-status-field",children:[a.jsx("p",{className:"o-form-label",children:"Status"}),a.jsxs("div",{className:"o-status-dropdown o-dropdown",children:[a.jsxs("ul",{className:"o-month-dropdown-content o-dropdown-content",children:[a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>O("[1] Order Created"),children:"[1] Order Created"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>O("[2] Picked Up"),children:"[2] Picked Up"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>O("[3] Sorting"),children:"[3] Sorting"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>O("[4] Courier Delivery"),children:"[4] Courier Delivery"})}),a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>O("[5] Delivered"),children:"[5] Delivered"})})]}),a.jsx("p",{className:"o-dropdown-placeholder",children:B}),a.jsx("button",{className:"o-status-dropdown-trigger o-dropdown-button",children:a.jsx("img",{src:Ht,alt:""})})]})]})]})]}),a.jsxs("div",{className:"o-buttons",children:[a.jsx("button",{className:"o-add-parcel-confirm o-button",onClick:()=>{ge()},children:"Save changes"}),a.jsx("button",{className:"o-cancel-button o-button",onClick:()=>{e(),console.log(n.id)},children:"Cancel"})]})]})]})}const x8="data:image/svg+xml,%3csvg%20width='20'%20height='21'%20viewBox='0%200%2020%2021'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.8335%204.66659C10.8335%204.20635%2010.4604%203.83325%2010.0002%203.83325C9.53993%203.83325%209.16683%204.20635%209.16683%204.66659V9.66659H4.16683C3.70659%209.66659%203.3335%2010.0397%203.3335%2010.4999C3.3335%2010.9602%203.70659%2011.3333%204.16683%2011.3333H9.16683V16.3333C9.16683%2016.7935%209.53993%2017.1666%2010.0002%2017.1666C10.4604%2017.1666%2010.8335%2016.7935%2010.8335%2016.3333V11.3333H15.8335C16.2937%2011.3333%2016.6668%2010.9602%2016.6668%2010.4999C16.6668%2010.0397%2016.2937%209.66659%2015.8335%209.66659H10.8335V4.66659Z'%20fill='%232D3648'/%3e%3c/svg%3e",D_="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M20%200.878662C19.1722%200.878662%2018.3783%201.20751%2017.7929%201.79288L8.29289%2011.2929C8.16473%2011.421%208.07382%2011.5816%208.02986%2011.7574L7.02986%2015.7574C6.94466%2016.0982%207.04451%2016.4587%207.29289%2016.7071C7.54127%2016.9555%207.90176%2017.0553%208.24254%2016.9701L12.2425%2015.9701C12.4184%2015.9262%2012.5789%2015.8352%2012.7071%2015.7071L22.2071%206.20709C22.7925%205.62173%2023.1213%204.82781%2023.1213%203.99998C23.1213%203.17216%2022.7925%202.37824%2022.2071%201.79288C21.6217%201.20751%2020.8278%200.878662%2020%200.878662ZM19.2071%203.20709C19.4174%202.9968%2019.7026%202.87866%2020%202.87866C20.2974%202.87866%2020.5826%202.9968%2020.7929%203.20709C21.0032%203.41738%2021.1213%203.70259%2021.1213%203.99998C21.1213%204.29737%2021.0032%204.58259%2020.7929%204.79288L11.4888%2014.097L9.37437%2014.6256L9.90296%2012.5112L19.2071%203.20709Z'%20fill='%232D3648'/%3e%3cpath%20d='M4%203C3.20435%203%202.44129%203.31607%201.87868%203.87868C1.31607%204.44129%201%205.20435%201%206V20C1%2020.7957%201.31607%2021.5587%201.87868%2022.1213C2.44129%2022.6839%203.20435%2023%204%2023H18C18.7957%2023%2019.5587%2022.6839%2020.1213%2022.1213C20.6839%2021.5587%2021%2020.7957%2021%2020V13C21%2012.4477%2020.5523%2012%2020%2012C19.4477%2012%2019%2012.4477%2019%2013V20C19%2020.2652%2018.8946%2020.5196%2018.7071%2020.7071C18.5196%2020.8946%2018.2652%2021%2018%2021H4C3.73478%2021%203.48043%2020.8946%203.29289%2020.7071C3.10536%2020.5196%203%2020.2652%203%2020V6C3%205.73478%203.10536%205.48043%203.29289%205.29289C3.48043%205.10536%203.73478%205%204%205H11C11.5523%205%2012%204.55228%2012%204C12%203.44772%2011.5523%203%2011%203H4Z'%20fill='%232D3648'/%3e%3c/svg%3e";function C8({parcelDetails:t,addParcel:e,editParcel:n,deleteParcel:r}){const[i,s]=D.useState(!1),[o,c]=D.useState(!1),[u,d]=D.useState(""),[f,m]=D.useState(""),g=()=>{s(!i)},T=()=>{c(!o)};return a.jsxs("div",{className:"admin-body",children:[a.jsxs("div",{className:"AdminParcelSearchFrame",children:[a.jsx("img",{src:Wu,alt:"icon-search",className:"ParcelSearchIcon"}),a.jsx("input",{type:"text",className:"AdminParcelSearchInput",placeholder:"Search parcels",onChange:S=>m(S.target.value)}),a.jsx("button",{className:"AdminParcelSearchBtn",children:"Search"}),a.jsxs("div",{className:"AddParcelFrame",onClick:g,style:{cursor:"pointer",opacity:"90%"},children:[a.jsx("img",{src:x8,alt:"Plus Icon",className:"ParcelPlusIcon"}),a.jsx("p",{className:"AddParcelText",children:"Add new Parcel"})]}),a.jsx(j_,{visible:i,toggleVisible:g,addParcel:e,generateID:T_()})]}),a.jsx("div",{className:"AdminParcelTableFrame",children:a.jsx("table",{className:"AdminParcelTableContent",children:a.jsxs("tbody",{children:[a.jsxs("tr",{className:"AdminParcelHeader",children:[a.jsx("th",{children:" "}),a.jsx("th",{children:"TRACKING ID"}),a.jsx("th",{children:"WEIGHT"}),a.jsx("th",{children:"SIZE"}),a.jsx("th",{children:"PRICE"}),a.jsx("th",{children:"SHIPPER"}),a.jsx("th",{children:"COURIER"}),a.jsx("th",{children:"STATUS"})]}),t&&a.jsx(a.Fragment,{children:t.filter(S=>{const N=f.toLowerCase();return S.id.toLowerCase().includes(N)}).map(S=>a.jsxs("tr",{className:"AdminParcelTable",children:[a.jsxs("td",{children:[a.jsx("button",{className:"a-edit-parcel-button",onClick:()=>{T(),d(S.id)},children:a.jsx("img",{src:D_,alt:"edit",className:"ParcelEditIcon"})}),u===S.id&&a.jsx(R_,{visible:o,toggleVisible:T,parcelDetails:S,editParcel:n,deleteParcel:r})]}),a.jsx("td",{children:S.id}),a.jsxs("td",{children:[S.weight," kg"]}),a.jsxs("td",{children:[S.length,a.jsx("img",{src:ro,className:"x-icon",alt:""}),S.width,a.jsx("img",{src:ro,className:"x-icon",alt:""}),S.height," cm"]}),a.jsxs("td",{children:["",S.price]}),a.jsx("td",{children:S.shipper}),a.jsx("td",{children:S.courier}),a.jsx("td",{children:S.status})]},S.id))})]})})})]})}const T8=()=>{const[t,e]=D.useState([]),n=s=>{eI(s).then(o=>{e(o)})},r=(s,o)=>{S_(s,o).then(c=>{e(c)})},i=s=>{I_(s).then(o=>{e(o)})};return D.useEffect(()=>{Zi().then(s=>e(s))},[]),a.jsxs("div",{className:"admin-homepage",children:[a.jsx("div",{className:"AdminBodySideNavigation",children:a.jsx(l2,{})}),a.jsxs("div",{className:"AdminParcelBody",children:[a.jsx("p",{className:"ParcelAdminHeader",children:"Parcels - Admin View"}),a.jsx(C8,{parcelDetails:t,addParcel:n,editParcel:r,deleteParcel:i})]})]})};function S8({parcelDetails:t,editParcel:e,deleteParcel:n}){const[r,i]=D.useState(!1),[s,o]=D.useState(""),[c,u]=D.useState(""),d=()=>{i(!r)};function f(g){return{january:"01",february:"02",march:"03",april:"04",may:"05",june:"06",july:"07",august:"08",september:"09",october:"10",november:"11",december:"12"}[g.toLowerCase()]||g}function m(g){return g<10?"0"+g:g.toString()}return a.jsxs("div",{className:"admin-body",children:[a.jsxs("div",{className:"AdminTrackingSearchFrame",children:[a.jsx("img",{src:Wu,alt:"icon-search",className:"TrackingSearchIcon"}),a.jsx("input",{type:"text",className:"AdminTrackingSearchInput",placeholder:"Search parcels",onChange:g=>u(g.target.value)}),a.jsx("button",{className:"AdminTrackingSearchBtn",children:"Search"})]}),a.jsx("div",{className:"AdminTrackingTableFrame",children:a.jsx("table",{className:"AdminTrackingTableContent",children:a.jsxs("tbody",{children:[a.jsxs("tr",{className:"AdminTrackingHeader",children:[a.jsx("th",{children:" "}),a.jsx("th",{children:"TRACKING ID"}),a.jsx("th",{children:"SHIPPED OUT"}),a.jsx("th",{children:"DELIVERY DATE"}),a.jsx("th",{children:"DELIVERED FROM"}),a.jsx("th",{children:"DELIVERED TO"}),a.jsx("th",{children:"STATUS"})]}),t&&a.jsx(a.Fragment,{children:t.filter(g=>{const T=c.toLowerCase();return g.id.toLowerCase().includes(T)}).map(g=>a.jsxs("tr",{className:"AdminParcelTable",children:[a.jsxs("td",{children:[a.jsx("button",{className:"a-edit-parcel-button",onClick:()=>{d(),o(g.id)},children:a.jsx("img",{src:D_,alt:"edit",className:"ParcelEditIcon"})}),s===g.id&&a.jsx(R_,{visible:r,toggleVisible:d,parcelDetails:g,editParcel:e,deleteParcel:n})]}),a.jsx("td",{children:g.id}),a.jsxs("td",{children:[g.shippedYear,"/",f(g.shippedMonth),"/",m(g.shippedDay)]}),a.jsxs("td",{children:[g.deliveryYear,"/",f(g.deliveryMonth),"/",m(g.deliveryDay)]}),a.jsx("td",{children:g.deliveredFrom}),a.jsx("td",{children:g.deliveredTo}),a.jsx("td",{children:g.status})]},g.id))})]})})})]})}const I8=()=>{const[t,e]=D.useState([]),n=(i,s)=>{S_(i,s),e(t.map(o=>o.id===i?s:o))};D.useEffect(()=>{Zi().then(i=>e(i))},[]);const r=i=>{I_(i),e(t.filter(s=>s.id!==i))};return a.jsxs("div",{className:"admin-homepage",children:[a.jsx("div",{className:"AdminTrackingSideNavigation",children:a.jsx(l2,{})}),a.jsxs("div",{className:"AdminTrackingBody",children:[a.jsx("p",{className:"TrackingAdminHeader",children:"Tracking - Admin View"}),a.jsx(S8,{parcelDetails:t,editParcel:n,deleteParcel:r})]})]})},k8=B4([{path:"/track-n-go",element:a.jsx(CI,{})},{path:"/track-n-go/parceltrackerpage",element:a.jsx(qI,{})},{path:"/track-n-go/dashboardpage",element:a.jsx(n8,{})},{path:"/track-n-go/settingspage",element:a.jsx(o8,{})},{path:"/track-n-go/profilepage",element:a.jsx(h8,{})},{path:"/track-n-go/parcelhistorypage",element:a.jsx(g8,{})},{path:"/track-n-go/adminhomepage",element:a.jsx(E8,{})},{path:"/track-n-go/parcelsadmin",element:a.jsx(T8,{})},{path:"/track-n-go/trackingadmin",element:a.jsx(I8,{})}]);zd.createRoot(document.getElementById("root")).render(a.jsx(Ug.StrictMode,{children:a.jsx(Y4,{router:k8})}));
